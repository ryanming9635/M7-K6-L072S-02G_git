C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 1   


C51 COMPILER V8.16, COMPILATION OF MODULE OSDMENU
OBJECT MODULE PLACED IN .\Output\osdmenu.obj
COMPILER INVOKED BY: C:\Keil\C51\BIN\C51.EXE osdmenu.c COMPACT OPTIMIZE(9,SIZE) BROWSE INCDIR(.\Include\) DEBUG OBJECTEX
                    -TEND CODE LISTINCLUDE SYMBOLS PRINT(.\Source\osdmenu.lst) OBJECT(.\Output\osdmenu.obj)

line level    source

   1          // osdmenu.c
   2          
   3          #include "Config.h"
   1      =1  /*****************************************************************************/
   2      =1  /*                           System Configurations                           */
   3      =1  /*                                                      rev 0.10 include auto test                                               */
   4      =1  // 0.11 change DTV, PC input initial download data correct for Charge Pump
   5      =1  // 0.12 correct phase measurement routine '>>3'
   6      =1  // 0.13 enable function for SPI control... only EXT MCU case
   7      =1  // 0.14 corrected PC measurement......
   8      =1  // 0.0a test function only for CVBS, SVIDEO
   9      =1  // 0.15 corrected DTV scaler setting for panel resolutions
  10      =1  // 0.0b panel for AND 640x480 TICON panel
  11      =1  // 0.16 corrected COMPONENT scaler setting for panel resolutions        11/21/2007
  12      =1  // 0.0c automatic chip test
  13      =1  // 0.17 add monitor function, osd grid for writing grid
  14      =1  // 0.18 add component, dtv pc for analogpanel, 12/06/2007
  15      =1  // 0.19 correct pal input for CES, 12/20/2007
  16      =1  // 0.1a CCFL control, 12/28/2007
  17      =1  // 0.19 Multi Grid for Banking on Internal MCU  01/17/2008
  18      =1  // 0.20 CCFL contol for backlight brightness    01/21/2008
  19      =1  // 0.21 CCFL contol for backlight brightness    01/25/2008
  20      =1  // 0.22 phase setting 02/07/2008
  21      =1  // 0.221 display input correction 04/03/2008
  22      =1  // 0.23 PC, DTV mode, no signal display
  23      =1  // 0.24 PC Auto Color adjustment
  24      =1  // 0.25 revised PC Auto Clock adjustment - find divide number and phase
  25      =1  // 0.26 Digital RGB for TW8826
  26      =1  // 0.27 Correct LVDS control                                    08/22/2008
  27      =1  // 0.28 Add WSVGA resolution                                    10/23/2008
  28      =1  // 0.29 Add NEW GRID                                                    11/14/2008
  29      =1  // 0.30 Fix DTV input                                                   12/10/2008
  30      =1  // 0.31 Add 1080i23, 24, 25A, 25B                               01/20/2009
  31      =1  // 0.32 TCON setting FIX all mode                               01/22/2009
  32      =1  // 0.33 autodetect is auto on/off by dip sw1    02/02/2009
  33      =1  // 0.34 Fix autocolor function and clamp position 02/08/2009
  34      =1  /*****************************************************************************/
  35      =1  #ifndef __CONFIG_H__
  36      =1  #define __CONFIG_H__
  37      =1  
  38      =1  //#define INTERNAL_MCU -- defined by Project Compiler session
  39      =1  
  40      =1  
  41      =1  //-----------------------------------------------------------------------------
  42      =1  //              Firmware Version
  43      =1  //-----------------------------------------------------------------------------
  44      =1  #define FWVER                   0x140                   // Rev 0.14
  45      =1  //-----------------------------------------------------------------------------
  46      =1  //              Compiler
  47      =1  //-----------------------------------------------------------------------------
  48      =1  #define KEILC                                           // Keil C 5.0
  49      =1  //-----------------------------------------------------------------------------
  50      =1  //              MPU Clock
  51      =1  //-----------------------------------------------------------------------------
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 2   

  52      =1  #ifndef INTERNAL_MCU
  53      =1  //#define CLOCK_11M                                     // 11.0592MHz
  54      =1  #define CLOCK_22M                                       // 22.1184MHz
  55      =1  #else                                                           // INTERNAL_MCU
           =1 #define CLOCK_27M                                       // 27MHz
           =1 #define REG_START_ADDRESS       0xc000          // register start 0xc000, for page0, 0xc100-page1 
           =1 #endif
  59      =1  //-----------------------------------------------------------------------------
  60      =1  //              TW88 Version
  61      =1  //-----------------------------------------------------------------------------
  62      =1  #define TW8816
  63      =1  //-----------------------------------------------------------------------------
  64      =1  //              Options for Backlight control
  65      =1  //-----------------------------------------------------------------------------
  66      =1  //#define       BACKLIGHT_CCFL
  67      =1  //#define       BACKLIGHT_LED
  68      =1  #define BACKLIGHT_PWM
  69      =1  
  70      =1  //-----------------------------------------------------------------------------
  71      =1  //              Panel Resolution
  72      =1  //-----------------------------------------------------------------------------
  73      =1  // ---- Select Default Panel
  74      =1  //
  75      =1  //#define UXGA                                          // 1600 x 1200
  76      =1  //#define SXGA                                          // 1280 x 1024
  77      =1  //#define XGA  // 1024 x 768
  78      =1  #ifdef XGA
           =1         #define LVDS                                    
           =1         #define PWIDTH  1024
           =1         #define PHEIGHT 768
           =1 #endif
  83      =1  //#define SVGA                                          //  800 x 600
  84      =1  //#define VGA                                           //  640 x 480
  85      =1  #ifdef VGA
           =1         #define PWIDTH  640
           =1         #define PHEIGHT 480
           =1         //#define       HITACHI_640_B_160               //--> 640 x 160
           =1         #define AND_640_480
           =1 #endif
  91      =1  //#define WXGA                                          // 1280 x 768 (15:9) // 1366 x 768 (16:9)
  92      =1  #ifdef WXGA
           =1     //#define WX_SHARP_LQ106K1LA
           =1         #define PWIDTH  1280
           =1         #define PHEIGHT 768
           =1 #endif
  97      =1  //#define WSVGA                                         // 1024 x 600   *** only video mode
  98      =1  #ifdef WSVGA
           =1         #define PWIDTH  1024
           =1         #define PHEIGHT 600
           =1         #define UNIDEN_1024_600
           =1 #endif
 103      =1  #define WVGA                                            //  800 x 480
 104      =1  #ifdef WVGA
 105      =1          #define PWIDTH  800
 106      =1          #define PHEIGHT 600//480
 107      =1          // If WVGA, you have to select panel.
 108      =1          //#define AU_10INCH
 109      =1          //#define WVGA_TPO
 110      =1          //#define SAMSUNG_10INCH
 111      =1          //#define SAMSUNG_TICONLESS_10INCH
 112      =1          //#define SHARP_TICONLESS_7INCH
 113      =1          #define AU_TICONLESS_7INCH
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 3   

 114      =1          //#define INNOLUX_AT080TN03
 115      =1          //#define AU_TICONLESS_7INCH_CCFL
 116      =1          //#define CMO                   // CHIMEI panel
 117      =1          //#define AU_TICONLESS_10INCH
 118      =1          //#define HITACHI_T01
 119      =1          //#define HITACHI_TX23D12
 120      =1          //#define HITACHI_TX18D24
 121      =1          //#define HITACHI_TX18D16
 122      =1          //#define TMD_LTA070A320F
 123      =1          //#define TMD_LTA080B
 124      =1  #endif  //WVGA
 125      =1  //#define HVGA                                          //  480 x 320
 126      =1  //#define QVGA                                          //  320 x 240   *** only video mode
 127      =1  #ifdef QVGA
           =1         #define PWIDTH  320
           =1         #define PHEIGHT 240
           =1         //#define HITACHI_TX09D73
           =1         //#define AU_DELTARGB
           =1         //#define SHARP_LQ050Q5DR01
           =1         //#define SHARP_LQ035
           =1         //#define       TMD
           =1 #endif
 136      =1  
 137      =1  //#define WQVGA                                         //  480 x 234   *** only video mode
 138      =1  #ifdef WQVGA
           =1         #define PWIDTH  480
           =1         #define PHEIGHT 240
           =1         // If WQVGA, you have to select panel   
           =1     #define ANALOG_7INCH
           =1         //#define       PWIDTH  400
           =1         //#define PHEIGHT       240
           =1         //#define SHARP_LQ043T3DX02             //  400 x 237
           =1         //#define LG_ANALOG
           =1         //#define TMD_ANALOG                            //TMD_LTA05B352A
           =1         //#define       T_51945GD                               // Optorex Panel
           =1 #endif  // WQVGA
 150      =1  
 151      =1  //if LVDS pannel disable TICONLESS
 152      =1  
 153      =1  //-----------------------------------------------------------------------------
 154      =1  //---- Add Support One more panel with DIPSW#1
 155      =1  //---- Ex. Add Analog AU 7" Panel with Default Panel for evalution
 156      =1  //#define ADD_ANALOGPANEL               // Added Analog panel(AU7") from default set panel(expect WQVGA) with DIP #1 sw
             -itch.(DIP#1=L:ANALOG, H:DEFAULT)
 157      =1                                                          // It can't support WQVGA and ADD_ANALOGPANEL same time!!
 158      =1          //#define ADD_ANALOG_7INCH
 159      =1          //#define ADD_TMD_LTA05B352A
 160      =1                                                                          
 161      =1  //---- Support Wide panel function
 162      =1  #if (defined WXGA) || (defined WSVGA) || (defined WVGA) || (defined WQVGA)
 163      =1  #define WIDE_SCREEN                             // Can support 4 display mode, i.e. Normal, Wide, Full, Zoom
 164      =1  #endif                                                          // Tested panasonic WVGA panel.
 165      =1  
 166      =1  //-----------------------------------------------------------------------------
 167      =1  //              Panel Vendor Specific
 168      =1  //-----------------------------------------------------------------------------
 169      =1  
 170      =1  //-----------------------------------------------------------------------------
 171      =1  //              TV Tuner
 172      =1  //-----------------------------------------------------------------------------
 173      =1  #define PHILIPS                         0
 174      =1  #define ALPS                            1               // ALPS, LG
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 4   

 175      =1  #define TEMIC                           2
 176      =1  #define TVAVA                           3
 177      =1  #define LGTUNER                         4
 178      =1  #define SAMSUNGMUTITUNER        5
 179      =1  
 180      =1  #define TVTunerDevice           4
 181      =1  //-----------------------------------------------------------------------------
 182      =1  //              IR Remote Controller Type
 183      =1  //-----------------------------------------------------------------------------
 184      =1  //#define REMO_RC5                                      // RC5 style
 185      =1  #define TECHWELL_REMOCON
 186      =1  //#define REMO_NEC                                      // NEC style
 187      =1  //#define PHILIPS_REMOCON // New remocon 
 188      =1  
 189      =1  
 190      =1  //-----------------------------------------------------------------------------
 191      =1  //              I2C Device Access Address Mapping
 192      =1  //-----------------------------------------------------------------------------
 193      =1  
 194      =1  #define EEPROMI2CAddress        0xa0    // EEPROM (24C16)
 195      =1  #define TW88I2CAddress          0x8a    // TW880x
 196      =1  
 197      =1  #define MSPI2CAddress           0x80    // MSP
 198      =1  
 199      =1  //-----------------------------------------------------------------------------
 200      =1  //              Options for Possible Inputs
 201      =1  //-----------------------------------------------------------------------------
 202      =1  #define         AWT
 203      =1  //#define       E_Wintek 
 204      =1  //#define SUPPORT_SVIDEO                     //andy Awt 20090914
 205      =1  //#define SUPPORT_COMPONENT                     // support component analog to decoder//andy Awt 20090914
 206      =1  
 207      =1  //#define SUPPORT_DTV                           // support DTV input through component( to ADC ).//andy Awt 20090914
 208      =1  #define SUPPORT_PC                              // support PC function
 209      =1  //#define SUPPORT_DVI                           // support DVI input
 210      =1  #define SUPPORT_SDCARD
 211      =1  
 212      =1  //#define SUPPORT_RS485
 213      =1  
 214      =1  //-----------------------------------------------------------------------------
 215      =1  //              Options for Possible Standards
 216      =1  //              Default:NTSC
 217      =1  //-----------------------------------------------------------------------------
 218      =1  #define SUPPORT_PAL                     
 219      =1  #define SUPPORT_SECAM
 220      =1  #define SUPPORT_NTSC4           
 221      =1  #define SUPPORT_PALM    
 222      =1  #define SUPPORT_PALN            
 223      =1  #define SUPPORT_PAL60           
 224      =1  
 225      =1  
 226      =1  //#define ID_CHECK_BY_FW                        // in Video mode, check input system ID by firmware
 227      =1  
 228      =1  //-----------------------------------------------------------------------------
 229      =1  //              Options for Debugging/Release
 230      =1  //-----------------------------------------------------------------------------
 231      =1  //#define SUPPORT_PATTERN                       // support LCD test pattern
 232      =1  
 233      =1  
 234      =1  #ifndef WQVGA
 235      =1          #ifndef QVGA
 236      =1  #define SUPPORT_OSDPOSITIONMOVE
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 5   

 237      =1          #endif
 238      =1  #endif
 239      =1  
 240      =1  #define SERIAL                                  // include serial communication routines
 241      =1  
 242      =1  //#define SUPPORT_DEBUG                         // Support to use Read & Write in debug OSD Window by remocon.
 243      =1  
 244      =1  //#define DEBUG                                         // include debug information
 245      =1  #ifdef DEBUG
           =1         //#define DEBUG_MAIN
           =1         //#define DEBUG_TIME
           =1         //#define DEBUG_KEYREMO
           =1         //#define DEBUG_TW88
           =1         //#define DEBUG_DECODER
           =1         //#define DEBUG_I2C
           =1         //#define DEBUG_EEP
           =1         //#define DEBUG_OSD
           =1         //#define DEBUG_AUDIO
           =1         //#define DEBUG_SETPANEL
           =1         //#define DEBUG_DTV
           =1         #define DEBUG_PC
           =1         //#define DEBUG_PC_MEAS
           =1         #define DEBUG_PC_COLOR
           =1         //#define DEBUG_COMPONENT
           =1         //#define DEBUG_BANK
           =1         //#define DEBUG_PAUSE
           =1         //#define DEBUG_MCU
           =1 #endif
 265      =1  
 266      =1  #define AUTOCALC_PC                                     // in PC mode, Enable Auto Calcuration
 267      =1  //#define SUPPORT_USERCOLORFROMTXT      // Use color setting of text file in Color mode=USER MODE which is as B
             -rightness(Reg10), Contast(Reg11),
 268      =1                                                                          //    Sat_U(Reg13),Sat_V(Reg14),Sharpness(Reg12,Reg78)                                                                  
 269      =1  //#define SUPPORT_GAMMA
 270      =1  
 271      =1  //#define CHIP_MANUAL_TEST                      // DIPSW#1
 272      =1  
 273      =1  #ifndef INTERNAL_MCU
 274      =1  //#define NO_INITIALIZE                         // After Power switch turn on with DIP SW4 Enable(Low), or pressed MENU button 
             -for internal MCU
 275      =1                                      //     micom works to access only I2C bus by serial command.
 276      =1  #endif
 277      =1  
 278      =1  //#define SUPPORT_KRS_OSDDEMO           // For KRS Company Demo 
 279      =1  //#define SUPPORT_LINE_OSDDEMO
 280      =1  
 281      =1  //-----------------------------------------------------------------------------
 282      =1  //              Special Features
 283      =1  //-----------------------------------------------------------------------------
 284      =1  
 285      =1  #ifndef INTERNAL_MCU
 286      =1  //#define       SUPPORT_DELTA_RGB
 287      =1  #endif
 288      =1  #define SUPPORT_SELECTKEY                       // choose the keymap of using select key or left,right key.
 289      =1  //-----------------------------------------------------------------------------
 290      =1  #endif  //__CONFIG_H__
   4          #include "typedefs.h"
   1      =1  #ifndef __TYPEDEFS__
   2      =1  #define __TYPEDEFS__
   3      =1  
   4      =1  
   5      =1  #define DATA            data
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 6   

   6      =1  #define PDATA           pdata
   7      =1  #define IDATA           data
   8      =1  #define CODE            code
   9      =1  #define CODE_P
  10      =1  #define PDATA_P
  11      =1  #define IDATA_P
  12      =1  #define DATA_P
  13      =1  
  14      =1  #define INTERRUPT( num, name ) name() interrupt num
  15      =1  
  16      =1  #define _between(x, a, b)       (a<=x && x<=b)
  17      =1  #define _swap(a, b)                     { a^=b; b^=a; a^=b; }
  18      =1  
  19      =1  typedef unsigned char   Register;
  20      =1  typedef unsigned char   BYTE;
  21      =1  typedef unsigned short  WORD;
  22      =1  typedef unsigned long   DWORD;
  23      =1  
  24      =1  #define TRUE    1
  25      =1  #define FALSE   0
  26      =1  
  27      =1  //VInputStdDetectMode
  28      =1  #define AUTO    0
  29      =1  
  30      =1  //VInputStd
  31      =1  #define NTSC    1                       
  32      =1  #define PAL             2
  33      =1  #define SECAM   3
  34      =1  #define NTSC4   4
  35      =1  #define PALM    5
  36      =1  #define PALN    6
  37      =1  #define PAL60   7
  38      =1  
  39      =1  #define MAXINPUTSTD     PAL60+1 // 
  40      =1  
  41      =1  #define UNKNOWN 0xfe
  42      =1  #define NOINPUT 0       //0xff
  43      =1  
  44      =1  
  45      =1  
  46      =1  
  47      =1  #define NIL                     0xff
  48      =1  
  49      =1  enum SourceModeTypeEnum
  50      =1  {       
  51      =1          AVMode,            // 0
  52      =1          VGAMode,       // 1
  53      =1          CAM_D,         // 2
  54      =1          CAM_A,         // 3
  55      =1          CAM_B,         // 4
  56      =1          CAM_C,         // 5
  57      =1          CAM_R,         // 6
  58      =1          CAM_AB,        // 7
  59      =1          CAM_CR,        // 8
  60      =1          CAM_AR,        // 9
  61      =1          CAM_RB,        // 10
  62      =1          CAM_AC,        // 11
  63      =1          CAM_CB,        // 12
  64      =1          CAM_RAB_T,     // 13
  65      =1          CAM_RAB_H,     // 14
  66      =1  
  67      =1          CAM_QUAD,      // 15
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 7   

  68      =1          CAM_ABR_T3,    // 16
  69      =1          CAM_ABR_T4,    // 17
  70      =1          SEQ,           // 18
  71      =1          CAM_BA,                 //19
  72      =1          
  73      =1          CAM_BC,
  74      =1          CAM_BR,
  75      =1          CAM_CA,
  76      =1          CAM_ABC,
  77      =1          CAM_ABR,
  78      =1          CAM_ACR,
  79      =1          CAM_BAC,
  80      =1          CAM_BAR,
  81      =1          CAM_BCR,
  82      =1          CAM_CAB,
  83      =1          CAM_CAR,
  84      =1          CAM_CBR,        
  85      =1          CAM_NUM
  86      =1  };
  87      =1  
  88      =1  typedef unsigned char SourceModeType;
  89      =1  
  90      =1  #endif  /* __TYPEDEFS__ */
   5          #include "Reg.h"
   1      =1  //
   2      =1  //Registers.h   : Register declaration
   3      =1  //
   4      =1  
   5      =1  #ifndef __REGISTERS__
   6      =1  #define __REGISTERS__
   7      =1  
   8      =1  #ifdef INTERNAL_MCU
           =1 /*  BYTE Registers  */
           =1 sfr P0    = 0x80;
           =1 sfr P1    = 0x90;
           =1 sfr P2    = 0xA0;
           =1 sfr P3    = 0xB0;
           =1 sfr PSW   = 0xD0;
           =1 sfr ACC   = 0xE0;
           =1 sfr B     = 0xF0;
           =1 sfr SP    = 0x81;
           =1 sfr DPL   = 0x82;
           =1 sfr DPH   = 0x83;
           =1 sfr PCON  = 0x87;
           =1 sfr TCON  = 0x88;
           =1 sfr TMOD  = 0x89;
           =1 sfr TL0   = 0x8A;
           =1 sfr TL1   = 0x8B;
           =1 sfr TH0   = 0x8C;
           =1 sfr TH1   = 0x8D;
           =1 sfr IE    = 0xA8;
           =1 sfr IP    = 0xB8;
           =1 sfr SCON  = 0x98;
           =1 sfr SBUF  = 0x99;
           =1 
           =1 //sfr P4    = 0xd8;
           =1 
           =1 /*  8052 Extensions  */
           =1 sfr EXIF  = 0x91;               // external interrupt 2,3,4,5 flags should be cleared by software
           =1 sfr T2CON = 0xC8;
           =1 sfr RCAP2L = 0xCA;
           =1 sfr RCAP2H = 0xCB;
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 8   

           =1 sfr TL2   = 0xCC;
           =1 sfr TH2   = 0xCD;
           =1 sfr EICON = 0xD8;
           =1 sfr EIE   = 0xE8;
           =1 sfr EIP   = 0xF8;
           =1 
           =1 /*      TW88 Core Extension */
           =1 sfr     BANKREG         = 0x9A;
           =1 sfr     SPICONTROL      = 0x9B;
           =1 sfr     T0HIGH          = 0x9C;
           =1 sfr     T0LOW           = 0x9D;
           =1 sfr     T1HIGH          = 0x9E;
           =1 sfr     T1LOW           = 0x9F;
           =1 sfr     T2HIGH          = 0x93;
           =1 sfr     T2LOW           = 0x94;
           =1 
           =1 /*  BIT Registers  */
           =1 /*  PSW  */
           =1 sbit CY    = 0xD7;
           =1 sbit AC    = 0xD6;
           =1 sbit F0    = 0xD5;
           =1 sbit RS1   = 0xD4;
           =1 sbit RS0   = 0xD3;
           =1 sbit OV    = 0xD2;
           =1 sbit P     = 0xD0;
           =1 
           =1 /*  TCON  */
           =1 sbit TF1   = 0x8F;
           =1 sbit TR1   = 0x8E;
           =1 sbit TF0   = 0x8D;
           =1 sbit TR0   = 0x8C;
           =1 sbit IE1   = 0x8B;
           =1 sbit IT1   = 0x8A;
           =1 sbit IE0   = 0x89;
           =1 sbit IT0   = 0x88;
           =1 
           =1 /*  IE  */
           =1 sbit EA    = 0xAF;
           =1 sbit ES    = 0xAC;
           =1 sbit ET1   = 0xAB;
           =1 sbit EX1   = 0xAA;
           =1 sbit ET0   = 0xA9;
           =1 sbit EX0   = 0xA8;
           =1 
           =1 /*  EIE  */
           =1 sbit EWDI  = 0xEC;              // Watch dog timer interrupt enable
           =1 sbit EX5   = 0xEB;              // external interrupt 5 enable
           =1 sbit EX4   = 0xEA;              // external interrupt 4 enable
           =1 sbit EX3   = 0xE9;              // external interrupt 3 enable
           =1 sbit EX2   = 0xE8;              // external interrupt 2 enable
           =1 
           =1 /*  IP  */
           =1 sbit PS    = 0xBC;
           =1 sbit PT1   = 0xBB;
           =1 sbit PX1   = 0xBA;
           =1 sbit PT0   = 0xB9;
           =1 sbit PX0   = 0xB8;
           =1 
           =1 /*  EIP  */
           =1 sbit PWDI  = 0xFC;              // Watch dog timer interrupt priority
           =1 sbit PX5   = 0xFB;              // external interrupt5 priority
           =1 sbit PX4   = 0xFA;              // external interrupt4 priority
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 9   

           =1 sbit PX3   = 0xF9;              // external interrupt3 priority
           =1 sbit PX2   = 0xF8;              // external interrupt2 priority
           =1 
           =1 /*  P3  */
           =1 sbit RD    = 0xB7;
           =1 sbit WR    = 0xB6;
           =1 sbit T1    = 0xB5;
           =1 sbit T0    = 0xB4;
           =1 sbit INT1  = 0xB3;
           =1 sbit INT0  = 0xB2;
           =1 sbit TXD   = 0xB1;
           =1 sbit RXD   = 0xB0;
           =1 
           =1 /*  SCON  */
           =1 sbit SM0   = 0x9F;
           =1 sbit SM1   = 0x9E;
           =1 sbit SM2   = 0x9D;
           =1 sbit REN   = 0x9C;
           =1 sbit TB8   = 0x9B;
           =1 sbit RB8   = 0x9A;
           =1 sbit TI    = 0x99;
           =1 sbit RI    = 0x98;
           =1 
           =1 /*  8052 Extensions  */
           =1 /*  IE  */
           =1 sbit ET2   = 0xAD;
           =1 
           =1 /*  IP  */
           =1 sbit PT2   = 0xBD;
           =1 
           =1 /*  P1  */
           =1 sbit T2EX  = 0x91;
           =1 sbit T2    = 0x90;
           =1              
           =1 /*  T2CON  */
           =1 sbit TF2   = 0xCF;
           =1 sbit EXF2  = 0xCE;
           =1 sbit RCLK  = 0xCD;
           =1 sbit TCLK  = 0xCC;
           =1 sbit EXEN2 = 0xCB;
           =1 sbit TR2   = 0xCA;
           =1 sbit C_T2  = 0xC9;
           =1 sbit CP_RL2= 0xC8;
           =1 
           =1 sfr     CHPENR = 0xF6;
           =1 sfr     CHPCON = 0xBF;
           =1 sfr     SFRAL  = 0xC4;
           =1 sfr     SFRAH  = 0xC5;
           =1 sfr     SFRFD  = 0xC6;
           =1 sfr     SFRCN  = 0xC7;
           =1 
           =1 sbit P0_0  = 0x80;
           =1 sbit P0_1  = 0x81;
           =1 sbit P0_2  = 0x82;
           =1 sbit P0_3  = 0x83;
           =1 sbit P0_4  = 0x84;
           =1 sbit P0_5  = 0x85;
           =1 sbit P0_6  = 0x86;
           =1 sbit P0_7  = 0x87;
           =1 
           =1 sbit P1_0  = 0x90;
           =1 sbit P1_1  = 0x91;
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 10  

           =1 sbit P1_2  = 0x92;
           =1 sbit P1_3  = 0x93;
           =1 sbit P1_4  = 0x94;
           =1 sbit P1_5  = 0x95;
           =1 sbit P1_6  = 0x96;
           =1 sbit P1_7  = 0x97;
           =1 
           =1 sbit P2_0  = 0xa0;
           =1 sbit P2_1  = 0xa1;
           =1 sbit P2_2  = 0xa2;
           =1 sbit P2_3  = 0xa3;
           =1 sbit P2_4  = 0xa4;
           =1 sbit P2_5  = 0xa5;
           =1 sbit P2_6  = 0xa6;
           =1 sbit P2_7  = 0xa7;
           =1 
           =1 sbit P3_0  = 0xb0;
           =1 sbit P3_1  = 0xb1;
           =1 sbit P3_2  = 0xb2;
           =1 sbit P3_3  = 0xb3;
           =1 sbit P3_4  = 0xb4;
           =1 sbit P3_5  = 0xb5;
           =1 sbit P3_6  = 0xb6;
           =1 sbit P3_7  = 0xb7;
           =1 
           =1 #else   // external MCU=WINBOND
 189      =1  /*  BYTE Registers  */
 190      =1  sfr P0    = 0x80;
 191      =1  sfr P1    = 0x90;
 192      =1  sfr P2    = 0xA0;
 193      =1  sfr P3    = 0xB0;
 194      =1  sfr PSW   = 0xD0;
 195      =1  sfr ACC   = 0xE0;
 196      =1  sfr B     = 0xF0;
 197      =1  sfr SP    = 0x81;
 198      =1  sfr DPL   = 0x82;
 199      =1  sfr DPH   = 0x83;
 200      =1  sfr PCON  = 0x87;
 201      =1  sfr TCON  = 0x88;
 202      =1  sfr TMOD  = 0x89;
 203      =1  sfr TL0   = 0x8A;
 204      =1  sfr TL1   = 0x8B;
 205      =1  sfr TH0   = 0x8C;
 206      =1  sfr TH1   = 0x8D;
 207      =1  sfr CKCON = 0x8E;               //clock control register, default =0x01
 208      =1  sfr IE    = 0xA8;
 209      =1  sfr IP    = 0xB8;
 210      =1  sfr SCON  = 0x98;
 211      =1  sfr SBUF  = 0x99;
 212      =1  sfr P4 = 0xE8; //Megawin Ryan@970716
 213      =1  //sfr P4    = 0xa5;      //SST MCU
 214      =1  //sfr P4    = 0xd8;             //winbond<960820>
 215      =1  
 216      =1  
 217      =1  /*  8052 Extensions  */
 218      =1  sfr T2CON = 0xC8;
 219      =1  sfr RCAP2L = 0xCA;
 220      =1  sfr RCAP2H = 0xCB;
 221      =1  sfr TL2   = 0xCC;
 222      =1  sfr TH2   = 0xCD;
 223      =1  
 224      =1  // for UART2
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 11  

 225      =1  sfr S2CON  = 0xAA;
 226      =1  sfr S2BRT  = 0xBA;
 227      =1  sfr S2BUF  = 0x9A;
 228      =1  sfr AUXR2  = 0xA6;
 229      =1  sfr AUXIE  = 0xAD;
 230      =1  
 231      =1  
 232      =1  sfr P1M0  = 0x91;
 233      =1  sfr P1M1  = 0x92;
 234      =1  sfr P0M0  = 0x93;
 235      =1  sfr P0M1  = 0x94;
 236      =1  
 237      =1  
 238      =1  
 239      =1  // for PCA
 240      =1  sfr CCON   = 0xD8;
 241      =1  sfr CMOD   = 0xD9;
 242      =1  sfr CCAPM0 = 0xDA;
 243      =1  sfr CCAPM1 = 0xDB;
 244      =1  sfr CCAPM2 = 0xDC;
 245      =1  sfr CCAPM3 = 0xDD;
 246      =1  sfr CCAPM4 = 0xDE;
 247      =1  sfr CCAPM5 = 0xDF;
 248      =1  sfr CL     = 0xE9;
 249      =1  sfr CH     = 0xF9;
 250      =1  sfr CCAP0L = 0xEA;
 251      =1  sfr CCAP0H = 0xFA;
 252      =1  sfr CCAP1L = 0xEB;
 253      =1  sfr CCAP1H = 0xFB;
 254      =1  sfr CCAP2L = 0xEC;
 255      =1  sfr CCAP2H = 0xFC;
 256      =1  sfr CCAP3L = 0xED;
 257      =1  sfr CCAP3H = 0xFD;
 258      =1  sfr CCAP4L = 0xEE;
 259      =1  sfr CCAP4H = 0xFE;
 260      =1  sfr CCAP5L = 0xEF;
 261      =1  sfr CCAP5H = 0xFF;
 262      =1  sfr PCAPWM0= 0xF2;
 263      =1  sfr PCAPWM1= 0xF3;
 264      =1  sfr PCAPWM2= 0xF4;
 265      =1  sfr PCAPWM3= 0xF5;
 266      =1  sfr PCAPWM4= 0xF6;
 267      =1  sfr PCAPWM5= 0xF7;
 268      =1  
 269      =1  /*  BIT Registers  */
 270      =1  /*  PSW  */
 271      =1  sbit CY    = 0xD7;
 272      =1  sbit AC    = 0xD6;
 273      =1  sbit F0    = 0xD5;
 274      =1  sbit RS1   = 0xD4;
 275      =1  sbit RS0   = 0xD3;
 276      =1  sbit OV    = 0xD2;
 277      =1  sbit P     = 0xD0;
 278      =1  
 279      =1  /*  TCON  */
 280      =1  sbit TF1   = 0x8F;
 281      =1  sbit TR1   = 0x8E;
 282      =1  sbit TF0   = 0x8D;
 283      =1  sbit TR0   = 0x8C;
 284      =1  sbit IE1   = 0x8B;
 285      =1  sbit IT1   = 0x8A;
 286      =1  sbit IE0   = 0x89;
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 12  

 287      =1  sbit IT0   = 0x88;
 288      =1  
 289      =1  /*  IE  */
 290      =1  sbit EA    = 0xAF;
 291      =1  sbit ES    = 0xAC;
 292      =1  sbit ET1   = 0xAB;
 293      =1  sbit EX1   = 0xAA;
 294      =1  sbit ET0   = 0xA9;
 295      =1  sbit EX0   = 0xA8;
 296      =1  
 297      =1  /*  IP  */
 298      =1  sbit PS    = 0xBC;
 299      =1  sbit PT1   = 0xBB;
 300      =1  sbit PX1   = 0xBA;
 301      =1  sbit PT0   = 0xB9;
 302      =1  sbit PX0   = 0xB8;
 303      =1  
 304      =1  /*  P3  */
 305      =1  sbit RD    = 0xB7;
 306      =1  sbit WR    = 0xB6;
 307      =1  sbit T1    = 0xB5;
 308      =1  sbit T0    = 0xB4;
 309      =1  sbit INT1  = 0xB3;
 310      =1  sbit INT0  = 0xB2;
 311      =1  sbit TXD   = 0xB1;
 312      =1  sbit RXD   = 0xB0;
 313      =1  
 314      =1  /*  SCON  */
 315      =1  sbit SM0   = 0x9F;
 316      =1  sbit SM1   = 0x9E;
 317      =1  sbit SM2   = 0x9D;
 318      =1  sbit REN   = 0x9C;
 319      =1  sbit TB8   = 0x9B;
 320      =1  sbit RB8   = 0x9A;
 321      =1  sbit TI    = 0x99;
 322      =1  sbit RI    = 0x98;
 323      =1  
 324      =1  /*  8052 Extensions  */
 325      =1  /*  IE  */
 326      =1  sbit ET2   = 0xAD;
 327      =1  
 328      =1  /*  IP  */
 329      =1  sbit PT2   = 0xBD;
 330      =1  
 331      =1  /*  P1  */
 332      =1  sbit T2EX  = 0x91;
 333      =1  sbit T2    = 0x90;
 334      =1               
 335      =1  /*  T2CON  */
 336      =1  sbit TF2   = 0xCF;
 337      =1  sbit EXF2  = 0xCE;
 338      =1  sbit RCLK  = 0xCD;
 339      =1  sbit TCLK  = 0xCC;
 340      =1  sbit EXEN2 = 0xCB;
 341      =1  sbit TR2   = 0xCA;
 342      =1  sbit C_T2  = 0xC9;
 343      =1  sbit CP_RL2= 0xC8;
 344      =1  
 345      =1  sfr     CHPENR = 0xF6;
 346      =1  sfr     CHPCON = 0xBF;
 347      =1  sfr     SFRAL  = 0xC4;
 348      =1  sfr     SFRAH  = 0xC5;
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 13  

 349      =1  sfr     SFRFD  = 0xC6;
 350      =1  sfr     SFRCN  = 0xC7;
 351      =1  
 352      =1  sbit P0_0  = 0x80;
 353      =1  sbit P0_1  = 0x81;
 354      =1  sbit P0_2  = 0x82;
 355      =1  sbit P0_3  = 0x83;
 356      =1  sbit P0_4  = 0x84;
 357      =1  sbit P0_5  = 0x85;
 358      =1  sbit P0_6  = 0x86;
 359      =1  sbit P0_7  = 0x87;
 360      =1  
 361      =1  sbit P1_0  = 0x90;
 362      =1  sbit P1_1  = 0x91;
 363      =1  sbit P1_2  = 0x92;
 364      =1  sbit P1_3  = 0x93;
 365      =1  sbit P1_4  = 0x94;
 366      =1  sbit P1_5  = 0x95;
 367      =1  sbit P1_6  = 0x96;
 368      =1  sbit P1_7  = 0x97;
 369      =1  
 370      =1  sbit P2_0  = 0xa0;
 371      =1  sbit P2_1  = 0xa1;
 372      =1  sbit P2_2  = 0xa2;
 373      =1  sbit P2_3  = 0xa3;
 374      =1  sbit P2_4  = 0xa4;
 375      =1  sbit P2_5  = 0xa5;
 376      =1  sbit P2_6  = 0xa6;
 377      =1  sbit P2_7  = 0xa7;
 378      =1  
 379      =1  sbit P3_0  = 0xb0;
 380      =1  sbit P3_1  = 0xb1;
 381      =1  sbit P3_2  = 0xb2;
 382      =1  sbit P3_3  = 0xb3;
 383      =1  sbit P3_4  = 0xb4;
 384      =1  sbit P3_5  = 0xb5;
 385      =1  sbit P3_6  = 0xb6;
 386      =1  sbit P3_7  = 0xb7;
 387      =1  
 388      =1  sbit P4_0  = P4^0;
 389      =1  sbit P4_1  = P4^1;
 390      =1  sbit INT3  = P4^2;
 391      =1  sbit INT2  = P4^3;
 392      =1  #endif  // INTERNAL_MCU
 393      =1  
 394      =1  #endif  //__REGISTERS__
   6          #include "main.h"
   1      =1  #ifndef __MAIN__
   2      =1  #define __MAIN__
   3      =1  
   4      =1  #define ON                                      1
   5      =1  #define OFF                                     0
   6      =1  //#define Hs_debug
   7      =1  //#define       DVR
   8      =1  
   9      =1  //================= DIP SW Definition =========================================
  10      =1  ///#define PIXEL_SINGLE         P0_0
  11      =1  #define DIP_PANEL_SWITCH        P0_0    // Samsung(0) // Sharp-Noticon(1)
  12      =1  #define DIP_AUTO_DETECT         P0_1
  13      =1  #define DIP_EDGE_ENHANCE        P0_2
  14      =1  #define DIP_BW_STRETCH          P0_3
  15      =1  
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 14  

  16      =1  #define Panel_Enable()          P4=P4|0x08 //andy 980908
  17      =1  #define Panel_Disable()                 P4=P4&0xf7
  18      =1  
  19      =1  #define SetBacklight()      P4=P4|0x04
  20      =1  #define clrBacklight()      P4=P4&0xfb
  21      =1  
  22      =1  
  23      =1  //InputSelection
  24      =1  struct struct_IdName {
  25      =1          BYTE    Id;
  26      =1          BYTE    Name[16];
  27      =1  };
  28      =1  
  29      =1  #define CH_TW2835              1
  30      =1  #define CH_CAMD                2
  31      =1  #define CH_AV                  3
  32      =1  #define PC                                         7
  33      =1  #define ChineseDefaultMenu   8
  34      =1  
  35      =1  #define SVIDEO                          2
  36      =1  #define COMPONENT                       3
  37      =1  //#define ANALOGDTV                     4
  38      =1  #define DTV                                     4
  39      =1  #define TV                                      5
  40      =1  #define SCART                           6
  41      =1  
  42      =1  #define DIGITALVGA                      8
  43      =1  
  44      =1  #define AIRTV                           0 //9
  45      =1  #define CABLETV                         1 //0xa
  46      =1  
  47      =1  
  48      =1  #define TVTUNER                         0xd             //10
  49      =1  #define MUTE                            1       
  50      =1  #define MENU                            2       
  51      =1  #define TVVOL                           4       
  52      =1  #define CC                                      8       
  53      =1  #define INPUTINFO                       0x10
  54      =1  #define PCINFO                          0x20
  55      =1  #define GAUGEINFO           0x40
  56      =1  //#define RATINGINFO                    0x40
  57      =1  #define TVCHN                           0x80
  58      =1  //#define MUTE                          0x40
  59      =1  
  60      =1  #define YPBPR_480i                      0
  61      =1  #define YPBPR_576i                      1
  62      =1  #define YPBPR_480p                      2
  63      =1  #define YPBPR_576p                      3
  64      =1  #define YPBPR_1080i                     4
  65      =1  #define YPBPR_720p                      5
  66      =1  #define YPBPR_720p50            6
  67      =1  
  68      =1  
  69      =1  //--------------------------- P0 Define -----------------------------
  70      =1  #define SEL_MIX                 P0_6    // 
  71      =1  //--------------------------- P1 Define -----------------------------
  72      =1  #define SEL_DVI                 P3_5    //LJY062001             
  73      =1  
  74      =1  #define TW88HWReset                     P3_4    //LJY001010 //LJY000721
  75      =1  #define PowerUp             P1_4
  76      =1  //======================= CDS Control ================================= 
  77      =1  #define CDS_CTRL           P1_5
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 15  

  78      =1  extern BYTE     SelectModeType;
  79      =1  extern BYTE InputSelection;
  80      =1  extern BYTE SEQTime;
  81      =1  extern BYTE     Priority;
  82      =1  extern BYTE AutoDayNight;
  83      =1  extern BYTE PowerFlag;
  84      =1  
  85      =1  BYTE keyIn(void);
  86      =1  void TimerForRemocon(void);
  87      =1  void TimerForTick(void);
  88      =1  void DisableRemoconInt(void);
  89      =1  BYTE SetSupport_remocon(BYTE newd);
  90      =1  
  91      =1  void delay(BYTE cnt);
  92      =1  
  93      =1  BYTE RS_ready(void);
  94      =1  BYTE RS_rx(void);
  95      =1  void RS_tx(BYTE tx_buf);
  96      =1  
  97      =1  BYTE RS2_rx(void);
  98      =1  void RS2_tx(BYTE tx_buf);
  99      =1  
 100      =1  void NewLine(void);
 101      =1  void PutsP(PDATA_P BYTE *ptr);
 102      =1  #ifdef Hs_debug
           =1 void MonWriteI2C(BYTE addr, BYTE index, BYTE val);
           =1 BYTE MonReadI2C(BYTE addr, BYTE index);
           =1 #endif
 106      =1  BYTE Asc1Bin(BYTE asc);
 107      =1  BYTE Asc2Bin(PDATA_P BYTE *s);
 108      =1  
 109      =1  void I2CDeviceInitialize( CODE_P BYTE *RegSet);
 110      =1  
 111      =1  //void RestartSystemClock(WORD clock_hm);
 112      =1  WORD GetTime_ms(void);
 113      =1  BYTE GetTime_H(void);
 114      =1  BYTE GetTime_M(void);
 115      =1  void ChangeTime_H( char add );
 116      =1  void ChangeTime_M( char add );
 117      =1  //WORD GetWakeupTime(void);
 118      =1  //void SetWakeupTime(WORD wtime);
 119      =1  
 120      =1  
 121      =1  //WORD GetOffTime(void);
 122      =1  //void SetOffTime(WORD wtime);
 123      =1  //BYTE GetSleepTimer(void);
 124      =1  //void SetSleepTimer(BYTE stime);
 125      =1  WORD DiffTime_ms( WORD stime, WORD etime );
 126      =1  //void SetLastBlockedTime(void);
 127      =1  void SetLastCCTime(void);                               //ljy010904...CC_FIX_CLEAR_ON_TIME
 128      =1  
 129      =1  void SetOSDLastKeyInTime(void);
 130      =1  WORD GetOSDLastKeyInTime(void);
 131      =1  WORD GetIVF(void);
 132      =1  DWORD GetIHF(void);
 133      =1  BYTE ReadVInputSTD(void);
 134      =1  void SetVInputStd(BYTE newd);
 135      =1  BYTE GetVInputStd(void);
 136      =1  BYTE GetInputSelection(void);
 137      =1  #ifdef ADD_ANALOGPANEL
           =1 BYTE IsAnalogOn(void);
           =1 #endif
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 16  

 140      =1  void InitVideoData(BYTE src);
 141      =1  void ChangeVInputStdDetectMode(BYTE val);
 142      =1  BYTE GetVInputStdInx(void);
 143      =1  
 144      =1  void MonWriteI2Cn_(BYTE addr, BYTE *val, BYTE cnt) ;
 145      =1  
 146      =1  ///void Usage(void);
 147      =1  #ifdef Hs_debug
           =1         void Prompt(void);
           =1 #endif
 150      =1  void DebugKeyIn(BYTE ikey);
 151      =1  void DVIPowerDown(bit flag);
 152      =1  void PowerDown_XTAL(bit flag);
 153      =1  
 154      =1  void ChangeInput(BYTE newsel);
 155      =1  
 156      =1  
 157      =1  void WaitPowerOn(void);
 158      =1  void PowerOff(void);
 159      =1  BYTE GetNextInputSelection(void);
 160      =1  
 161      =1  BYTE WantToStopTVScan(void);
 162      =1  
 163      =1  //BYTE IsTW8801(void);
 164      =1  //BYTE IsTW8803(void);
 165      =1  //BYTE ConvertVideoVSAT(BYTE reg);
 166      =1  
 167      =1  BYTE IsNoInput(void);
 168      =1  void LoadEEPROM (void);
 169      =1  void Hs_InitVars(void);
 170      =1  void AdjustAutoDayNight(BYTE val);
 171      =1  void ACCPowerControl(void);
 172      =1  struct RegisterInfo
 173      =1  {
 174      =1     int  Min;
 175      =1     int  Max;
 176      =1     int  Default;
 177      =1  };
 178      =1  struct LongRegisterInfo
 179      =1  {
 180      =1     WORD Min;
 181      =1     WORD Max;
 182      =1     WORD Default;
 183      =1  };
 184      =1  
 185      =1  #endif  // __MAIN__
   7          #include "i2c.h"
   1      =1  #ifndef __I2C_H__
   2      =1  #define __I2C_H__
   3      =1  
   4      =1  
   5      =1  void I2CReadByte3(BYTE *);
   6      =1  void I2CRead8Byte(BYTE *);
   7      =1  #if 0
           =1 void I2CReadByteMSP(BYTE addr, BYTE index, BYTE *pd, BYTE cnt);
           =1 #endif
  10      =1  BYTE I2CWriteByte2(BYTE);
  11      =1  BYTE I2CWriteByte3(BYTE*);
  12      =1  BYTE I2CWrite8Byte(BYTE *);
  13      =1  
  14      =1  void I2CStart(void);
  15      =1  void I2CWriteData(BYTE value);
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 17  

  16      =1  BYTE I2CReadData(void);
  17      =1  #if 0
           =1 BYTE I2CReadDataWithACK(void);
           =1 #endif
  20      =1  void I2CStop(void);
  21      =1  void I2Cdelay(void);
  22      =1  
  23      =1  
  24      =1  #define WriteTW88(a,b)          WriteI2C(TW88I2CAddress, a, b)
  25      =1  #define ReadTW88(a)                     ReadI2C(TW88I2CAddress, a)
  26      =1  
  27      =1  BYTE WriteTW88_Wait     (BYTE, BYTE);
  28      =1  void WriteADC           (BYTE, BYTE);
  29      =1  BYTE ReadADC            (BYTE);
  30      =1  BYTE ReadADC_TW88(BYTE index);
  31      =1  void WriteADC_TW88(BYTE index, BYTE dat);
  32      =1  
  33      =1  void WriteEEP           (WORD, BYTE);
  34      =1  BYTE ReadEEP            (WORD);
  35      =1  
  36      =1  
  37      =1  BYTE ReadI2C            (BYTE addr, BYTE index);
  38      =1  void WriteI2C           (BYTE addr, BYTE index, BYTE val);
  39      =1  
  40      =1  void WriteI2Cn_(BYTE addr, BYTE *val, BYTE cnt);
  41      =1  void WriteI2Cn (BYTE addr, BYTE index, BYTE *val, BYTE cnt);
  42      =1  void WriteI2CnD(BYTE addr, BYTE index, BYTE val, BYTE cnt);
  43      =1  
  44      =1  void ReadI2Cmn(BYTE addr, BYTE wcnt, BYTE rcnt, BYTE *rwdata);
  45      =1  
  46      =1  #define         WriteADC(a,b)   WriteADC_TW88(a,b)
  47      =1  #define         ReadADC(a)              ReadADC_TW88(a)
  48      =1  
  49      =1  #endif  /* __I2C_H__ */
   8          #include "Tw88.h"
   1      =1  #ifndef __TW88__
   2      =1  #define __TW88__
   3      =1  
   4      =1  #include "main.h"
   1      =2  #ifndef __MAIN__
           =2 #define __MAIN__
           =2 
           =2 #define ON                                      1
           =2 #define OFF                                     0
           =2 //#define Hs_debug
           =2 //#define       DVR
           =2 
           =2 //================= DIP SW Definition =========================================
           =2 ///#define PIXEL_SINGLE         P0_0
           =2 #define DIP_PANEL_SWITCH        P0_0    // Samsung(0) // Sharp-Noticon(1)
           =2 #define DIP_AUTO_DETECT         P0_1
           =2 #define DIP_EDGE_ENHANCE        P0_2
           =2 #define DIP_BW_STRETCH          P0_3
           =2 
           =2 #define Panel_Enable()          P4=P4|0x08 //andy 980908
           =2 #define Panel_Disable()                 P4=P4&0xf7
           =2 
           =2 #define SetBacklight()      P4=P4|0x04
           =2 #define clrBacklight()      P4=P4&0xfb
           =2 
           =2 
           =2 //InputSelection
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 18  

           =2 struct struct_IdName {
           =2         BYTE    Id;
           =2         BYTE    Name[16];
           =2 };
           =2 
           =2 #define CH_TW2835              1
           =2 #define CH_CAMD                2
           =2 #define CH_AV                  3
           =2 #define PC                                         7
           =2 #define ChineseDefaultMenu   8
           =2 
           =2 #define SVIDEO                          2
           =2 #define COMPONENT                       3
           =2 //#define ANALOGDTV                     4
           =2 #define DTV                                     4
           =2 #define TV                                      5
           =2 #define SCART                           6
           =2 
           =2 #define DIGITALVGA                      8
           =2 
           =2 #define AIRTV                           0 //9
           =2 #define CABLETV                         1 //0xa
           =2 
           =2 
           =2 #define TVTUNER                         0xd             //10
           =2 #define MUTE                            1       
           =2 #define MENU                            2       
           =2 #define TVVOL                           4       
           =2 #define CC                                      8       
           =2 #define INPUTINFO                       0x10
           =2 #define PCINFO                          0x20
           =2 #define GAUGEINFO           0x40
           =2 //#define RATINGINFO                    0x40
           =2 #define TVCHN                           0x80
           =2 //#define MUTE                          0x40
           =2 
           =2 #define YPBPR_480i                      0
           =2 #define YPBPR_576i                      1
           =2 #define YPBPR_480p                      2
           =2 #define YPBPR_576p                      3
           =2 #define YPBPR_1080i                     4
           =2 #define YPBPR_720p                      5
           =2 #define YPBPR_720p50            6
           =2 
           =2 
           =2 //--------------------------- P0 Define -----------------------------
           =2 #define SEL_MIX                 P0_6    // 
           =2 //--------------------------- P1 Define -----------------------------
           =2 #define SEL_DVI                 P3_5    //LJY062001             
           =2 
           =2 #define TW88HWReset                     P3_4    //LJY001010 //LJY000721
           =2 #define PowerUp             P1_4
           =2 //======================= CDS Control ================================= 
           =2 #define CDS_CTRL           P1_5
           =2 extern BYTE     SelectModeType;
           =2 extern BYTE InputSelection;
           =2 extern BYTE SEQTime;
           =2 extern BYTE     Priority;
           =2 extern BYTE AutoDayNight;
           =2 extern BYTE PowerFlag;
           =2 
           =2 BYTE keyIn(void);
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 19  

           =2 void TimerForRemocon(void);
           =2 void TimerForTick(void);
           =2 void DisableRemoconInt(void);
           =2 BYTE SetSupport_remocon(BYTE newd);
           =2 
           =2 void delay(BYTE cnt);
           =2 
           =2 BYTE RS_ready(void);
           =2 BYTE RS_rx(void);
           =2 void RS_tx(BYTE tx_buf);
           =2 
           =2 BYTE RS2_rx(void);
           =2 void RS2_tx(BYTE tx_buf);
           =2 
           =2 void NewLine(void);
           =2 void PutsP(PDATA_P BYTE *ptr);
           =2 #ifdef Hs_debug
           =2 void MonWriteI2C(BYTE addr, BYTE index, BYTE val);
           =2 BYTE MonReadI2C(BYTE addr, BYTE index);
           =2 #endif
           =2 BYTE Asc1Bin(BYTE asc);
           =2 BYTE Asc2Bin(PDATA_P BYTE *s);
           =2 
           =2 void I2CDeviceInitialize( CODE_P BYTE *RegSet);
           =2 
           =2 //void RestartSystemClock(WORD clock_hm);
           =2 WORD GetTime_ms(void);
           =2 BYTE GetTime_H(void);
           =2 BYTE GetTime_M(void);
           =2 void ChangeTime_H( char add );
           =2 void ChangeTime_M( char add );
           =2 //WORD GetWakeupTime(void);
           =2 //void SetWakeupTime(WORD wtime);
           =2 
           =2 
           =2 //WORD GetOffTime(void);
           =2 //void SetOffTime(WORD wtime);
           =2 //BYTE GetSleepTimer(void);
           =2 //void SetSleepTimer(BYTE stime);
           =2 WORD DiffTime_ms( WORD stime, WORD etime );
           =2 //void SetLastBlockedTime(void);
           =2 void SetLastCCTime(void);                               //ljy010904...CC_FIX_CLEAR_ON_TIME
           =2 
           =2 void SetOSDLastKeyInTime(void);
           =2 WORD GetOSDLastKeyInTime(void);
           =2 WORD GetIVF(void);
           =2 DWORD GetIHF(void);
           =2 BYTE ReadVInputSTD(void);
           =2 void SetVInputStd(BYTE newd);
           =2 BYTE GetVInputStd(void);
           =2 BYTE GetInputSelection(void);
           =2 #ifdef ADD_ANALOGPANEL
           =2 BYTE IsAnalogOn(void);
           =2 #endif
           =2 void InitVideoData(BYTE src);
           =2 void ChangeVInputStdDetectMode(BYTE val);
           =2 BYTE GetVInputStdInx(void);
           =2 
           =2 void MonWriteI2Cn_(BYTE addr, BYTE *val, BYTE cnt) ;
           =2 
           =2 ///void Usage(void);
           =2 #ifdef Hs_debug
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 20  

           =2         void Prompt(void);
           =2 #endif
           =2 void DebugKeyIn(BYTE ikey);
           =2 void DVIPowerDown(bit flag);
           =2 void PowerDown_XTAL(bit flag);
           =2 
           =2 void ChangeInput(BYTE newsel);
           =2 
           =2 
           =2 void WaitPowerOn(void);
           =2 void PowerOff(void);
           =2 BYTE GetNextInputSelection(void);
           =2 
           =2 BYTE WantToStopTVScan(void);
           =2 
           =2 //BYTE IsTW8801(void);
           =2 //BYTE IsTW8803(void);
           =2 //BYTE ConvertVideoVSAT(BYTE reg);
           =2 
           =2 BYTE IsNoInput(void);
           =2 void LoadEEPROM (void);
           =2 void Hs_InitVars(void);
           =2 void AdjustAutoDayNight(BYTE val);
           =2 void ACCPowerControl(void);
           =2 struct RegisterInfo
           =2 {
           =2    int  Min;
           =2    int  Max;
           =2    int  Default;
           =2 };
           =2 struct LongRegisterInfo
           =2 {
           =2    WORD Min;
           =2    WORD Max;
           =2    WORD Default;
           =2 };
           =2 
           =2 #endif  // __MAIN__
   5      =1  
   6      =1  //Value for register 0x44
   7      =1  //#define DECODER_YCbCr         0x08            //xxxx bbxx
   8      =1  //#define RGB_RGB                               0x0C
   9      =1  
  10      =1  #define TW88_FPLL0                      0xf9
  11      =1  #define TW88_FPLL1                      0xfa
  12      =1  #define TW88_FPLL2                      0xfb
  13      =1  #define TW88_FSS                        0xfc
  14      =1  #define TW88_FSS_PD                     0xfd
  15      =1  #define TW88_PLL_DIV            0xfe
  16      =1  
  17      =1  //#define TW88_XSCALE                   0x5d
  18      =1  //#define TW88_YSCALE                   0x5e
  19      =1  
  20      =1  #define TW88_XUSCALELO          0x60
  21      =1  #define TW88_XDSCALELO          0x61
  22      =1  #define TW88_YUSCALELO          0x62
  23      =1  #define TW88_XYSCALEHI          0x63
  24      =1  #define TW88_XUSCALEFINE        0x69
  25      =1  #define TW88_YUSCALEFINE        0x6a
  26      =1  
  27      =1  //Power Mgt
  28      =1  #define POWER_OFF                       0
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 21  

  29      =1  #define POWER_STANDBY           1
  30      =1  #define POWER_SUSPEND           2
  31      =1  #define POWER_ON                        3
  32      =1  
  33      =1  //void TWChipsDetect(void);
  34      =1  void SetAutoDetectStd(void);
  35      =1  void ClearAutoDetectStd(BYTE);
  36      =1  void I2CDeviceInitialize( CODE_P BYTE *RegSet);
  37      =1  
  38      =1  
  39      =1  //0x63.. Register Group
  40      =1  #define GROUP_YCbCr                     0x40
  41      =1  #define GROUP_RGB                       0
  42      =1  #define SelectPanelAttrRegGroup(A)                              WriteTW88(0x70, (ReadTW88(0x70) & 0xbf) | A)
  43      =1  
  44      =1  //#if defined TW8801 || defined TW8803
  45      =1  #define FB_MAIN         2
  46      =1  #define FB_NORMAL       1
  47      =1  #define FB_RGB          0
  48      =1  //void SetFBmode( BYTE mode );
  49      =1  //#endif // TW8801
  50      =1  
  51      =1  
  52      =1  //=============================================================================
  53      =1  //                                   LCD Functions   
  54      =1  //=============================================================================
  55      =1  BYTE GetLCDPowerState(void);
  56      =1  void SetLCDPowerState(BYTE dat);
  57      =1  
  58      =1  BYTE IsFreeRun(void);
  59      =1  void PanelFreeRun(BYTE on);
  60      =1  void PanelBlack(BYTE on);
  61      =1  
  62      =1  void PanelMute(BYTE on);
  63      =1  
  64      =1  void LCDPowerON(BYTE mute); 
  65      =1  void LCDPowerOFF(void);
  66      =1  #ifdef Hs_debug
           =1 void LCDPower(void);
           =1 #endif
  69      =1  void DPMSmodeOFF(void);
  70      =1  void DPMSmodeON(void);
  71      =1  //=============================================================================
  72      =1  //                              Get PC Parameter Functions   
  73      =1  //=============================================================================
  74      =1  void GetInitPanelAttribute1(void);
  75      =1  //void GetInitPanelAttribute2(void);
  76      =1  void DefaultPanelAttributeForVideo(void);
  77      =1  void SetPVR(WORD pvr);
  78      =1  void SetPHR(WORD phr);
  79      =1  WORD GetPVR(void);
  80      =1  WORD GetPHR(void);
  81      =1  WORD GetHPN(void);
  82      =1  WORD GetVPN(void);
  83      =1  
  84      =1  //WORD GetVactive(void);
  85      =1  
  86      =1  WORD GetHstart(void);
  87      =1  WORD GetHend(void);
  88      =1  WORD GetVstart(void);
  89      =1  WORD GetVend(void);
  90      =1  void TuneLineBuffer(BYTE field);
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 22  

  91      =1  void TuneLineBuffer4Video(BYTE field);
  92      =1  
  93      =1  #if defined (SUPPORT_DTV)
           =1 void SetCoarstForDTV(BYTE en);
           =1 #endif
  96      =1  
  97      =1  WORD GetHactiveStart(void);
  98      =1  WORD GetHactiveEnd(void);
  99      =1  WORD GetVactiveStart(void);
 100      =1  //WORD GetVactiveLen(void);
 101      =1  BYTE GetVBackPorch(void);
 102      =1  void SetVBackPorch(BYTE val);
 103      =1  WORD GetPHP(void);
 104      =1  void SetPHP(WORD php);
 105      =1  void SetPVP(WORD period);
 106      =1  WORD GetPVP(void);
 107      =1  //void SetPanelRelatedRegisters(void);
 108      =1  //BYTE ChangedHPN(void);
 109      =1  //WORD GetVSUD(void);
 110      =1  
 111      =1  void SetDefaultPLL(void);
 112      =1  //void SetDefaultFPHSperiod(void);
 113      =1  //BYTE CalcPHP(DWORD ppf, BYTE tol);
 114      =1  //void ChangeFPHSperiod4DecoderInput(WORD vsud, BYTE tol);
 115      =1  
 116      =1  //-------------------------------------------------------------------
 117      =1  //                  Set Active Region Functions
 118      =1  //-------------------------------------------------------------------
 119      =1  void SetHactiveStart(WORD hstart);
 120      =1  void SetHactiveEnd(WORD hend);
 121      =1  void SetVactiveStart(WORD vstart);
 122      =1  //void SetVactiveLen(WORD van, WORD vstart);
 123      =1  void SetVactiveLen(WORD van);
 124      =1  //=============================================================================
 125      =1  //                         Set Measurement Window Functions   
 126      =1  //=============================================================================
 127      =1  void SetMeasureWindowH(WORD start, WORD stop);
 128      =1  void SetMeasureWindowV(WORD start, WORD stop);
 129      =1  //=============================================================================
 130      =1  //                              Video Input Functions   
 131      =1  //=============================================================================
 132      =1  BYTE IsVideoInput(void);
 133      =1  BYTE DetectDecoderInput(void);
 134      =1  //=============================================================================
 135      =1  //
 136      =1  //=============================================================================
 137      =1  void AutoPHPCalEnable(void);
 138      =1  void AutoPHPCalDisable(void);
 139      =1  
 140      =1  void MakeStartInt(void);
 141      =1  void AVGAInput(void);
 142      =1  void DVIInput(void);
 143      =1  //void DVGAInput(void);
 144      =1  void DisableDVGA(void);
 145      =1  
 146      =1  void COMPOSITE1Input(void);
 147      =1  void COMPOSITE2Input(void);
 148      =1  void COMPOSITE3Input(void);
 149      =1  
 150      =1  void SVIDEOInput(void);
 151      =1  void COMPONENTInput(void);
 152      =1  void ANALOGDTVInput(void);
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 23  

 153      =1  void DTVInput(void);
 154      =1  void TVInput(void);
 155      =1  void SCARTInput(void);
 156      =1  
 157      =1  //=============================================================================
 158      =1  //                          Measurement Functions
 159      =1  //=============================================================================
 160      =1  ///void SetPanelBitOrder(BYTE swap);
 161      =1  //void SetPanelSingleDouble(BYTE single);
 162      =1  
 163      =1  BYTE MeasureAndWait(BYTE flag);
 164      =1  
 165      =1  //WORD GetHCounter1(BYTE field);
 166      =1  //void SetHInitial(BYTE field, WORD counter);
 167      =1  //=============================================================================
 168      =1  //                          Invert Polarity Functions
 169      =1  //=============================================================================
 170      =1  void InvertHSYNCPolarity(void);
 171      =1  void InvertVSYNCPolarity(void);
 172      =1  //=============================================================================
 173      =1  //            Interrupt / SW Reset Control Functions
 174      =1  //=============================================================================
 175      =1  void SetInt(void);
 176      =1  //void ClearInt(void);
 177      =1  void SetEnDet(void);
 178      =1  void ClearEnDet(void);
 179      =1  void SWReset(void);
 180      =1  //void ClearSYNCLossStatus(void);
 181      =1  //void ClearSYNCChangeStatus(void);
 182      =1  //=============================================================================
 183      =1  //
 184      =1  //=============================================================================
 185      =1  BYTE IsBypassmode(void);
 186      =1  //BYTE IsInteraced(void);
 187      =1  void Clear_bypass(void);
 188      =1  void MaskOnSYNCInt(void);
 189      =1  void MaskOffSYNCInt(void);
 190      =1  //=============================================================================
 191      =1  //                                    ZoomControl
 192      =1  //=============================================================================
 193      =1  void BypassZoom(void);
 194      =1  
 195      =1  void XscaleU(DWORD scale);
 196      =1  void XscaleD(DWORD scale);
 197      =1  void XScale2(DWORD scale);
 198      =1  void YScale2(DWORD scale);
 199      =1  WORD GetYScale(void);
 200      =1  //=============================================================================
 201      =1  //
 202      =1  //=============================================================================
 203      =1  WORD GetHSYNCPulse(void);
 204      =1  WORD GetVSYNCPulse(void);
 205      =1  //#if defined TW8801 || defined TW8803
 206      =1  WORD GetRelativePosition(void);
 207      =1  //#endif
 208      =1  //=============================================================================
 209      =1  //                                                              MISC2 for decoder
 210      =1  //=============================================================================
 211      =1  #define BLUE_DECODER            2
 212      =1  #define BLACK_DECODER           0
 213      =1  
 214      =1  BYTE ForceDecoderOutput(BYTE color);
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 24  

 215      =1  BYTE ClearForcedDecoderOutput(void);
 216      =1  //=============================================================================
 217      =1  //                                                              CC and EDS
 218      =1  //=============================================================================
 219      =1  BYTE GetCCStatus(void);
 220      =1  void DisableCC(void);
 221      =1  void EnableCC(void);
 222      =1  BYTE GetCCData(void);
 223      =1  BYTE IsCCEnabled(void);
 224      =1  void EnableEDS(void);
 225      =1  void DisableEDS(void);
 226      =1  void RecoverCCOverflow(void);
 227      =1  
 228      =1  #define CCFIFOHalfFull()                        (ReadDecoder(CSTATUS) & 0x04)
 229      =1  //=============================================================================
 230      =1  //                                                              Internal PLL
 231      =1  //=============================================================================
 232      =1  BYTE GetPOST(void);
 233      =1  void SetPLLS(BYTE plls);
 234      =1  BYTE GetREFDM(void);
 235      =1  void SetREFDM(BYTE refdm);
 236      =1  DWORD GetFBDN(void);
 237      =1  void SetFBDN(WORD fbdn, BYTE vcsel);
 238      =1  DWORD GetPPF(void);
 239      =1  void ChangeInternPLL(DWORD _PPF);
 240      =1  
 241      =1  //=============================================================================
 242      =1  //                                                              Macros for attribute
 243      =1  //=============================================================================
 244      =1  //#define       GetOSDTransReg()                                                ReadTW88(0xAE)
 245      =1  //#define SetOSDTransReg(AlphaV)                                        WriteTW88(0xAE, (BYTE)AlphaV )
 246      =1  
 247      =1  #define GetPanelContrastReg(gccolor)                    ReadTW88(0x71+gccolor)
 248      =1  #define SetPanelContrastReg(sccolor, cval)              WriteTW88(0x71+sccolor,cval)
 249      =1  
 250      =1  #define GetPanelBrightnessReg(gbcolor)                  ReadTW88(0x74+gbcolor);
 251      =1  #define SetPanelBrightnessReg(sbcolor, bval)    WriteTW88(0x74+sbcolor,bval);
 252      =1  
 253      =1  #define SetDTVBrightnessReg(bval)                               WriteTW88(0x74,bval);
 254      =1  
 255      =1  #define GetPanelSaturationReg(gbcolor)                  ReadTW88(0x72+gbcolor);
 256      =1  #define SetPanelSaturationReg(sbcolor, bval)    WriteTW88(0x72+sbcolor,bval);
 257      =1  
 258      =1  #define SetPanelSharpnessReg(bval)                              WriteTW88(0x78,((bval&0x07)|0x38) );
 259      =1  
 260      =1  #define SetPanelHueReg(bval)                                    WriteTW88(0x70, (ReadTW88(0x70) & 0xc0 | (bval)) );
 261      =1  
 262      =1  #define GetVideoContrastReg()                                   ReadDecoder(CONTRAST)
 263      =1  #define SetVideoContrastReg(vcval)                              WriteDecoder(CONTRAST, vcval)
 264      =1  
 265      =1  #define GetVideoBrightnessReg()                                 ReadDecoder(BRIGHT)
 266      =1  #define SetVideoBrightnessReg(vbval)                    WriteDecoder(BRIGHT, vbval )
 267      =1  
 268      =1  #define GetVideoSaturationReg(gvstype)                  ReadDecoder(SAT_U+gvstype)
 269      =1  #define SetVideoSaturationReg(svstype, vsval)   WriteDecoder(SAT_U+svstype,     vsval)
 270      =1  
 271      =1  #define GetVideoHueReg()                                                ReadDecoder(HUE)
 272      =1  #define SetVideoHueReg(vhval)                                   WriteDecoder(HUE,       vhval )
 273      =1  
 274      =1  #define GetVideoSharpnessRegDef                                 (ReadDecoder(SHARPNESS) & 0x0f) 
 275      =1  
 276      =1  #define GetVideoSharpnessReg()                                  GetVideoSharpnessRegDef
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 25  

 277      =1  //#define       SetVideoSharpnessReg(vshval)                    WriteDecoder(SHARPNESS, vshval )
 278      =1  #define SetVideoSharpnessReg(vshval)                    WriteDecoder(SHARPNESS, ((ReadDecoder(SHARPNESS) & 0xf0) | (vshval 
             -& 0x0f) ) );
 279      =1  
 280      =1  #ifdef TW9908
           =1 #define SetVideoVPeakingReg(vshval)
           =1 #else
 283      =1  #define SetVideoVPeakingReg(vshval)                             WriteDecoder(V_PEAKING, ((ReadDecoder(V_PEAKING) & 0xf8) | (vshval 
             -& 0x07) ) );
 284      =1  #endif
 285      =1  
 286      =1  #define SetVideoHfilterReg(val)                                 WriteDecoder(HFILTER, ((ReadDecoder(HFILTER) & 0xf8) | (val & 0x07) )|
             -0x08 );
 287      =1  //----------------------------------------------------------------------------------
 288      =1  //color type
 289      =1  #define RED             0
 290      =1  #define GREEN   1
 291      =1  #define BLUE    2
 292      =1  #define WHITE   3
 293      =1  //saturation type
 294      =1  #define U_SAT   0
 295      =1  #define V_SAT   1
 296      =1  
 297      =1  //Alpha Blending Level
 298      =1  #define _0              0
 299      =1  #define _25             0x12
 300      =1  #define _37_5   0x13
 301      =1  #define _50             0x14
 302      =1  #define _100    0x18
 303      =1  
 304      =1  
 305      =1  /*
 306      =1  BYTE Mapping( int fromValue, struct RegisterInfo fromRange,
 307      =1                                   int * toValue, struct RegisterInfo toRange );
 308      =1  */
 309      =1  BYTE Mapping1( int fromValue, CODE_P struct RegisterInfo *fromRange,
 310      =1                                   int * toValue, CODE_P struct RegisterInfo *toRange );
 311      =1  #ifdef KEILC
 312      =1  #define Mapping2( A, B, C, D )                  Mapping1( A, B, C, D )
 313      =1  #define Mapping3( A, B, C, D )                  Mapping1( A, B, C, D )
 314      =1  #else
           =1 BYTE Mapping2( int fromValue, IDATA_P struct RegisterInfo *fromRange,
           =1                                  int * toValue, CODE_P struct RegisterInfo *toRange );
           =1 BYTE Mapping3( int fromValue, CODE_P struct RegisterInfo *fromRange,
           =1                                  int * toValue, IDATA_P struct RegisterInfo *toRange );
           =1 #endif
 320      =1  
 321      =1  BYTE GetAttributesFromNTSCSettings(BYTE index);
 322      =1  
 323      =1  #endif  // __TW88__
 324      =1  
   9          #include "measure.h"
   1      =1  #ifndef __MEASURE__
   2      =1  #define __MEASURE__
   3      =1  
   4      =1  #define EE_DOS                          0
   5      =1  
   6      =1  #define EE_SP1                          1
   7      =1  #define EE_SP2                          2
   8      =1  #define EE_SP3                          3
   9      =1  
  10      =1  #define EE_VGA_60                       4
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 26  

  11      =1  #define EE_VGA_66                       5
  12      =1  #define EE_VGA_70                       6
  13      =1  #define EE_VGA_72                       7
  14      =1  #define EE_VGA_75                       8
  15      =1  #define EE_VGA_85                       9
  16      =1  
  17      =1  #define EE_SVGA_56                      10
  18      =1  #define EE_SVGA_60                      11
  19      =1  #define EE_SVGA_70                      12
  20      =1  #define EE_SVGA_72                      13
  21      =1  #define EE_SVGA_75                      14
  22      =1  #define EE_SVGA_85                      15
  23      =1  
  24      =1  #define EE_832_75                       16
  25      =1  
  26      =1  #define EE_XGA_60                       17
  27      =1  #define EE_XGA_70                       18
  28      =1  #define EE_XGA_72                       19
  29      =1  #define EE_XGA_75                       20
  30      =1  #define EE_XGA_85                       21
  31      =1  
  32      =1  #define EE_1152_60                      22
  33      =1  #define EE_1152_70                      23
  34      =1  #define EE_1152_75                      24
  35      =1  
  36      =1  #define EE_SXGA_60                      25
  37      =1  #define EE_SXGA_70                      26
  38      =1  #define EE_SXGA_75                      27
  39      =1  
  40      =1  #define EE_RGB_480P                     28
  41      =1  #define EE_RGB_720P                     29
  42      =1  #define EE_RGB_720P50           30
  43      =1  #define EE_RGB_1080I            31
  44      =1  #define EE_RGB_1080I50A         32
  45      =1  #define EE_RGB_1080I50B         33
  46      =1  #define EE_RGB_480I                     34
  47      =1  #define EE_RGB_576I                     35
  48      =1  #define EE_RGB_576P                     36
  49      =1  
  50      =1  #define EE_YPbPr_480P           37
  51      =1  #define EE_YPbPr_720P           38
  52      =1  #define EE_YPbPr_720P50         39
  53      =1  #define EE_YPbPr_1080I          40
  54      =1  #define EE_YPbPr_1080I50A       41
  55      =1  #define EE_YPbPr_1080I50B       42
  56      =1  #define EE_YPbPr_480I           43
  57      =1  #define EE_YPbPr_576I           44
  58      =1  #define EE_YPbPr_576P           45
  59      =1  
  60      =1  #define EE_PC_MAX                       46
  61      =1  
  62      =1  #define EE_PC_NO_SIGNAL         0xfe
  63      =1  #define EE_PC_UNKNOWN           0xff
  64      =1  
  65      =1  struct _PCMDATA {
  66      =1          CODE_P BYTE  Support;
  67      =1          CODE_P WORD  HAN;
  68      =1          CODE_P WORD  VAN;
  69      =1          CODE_P WORD  IVF;
  70      =1          CODE_P WORD  CLOCK;
  71      =1          CODE_P WORD  low;
  72      =1          CODE_P WORD  high;
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 27  

  73      =1          CODE_P WORD  Hstart;
  74      =1          CODE_P WORD  Vstart;
  75      =1          CODE_P WORD  IPF;               // 0.1MHz
  76      =1          CODE_P WORD  PPF;               // 0.1MHz
  77      =1          CODE_P BYTE  VBack;
  78      =1  };
  79      =1  #ifndef AUTOCALC_PC
           =1 
           =1 #ifdef SUPPORT_DTV
           =1 struct _DTVMDATA {
           =1         CODE_P BYTE Reg62;
           =1         CODE_P BYTE RegBC;
           =1         CODE_P BYTE RegBD;
           =1         CODE_P BYTE RegBE;
           =1         CODE_P WORD PHP;
           =1 };
           =1 #endif
           =1 #endif
  91      =1  #if defined     XGA
           =1         #define MAX_PPF          90000000
           =1 #elif defined SXGA
           =1         #define MAX_PPF         135000000
           =1 #elif defined WXGA
           =1         #define MAX_PPF          90000000
           =1 #elif defined WVGA
  98      =1          #define MAX_PPF          90000000
  99      =1  #elif defined VGA
           =1         #define MAX_PPF          50000000
           =1 #elif defined SVGA
           =1         #define MAX_PPF          80000000
           =1 #elif defined QVGA
           =1         #define MAX_PPF          30000000
           =1 #elif defined WQVGA
           =1         #define MAX_PPF          30000000
           =1 #endif
 108      =1  
 109      =1  extern BYTE cLastSyncLoss;
 110      =1  extern BYTE PcMode;
 111      =1  
 112      =1  void CompLT170E2(void);
 113      =1  
 114      =1  WORD gap(WORD a, WORD b);
 115      =1  
 116      =1  //===================================================================
 117      =1  WORD GetHpnVpn(BYTE);
 118      =1  
 119      =1  WORD ConvertBasedOnInput(WORD dat);
 120      =1  
 121      =1  BYTE IsDTVInput(void);
 122      =1  
 123      =1  void SetVValueForPanel(WORD vstart);
 124      =1  BYTE SetHValueForPanel(void);
 125      =1  BYTE GetActiveRegion(void);
 126      =1  
 127      =1  BYTE DetectAndSetForVGAInput(BYTE);
 128      =1  #ifdef SUPPORT_DTV
           =1 BYTE DetectAndSetForDTVInput(BYTE);
           =1 #endif
 131      =1  void CheckPCinput(void);
 132      =1  void CheckDTVinput(void);
 133      =1  
 134      =1  WORD GetCoarseValue(void);
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 28  

 135      =1  BYTE GetPhaseValue(void);
 136      =1  WORD SetPCCoarseValue(BYTE val);
 137      =1  BYTE SetPhaseValue(BYTE val);
 138      =1  
 139      =1  void DisplayResultAndSetActiveRange(void);
 140      =1  
 141      =1  //=============================================================================
 142      =1  //                    PC Screen Position Move Functions
 143      =1  //=============================================================================
 144      =1  void MoveActiveVpos(BYTE val);          // Up/Down
 145      =1  void MoveActiveHpos(BYTE val);          // Left/Right
 146      =1  
 147      =1  BYTE GetVPosition(void);
 148      =1  BYTE SetVPosition(BYTE val);
 149      =1  BYTE GetHPosition(void);
 150      =1  BYTE SetHPosition(BYTE val);
 151      =1  
 152      =1  void ResetPCValue(void);
 153      =1  
 154      =1  CODE_P BYTE *GetPCInputSourceName(void);
 155      =1  BYTE AutoAdjust(void);
 156      =1  
 157      =1  #endif // __MEASURE__
  10          #include "dispinfo.h"
   1      =1  #ifndef __DISPINFO__
   2      =1  #define __DISPINFO__
   3      =1  //==================================================================
   4      =1  //                              Display Information
   5      =1  //==================================================================
   6      =1  #if (defined WQVGA) && (defined ANALOG_7INCH)
           =1 #define         INPUTINFO_ZOOM          WINZOOMx1
           =1 #define         LOGO_ZOOM                       WINZOOMx3
           =1 
           =1 #else // (defined WQVGA) && (defined SHARP_LQ043T3DX02)
  11      =1  #define         INPUTINFO_ZOOM          WINZOOMx2
  12      =1  #define         LOGO_ZOOM                       WINZOOMx2
  13      =1  #endif
  14      =1  //#define               VOL_ZOOM                        WINZOOMx4
  15      =1  #define         MUTE_ZOOM                       WINZOOMx3
  16      =1  #define         TVCHN_ZOOM                      WINZOOMx4
  17      =1  #define         RATINGINFO_ZOOM         WINZOOMx3
  18      =1  #define     SCANTV_ZOOM                 WINZOOMx2               //ljy012304
  19      =1  #define         PCINFO_ZOOM                     WINZOOMx2
  20      =1  #define     BAR_ZOOM                    WINZOOMx2
  21      =1  
  22      =1  
  23      =1  #define DVRStatus_OSDWIN        4 
  24      =1  #define DVRStatus_ADDR  195 
  25      =1  
  26      =1  extern  IDATA BYTE  DisplayedOSD;
  27      =1  
  28      =1  
  29      =1  void ClearDisplayedOSD( BYTE newd );
  30      =1  void SetDisplayedOSD( BYTE newd );
  31      =1  BYTE GetDisplayedOSD(void);
  32      =1  void ClearOSDInfo(void);
  33      =1  
  34      =1  void DisplayInput(void);
  35      =1  BYTE ClearInput(void);
  36      =1  
  37      =1  
  38      =1  void DisplayLogo(void);
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 29  

  39      =1  void ClearLogo(void);
  40      =1  
  41      =1  void DisplayPCInfo(BYTE CODE *ptr);
  42      =1  void ClearPCInfo(void);
  43      =1  void DisplayAutoAdjust(void);
  44      =1  void ClearAutoAdjust(void);
  45      =1  
  46      =1  
  47      =1  void DisplayVol(void);
  48      =1  #if 0
           =1 void DisplayMuteInfo(void);
           =1 #endif
  51      =1  void ClearMuteInfo(void);
  52      =1  BYTE CheckAndClearOSD(void);
  53      =1  
  54      =1  //==================================================================
  55      =1  //                                              TV Info
  56      =1  //==================================================================
  57      =1  
  58      =1  BYTE ClearTVInfo(void);
  59      =1  
  60      =1  #endif  // __DISPINFO__
  11          #include "osdbasic.h"
   1      =1  //osd_basic.h
   2      =1  //LJY11012001
   3      =1  #ifndef __OSD_BASIC__
   4      =1  #define __OSD_BASIC__
   5      =1  
   6      =1  // osd_basic.h
   7      =1  // char code
   8      =1  //#include "apilib.h"
   9      =1  
  10      =1  //ljy052903
  11      =1  //definition for internal OSD
  12      =1  #define FONT_WIDTH_TW88                 12
  13      =1  #define FONT_HEIGHT_TW88                18
  14      =1  #define PIXS_PER_XSTEP_TW88             8
  15      =1  #define LINES_PER_YSTEP_TW88    4
  16      =1  #define MAX_OSDWINDOW_TW88              8
  17      =1  
  18      =1  // Using TW88 OSD for Menu
  19      =1  #define FONT_WIDTH                      12
  20      =1  #define FONT_HEIGHT                     18
  21      =1  #define PIXS_PER_XSTEP          8
  22      =1  #define LINES_PER_YSTEP         4
  23      =1  #define MAX_OSDWINDOW           4
  24      =1  
  25      =1  #define MAX_FONT_BYTES          27
  26      =1  #define RAMFONT         0xFE
  27      =1  #define ROMFONT         0xFF
  28      =1  #define NO_UDFONT                       226 
  29      =1  
  30      =1  #define FONT_ROM        1
  31      =1  #define FONT_RAM        2
  32      =1  
  33      =1  
  34      =1  /////////////////////////////////
  35      =1  // Old Registers...
  36      =1  /*
  37      =1          #define TW88_WIN1ATTR           0x76
  38      =1          #define TW88_WIN1XSTART         0x77
  39      =1          #define TW88_WIN1YSTART         0x78
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 30  

  40      =1          #define TW88_WIN1WIDTH          0x79
  41      =1          #define TW88_WIN1HEIGHT         0x7a
  42      =1          #define TW88_WIN1BRDATTR        0x7b
  43      =1          #define TW88_WIN1BRDWIDTH       0x7c
  44      =1          #define TW88_WIN1BRDHEIGHT      0x7d
  45      =1          #define TW88_WIN1XSPACE         0x7e            // between characters.
  46      =1          #define TW88_WIN1YSPACE         0x7f
  47      =1          #define TW88_WIN1SADDR          0x80            // starting address of OSD ram for Windows 1
  48      =1  */
  49      =1  /////////////////////////////////
  50      =1  
  51      =1  // OSD
  52      =1  #define TW88_ENABLERAM          0x94    // TW8804C
  53      =1  #define TW88_FONTRAMADDR        0x99    // TW8804C
  54      =1  #define TW88_FONTRAMDATA        0x9a    // TW8804C
  55      =1  #define TW88_OSDRAMADDRHI       0x95    // TW8804C
  56      =1  #define TW88_OSDRAMADDRLO       0x96    // TW8804C
  57      =1  #define TW88_OSDRAMDATAHI       0x97    // TW8804C
  58      =1  #define TW88_OSDRAMDATALO       0x98    // TW8804C
  59      =1  #define TW88_MULTISTART         0x9b    // TW8804C
  60      =1  #define TW88_OSDLOCKUPSEL       0x9c
  61      =1  #define TW88_WINNUM                     0x9e    // TW8804C
  62      =1  #define TW88_WINATTR            0x9f    //
  63      =1  #define TW88_WINXSTART          0xa1    //
  64      =1  #define TW88_WINYSTART          0xa2    //
  65      =1  #define TW88_WINSTART_HI        0xa0    //
  66      =1  #define TW88_WINWIDTH           0xa3    //
  67      =1  #define TW88_WINHEIGHT          0xa4    //
  68      =1  #define TW88_WINBRDATTR         0xa5    //
  69      =1  #define TW88_WINBRDWIDTH        0xa6    //
  70      =1  #define TW88_WINBRDHEIGHT       0xa7    //
  71      =1  #define TW88_WINSPACE           0xa8    // between characters.
  72      =1  #define TW88_WINZOOM            0xa9    //
  73      =1  #define TW88_WINSADDRHI         0xa9    // starting address of OSD ram for Windows 1
  74      =1  #define TW88_WINSADDRLO         0xaa    // starting address of OSD ram for Windows 1
  75      =1  
  76      =1  #define TW88_WINSHADOW          0xab    //
  77      =1  #define TW88_WINBLENDING        0xac    //
  78      =1  #define TW88_WINCHEFFECT        0xad    //
  79      =1  
  80      =1  
  81      =1  //Attributes for OSD
  82      =1  #define WINZOOMx1                       0x01
  83      =1  #define WINZOOMx2                       0x02
  84      =1  #define WINZOOMx3                       0x03
  85      =1  #define WINZOOMx4                       0x04
  86      =1  #define SHOW                            0x08    
  87      =1  
  88      =1  #define EXTENDED_COLOR          0x80
  89      =1  #define BG_COLOR_BLACK          0x00    //For background color of window, border, and char. 
  90      =1  #define BG_COLOR_RED            0x40    
  91      =1  #define BG_COLOR_GREEN          0x20
  92      =1  #define BG_COLOR_YELLOW         0x60
  93      =1  #define BG_COLOR_BLUE           0x10
  94      =1  #define BG_COLOR_MAGENTA        0x50
  95      =1  #define BG_COLOR_CYAN           0x30
  96      =1  #define BG_COLOR_WHITE          0x70
  97      =1  #define BG_COLOR_TRANS          0x80    
  98      =1  #define BG_COLOR_MASK           0xf0    
  99      =1  
 100      =1  #define CH_COLOR_BLACK          0x00    //For color of char.
 101      =1  #define CH_COLOR_RED            0x04    
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 31  

 102      =1  #define CH_COLOR_GREEN          0x02
 103      =1  #define CH_COLOR_YELLOW         0x06
 104      =1  #define CH_COLOR_BLUE           0x01
 105      =1  #define CH_COLOR_MAGENTA        0x05
 106      =1  #define CH_COLOR_CYAN           0x03
 107      =1  #define CH_COLOR_WHITE          0x07
 108      =1  #define CH_BLINK                        0x08    
 109      =1  #define CH_COLOR_MASK           0x0f    
 110      =1  
 111      =1  #define CL_BLACK                        0x00    //For color of char.
 112      =1  #define CL_BLUE                         0x01
 113      =1  #define CL_GREEN                        0x02
 114      =1  #define CL_CYAN                         0x03
 115      =1  #define CL_RED                          0x04    
 116      =1  #define CL_MAGENTA                      0x05
 117      =1  #define CL_YELLOW                       0x06
 118      =1  #define CL_WHITE                        0x07
 119      =1  #define CL_BLINK                        0x08    
 120      =1  
 121      =1  // 0x76*(WindowNo*0x0b)
 122      =1  #define WINDOW_DISABLE          0x00
 123      =1  #define WINDOW_ENABLE           0x01
 124      =1  #define WINDOW_3D_ENABLE    0x04
 125      =1  #define WINDOW_3D_BOTTOM    0x08
 126      =1  #define WINDOW_3D_TOP       0x00
 127      =1  #define WINDOW_TRANS_ENABLE 0x80
 128      =1  
 129      =1  #define WINBDCOLOR_ENABLE       0x80
 130      =1  #define WINBDCOLOR_EXTENT       0x80
 131      =1  
 132      =1  
 133      =1  #define WINBLENDING_DISABLE 0x00
 134      =1  #define WINBLENDING_BACK    0x10
 135      =1  #define WINBLENDING_FORE    0x20
 136      =1  #define WINBLENDING_ALL     0x30
 137      =1  
 138      =1  #define WINSHADOW_ENABLE        0x80
 139      =1  // 0xc8*WindowNo
 140      =1  #define WIN_MULTICOLOR_ENABLE 0x20
 141      =1  #define WIN_CH_EFFECT_ENABLE  0x10
 142      =1  #define WIN_CH_EFFECT_SHADOW  0x08
 143      =1  
 144      =1  
 145      =1  
 146      =1  ///////// TW8804C /////////////
 147      =1  // Window Number
 148      =1  #define WINNUM1                         1
 149      =1  #define WINNUM2                         2
 150      =1  #define WINNUM3                         3
 151      =1  #define WINNUM4                         4
 152      =1  
 153      =1  // Index 0x9f Defination
 154      =1  #define WIN_BG_COLOR_EX         0x80
 155      =1  #define WIN_BG_COLOR_EX0        0x00
 156      =1  #define WIN_3D_TYPE                     0x08
 157      =1  #define WIN_3D_TYPE0            0x00
 158      =1  #define WIN_3D_EN                       0x04
 159      =1  #define WIN_3D_EN0                      0x00
 160      =1  #define WIN_3D_LEVEL            0x02
 161      =1  #define WIN_EN                          0x01
 162      =1  #define WIN_EN0                         0x00
 163      =1  
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 32  

 164      =1  // Index 0xa5 Defination
 165      =1  #define WIN_BD_EN                       0x80
 166      =1  #define WIN_BD_EN0                      0x00
 167      =1  #define WIN_BD_WIDTH(a)         a
 168      =1  
 169      =1  // Index 0xa6 Defination
 170      =1  #define WIN_BD_COLOR_EX         0x80
 171      =1  #define WIN_BD_COLOR_EX0        0x00
 172      =1  #define WIN_H_BD_W(a)           a
 173      =1  
 174      =1  // Index 0xa7 Defination
 175      =1  #define WIN_V_BD_W(a)           a
 176      =1  
 177      =1  // Index 0xa8
 178      =1  #define WIN_CH_VSPACE(a)        (a<<4)
 179      =1  #define WIN_CH_HSPACE(a)        a
 180      =1  
 181      =1  // Index 0xa9 Defination
 182      =1  #define WIN_VZOOM(a)            (a-1)
 183      =1  #define WIN_HZOOM(a)            (a-1)
 184      =1  #define WIN_SADDR(a)            a
 185      =1  
 186      =1  // Index 0xab
 187      =1  #define WIN_SHADOW_EN           0x80
 188      =1  #define WIN_SHADOW_EN0          0x00
 189      =1  #define WIN_SHADOW_W(a)         a
 190      =1  
 191      =1  // ad
 192      =1  #define WIN_SHADOW_COLOR_EX             0x80
 193      =1  #define WIN_SHADOW_COLOR_EX0    0x00
 194      =1  #define WIN_MULTI_EN                    0x40
 195      =1  #define WIN_MULTI_EN0                   0x00
 196      =1  #define WIN_V_EXT_EN                    0x20
 197      =1  #define WIN_V_EXT_EN0                   0x00
 198      =1  #define WIN_CH_BDSH_SEL(a)              a
 199      =1  #define SEL_BORDER                              0
 200      =1  #define SEL_SHADOW                              1
 201      =1  #define WIN_CH_BDSH_COLOR_EX    0x08
 202      =1  #define WIN_CH_BDSH_COLOR_EX0   0x00
 203      =1  
 204      =1  #define OSD_Win_Num(a)                  0x9e, a-1
 205      =1  #define OSD_Win_Start_Addr              0xa0
 206      =1  #define OSD_Win_Attr(a)                         a
 207      =1  #define OSD_Win_Start(h,v)                       (BYTE)(((WORD)h>>8) | (((WORD)v>>8)<<4)),(BYTE)h, (BYTE)v
 208      =1  #define OSD_Win_Width(a)                        a
 209      =1  #define OSD_Win_Height(a)                       a
 210      =1  #define OSD_Win_Border(a)                       a
 211      =1  #define OSD_Win_HBorder(a)                      a
 212      =1  #define OSD_Win_VBorder(a)                      a
 213      =1  #define OSD_Win_CH_Space(a)                     a
 214      =1  #define OSD_Win_ZM_SAddr(h,v,a)         ((h<<6)|(v<<4)|(a>>8)), (BYTE)a
 215      =1  #define OSD_Win_Shadow(a)                       a
 216      =1  #define OSD_Win_Blending(a)                     a
 217      =1  #define OSD_Win_CH_BorderShadow(a)      a
 218      =1  
 219      =1  
 220      =1  #define SetOSDWindowNum(winno)          WriteTW88(TW88_WINNUM, winno-1)
 221      =1  
 222      =1  //#define  OSD_Window_Attr(Trans_en,Color,3D_Type,3D_en,W_en)       (((( Trans_en | Color ) | 3D_Type) | 3
             -D_en) | W_en)
 223      =1  #define  OSD_Window_Attr(a,b,c,d,e)                                                                     (((( a | b ) | c) | d) | e)
 224      =1  #define  OSD_WShadow_Attr(W_Shadow_en,Color,Width)                                      W_Shadow_en | Color | Width
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 33  

 225      =1  //#define  OSD_Blending(en,level)                                                                               en | (level & 0x0f)
 226      =1  //#define  OSD_Ch_Effect(Multi, Effect_En, ShadowBorder, Color)         Multi | Effect_En | ShadowBorder | Color 
             - 
 227      =1  
 228      =1  
 229      =1  struct OSDStrInfo 
 230      =1  {
 231      =1          BYTE    cnt;
 232      =1          WORD    addr;
 233      =1          BYTE    attr;
 234      =1          DWORD   str;
 235      =1  };
 236      =1  /*
 237      =1  struct BarInfo {
 238      =1          struct RegisterInfo BarCnt;
 239      =1          BYTE    winno;
 240      =1          BYTE    xoff;
 241      =1          BYTE    yoff;
 242      =1          BYTE    color;
 243      =1          int             bar_cnt;
 244      =1  };
 245      =1  */
 246      =1  struct FontData {
 247      =1          BYTE    font[27];
 248      =1  } ;
 249      =1  
 250      =1  //====================================================================
 251      =1  //  Internal OSD Function
 252      =1  void CopyCharToOSDRAM_TW88(BYTE Addr, BYTE attr, BYTE ch);
 253      =1  void CopyUDCharToOSDRAM_TW88(BYTE Addr, BYTE attr, BYTE ch);
 254      =1  //BYTE GetOSDWindowWidth_TW88(BYTE winno);
 255      =1  WORD GetOSDWindowSA_TW88(BYTE winno);
 256      =1  void SetOSDWindowX_TW88(BYTE winno, BYTE x);
 257      =1  void SetOSDWindowY_TW88(BYTE winno, BYTE y);
 258      =1  void SetOSDWindowWidth_TW88(BYTE winno, BYTE w);
 259      =1  void SetOSDWindowSA_TW88(BYTE winno, WORD sa);
 260      =1  
 261      =1  void SetOSDItalicsAndUnderline(BYTE italics, BYTE underline);
 262      =1  
 263      =1  void SetOSDHBorderWidth_TW88(BYTE winno, BYTE w);
 264      =1  //BYTE GetOSDWindowColor_TW88(BYTE winno);
 265      =1  void SetOSDWindowColor_TW88(BYTE CCWin, BYTE color);
 266      =1  void EnableOSDRAMAndChangeFont(BYTE type);
 267      =1  void WriteCharToOSDRAM(WORD addr, BYTE ch, BYTE attr);
 268      =1  
 269      =1  
 270      =1  void ShowOSDWindowAll(BYTE on);
 271      =1  void ShowOSDWindow_TW88(BYTE winno, BYTE onoff);
 272      =1  void ClearOSD_TW88(void);
 273      =1  //void CreateOSDWindow_TW88(BYTE winno, BYTE x, BYTE y, BYTE w, BYTE h, WORD sa, BYTE attr);
 274      =1  /*not yet!!
 275      =1  //ljy012304...CC_ADJUST_POS
 276      =1  void SetOSDWindowXS_TW88(BYTE winno, BYTE xs);
 277      =1  void SetOSDWindowYS_TW88(BYTE winno, BYTE ys);
 278      =1  */
 279      =1  
 280      =1  //====================================================================
 281      =1  //      OSDMenu Functions
 282      =1  
 283      =1  //--------------------------------------------------------------------
 284      =1  //      Functions used in only Menu
 285      =1  #define         CONVERT_CODE                    0x80
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 34  

 286      =1  
 287      =1  void InitOSDWindow(BYTE *ptr);
 288      =1  
 289      =1  WORD GetOSDWindowX(BYTE winno);
 290      =1  WORD GetOSDWindowY(BYTE winno);
 291      =1  BYTE CreateOSDWindowOutline(BYTE winno, BYTE w, BYTE color);
 292      =1  void CreateOSDMenuWindow(BYTE, BYTE, BYTE, BYTE, BYTE, BYTE, BYTE);
 293      =1  void ClearOSDLine(BYTE winno, BYTE sx, BYTE sy, BYTE cnt, BYTE attr);
 294      =1  void WriteStringToAddr(WORD addr, BYTE *str, BYTE cnt);
 295      =1  void DrawAttrString(WORD addr, BYTE *str, BYTE cnt);
 296      =1  void DrawAttrCnt(WORD addr, BYTE color, BYTE cnt);
 297      =1  void ClearDataCnt(WORD, BYTE);
 298      =1  #define         SetOSDWindowX(A, B)                                                     SetOSDWindowX_TW88(A, B)
 299      =1  #define     SetOSDWindowY(A, B)                                                 SetOSDWindowY_TW88(A, B)
 300      =1  
 301      =1  
 302      =1  //--------------------------------------------------------------------
 303      =1  //      Functions used in Menu and others
 304      =1  #define         ShowOSDWindow(A, B)                                                     ShowOSDWindow_TW88(A, B)
 305      =1  #define     ClearOSD()                                                                  ClearOSD_TW88()
 306      =1  
 307      =1  //================================================================
 308      =1  //      Font
 309      =1  void DownloadUDFont(void);
 310      =1  #ifdef Hs_debug
           =1 void DisplayROMFont(BYTE);
           =1 void DisplayRAMFont(BYTE);
           =1 #endif
 314      =1  void DownloadFont(BYTE cod, CODE_P BYTE *fontdata);
 315      =1  //void DisplayGrid( void );
 316      =1  //void DisplayCone( void );
 317      =1  //void DisplayJapanese( void );
 318      =1  void TestRAMFont( void );
 319      =1  #ifdef BANKING
           =1 void DisplayMGrid( BYTE );
           =1 void DisplayMessage( void );
           =1 void DisplayChinese( void );
           =1 void DisplayJapanese( void );
           =1 void DisplayKorean( void );
           =1 void DisplayGridBank0( BYTE n );
           =1 void DisplayGridBank1( BYTE n );
           =1 #endif
 328      =1  
 329      =1  //================================================================
 330      =1  //      OSD COLOR
 331      =1  void Change_OSDColorLookup(void);
 332      =1  void Reset_OSDColorLookup(void);
 333      =1  
 334      =1  //====================================================================
 335      =1  //                              Conversion
 336      =1  //====================================================================
 337      =1  BYTE utoa(WORD value, BYTE *str, BYTE radix);
 338      =1  BYTE ltoa_K(long value, BYTE *str, BYTE);
 339      =1  BYTE strlen( BYTE *str );
 340      =1  
 341      =1  #define CStrlen(A)                              strlen(A)
 342      =1  
 343      =1  void WaitEndofDisplayArea(void);
 344      =1  
 345      =1  #endif  // __OSD_BASIC__
  12          #include "osdmenu.h"
   1      =1  //osdmenu.h
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 35  

   2      =1  //LJY10292001
   3      =1  #ifndef __OSDMENU__
   4      =1  #define __OSDMENU__
   5      =1  
   6      =1  //=======================================================================
   7      =1  // 
   8      =1  //BYTE GetOSDDuration(void);
   9      =1  
  10      =1  void ResetVideoValue(void);
  11      =1  //#if defined( SUPPORT_PC ) || defined( SUPPORT_DTV )
  12      =1  //void ResetPCValue(void);
  13      =1  //#endif
  14      =1  BYTE GetOSDMenuLevel( void );
  15      =1  
  16      =1  void DrawMenulist(BYTE);
  17      =1  void Display_EnterPin(void);
  18      =1  void OSDHighMenu_sub(void);
  19      =1  void ResetOSDValue(void);
  20      =1  #ifdef E_Wintek
           =1 void ResetUESROSDValue(void);
           =1 #endif
  23      =1  //BYTE OnChangingValue(void);
  24      =1  //Not used yet *******************BYTE OnChangingTime(void);
  25      =1  
  26      =1  //WORD GetOSDclock(void);
  27      =1  
  28      =1  void InitOSDMenu(void);
  29      =1  BYTE CloseOSDMenu(void);
  30      =1  void OpenOSDMenu(void);
  31      =1  void OSDHighMenu(void);
  32      =1  void OSDSelect(void);
  33      =1  void OSDCursorMove(BYTE flag );
  34      =1  void OSDLeftRight(BYTE flag );
  35      =1  void OSDValueUpDn(BYTE flag);
  36      =1  WORD SetItemValue( BYTE id, BYTE flag );
  37      =1  BYTE DoAction(BYTE id);
  38      =1  
  39      =1  BYTE SaveValue1(void);
  40      =1  void ClearValueWin(void);
  41      =1  
  42      =1  void OSDNumber( BYTE num );
  43      =1  
  44      =1  void Set4WideScreen(BYTE id);
  45      =1  
  46      =1  void SetRGBContrast( BYTE id, BYTE val );
  47      =1  BYTE SetPCColorTemp(BYTE flag);
  48      =1  void ResetPanelAttributeValue(void);
  49      =1  WORD GetItemValue( BYTE);
  50      =1  void DisplayViewBar( WORD,BYTE);
  51      =1  void DrawNum(WORD, CODE_P struct NumType *, WORD);
  52      =1  void DrawStringByLang( WORD, CODE_P struct EnumType *, WORD);
  53      =1  
  54      =1  void DisplayVolumebar(BYTE val);
  55      =1  BYTE GetOSDLang(void);
  56      =1  void InitOSDMenuXY(void);
  57      =1  
  58      =1  void Display_TVGuide_Window(void);
  59      =1  void Display_TVGuide_Status(void);
  60      =1  
  61      =1  void ChangeVchip_LevelCursor(BYTE);
  62      =1  void ChangeVchip_ContentCursor(BYTE);
  63      =1  void Select_VchipLevel(void);
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 36  

  64      =1  void SetVideoMode(BYTE mode);
  65      =1  BYTE GetVideoDatawithOffset(BYTE offset);
  66      =1  void SetVideoContrast(BYTE newv);
  67      =1  void SetVideoBrightness(BYTE newv);
  68      =1  void SetVideoHue(BYTE newv) ;
  69      =1  void SetVideoSaturation(BYTE svtype, BYTE newv) ;
  70      =1  BYTE SetVideoSharpness(BYTE flag) ;
  71      =1  void SetVideoBacklight(BYTE newv) ;
  72      =1  //------------------------------------------------andy awt 981013
  73      =1  //void DaySelect(BYTE);
  74      =1  void CAMOutDSel(BYTE val);
  75      =1  void DVRAodioSel(BYTE  val);
  76      =1  
  77      =1  //------------------------------------------------andy awt 981013
  78      =1  
  79      =1  void DisplayLineOSD(void);      // OSD Line display Demo
  80      =1  
  81      =1  
  82      =1  struct MenuType {
  83      =1          BYTE    width,  height;
  84      =1          BYTE    TitleColor;     
  85      =1          BYTE    CursorColor;
  86      =1  };
  87      =1  
  88      =1  struct NumType {
  89      =1          BYTE    PrePostCharLen;         // high nibble(pre) / low nibble(post)
  90      =1          BYTE    PrePostChar[4];
  91      =1  };
  92      =1  
  93      =1  struct NumberStringType {
  94      =1          BYTE    x, y;
  95      =1          BYTE    width;
  96      =1          BYTE    BackColor;
  97      =1          BYTE    Radix;
  98      =1          BYTE    NumColor;
  99      =1          BYTE    MaxLen;                         // maximum length of string
 100      =1          BYTE    PrePostCharLen;         // high nibble(pre) / low nibble(post)
 101      =1          BYTE    PrePostChar[3];
 102      =1  };
 103      =1  
 104      =1  struct TimeType {
 105      =1          BYTE    x, y;
 106      =1          BYTE    width;
 107      =1          BYTE    BackColor;
 108      =1          BYTE    Format;                         //_24H_TIME
 109      =1          BYTE    TimeColor;
 110      =1          BYTE    CursorColor;
 111      =1  };
 112      =1  
 113      =1  struct EnumType {
 114      =1          BYTE    Sz;//size
 115      =1          BYTE    ByLang;
 116      =1          BYTE    Str[15];                        // doesn't matter the size !!!
 117      =1  };
 118      =1  
 119      =1  #define ICON_CH_SZ              2
 120      =1  //#define BAR_NUM_SZ            4
 121      =1  #define ICON_BUF_SZ             2
 122      =1  struct DefineMenu {
 123      =1          //WORD                                          Icon[ICON_BUF_SZ];      
 124      =1          BYTE                            CODE    *Icon;
 125      =1          BYTE                                            **Desc;                         
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 37  

 126      =1          BYTE                                            PreFnId, 
 127      =1                                                                  PostFnId;
 128      =1  //      void            (*CalltoFunction)(void);                                    // Un/Dn/Sel Function
 129      =1          BYTE                                            IconColor;                      //NIL: not to display icon
 130      =1          BYTE                                            DescColor;                      //NIL: not to display desc. (IconColor==NIL && DescColor==NIL)->Last Item
 131      =1          struct DefineMenu       CODE    *Child;
 132      =1          BYTE                                            Type;                           // MENU, CHOICEMENU, BAR, NUMBER, TIME, ACTION, ENUM_STRING
 133      =1          BYTE                                            ActiveWithCursor;
 134      =1          BYTE                                            Id;
 135      =1          BYTE                            CODE    *TypeData;      //MenuType, BarType, NumType,,,
 136      =1  } ;
 137      =1  
 138      =1  struct PictureInfo {
 139      =1  
 140      =1          BYTE Register_Addr;
 141      =1          BYTE EEPROM_Addr;
 142      =1          struct RegisterInfo     CODE    *Control_Range;
 143      =1  };
 144      =1  
 145      =1  
 146      =1  //-------------------------------------------------------------------
 147      =1  // OSD Window Information
 148      =1  //-------------------------------------------------------------------
 149      =1  // Window Number
 150      =1  #define OSDCURSORWINDOW                 1
 151      =1  #define OSDMENUWINDOW                   OSDCURSORWINDOW+1
 152      =1  #define OSDMENU_TOPWIN                  OSDCURSORWINDOW+2
 153      =1  #define OSDMENU_TITLEWIN                OSDCURSORWINDOW+3
 154      =1  #define OSDBARWINDOW                    OSDCURSORWINDOW
 155      =1  
 156      =1  #define TECHWELLOGO_OSDWIN      1       
 157      =1  #define TVINFO_OSDWIN           2       
 158      =1  #define FONTTEST_OSDWIN         2       
 159      =1  #define INPUTINFO_OSDWIN        3  
 160      =1  #define RATINGINFO_OSDWIN       1       
 161      =1  #define PCINFO_OSDWIN           3//4/   
 162      =1  
 163      =1  //-------------OSDMENU_TITLEWIN------------------------------------------------------
 164      =1  // Window Start address
 165      =1  #define OSDMENU_MAINADDR        0
 166      =1  #define OSDMENU_SUBADDR     OSDMENU_MAINADDR+15    //25*9:196
 167      =1  #define OSDMENU_BARADDR         175 //OSDMENU_SUBADDR+225    //256   //25x2:50
 168      =1  
 169      =1  #define INPUTINFO_ADDR          160     // 9x1:9
 170      =1  #ifdef WQVGA
           =1 #define INPUTINFO1_ADDR         INPUTINFO_ADDR+17       //17x3:51
           =1 #else
 173      =1  #define INPUTINFO1_ADDR         INPUTINFO_ADDR+34       //17x2:51
 174      =1  #endif
 175      =1  
 176      =1  #define MUTEINFO_ADDR       INPUTINFO1_ADDR+51  // 4x1:4
 177      =1  #define TVCHINFO_ADDR           MUTEINFO_ADDR//324      // 3X1:3
 178      =1  #define LOGO_ADDR                       0
 179      =1  #define RATINGINFO_ADDR         0       //addr:210(8x1:8)
 180      =1  #define PCMEASUREINFO_ADDR  OSDMENU_BARADDR //10x1
 181      =1  
 182      =1  
 183      =1  //--------------------------------------------------------------------
 184      =1  // OSD Menu Position Range
 185      =1  #if ((defined WQVGA) && (defined ANALOG_7INCH)) || ((defined QVGA) && (defined SHARP_LQ050Q5DR01))
           =1         #define OSD_PHR_ PHR_/2
           =1 #else
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 38  

 188      =1          #define OSD_PHR_ PHR_
 189      =1  #endif
 190      =1  
 191      =1  #define OSDHSTART_MAX (OSD_PHR_-(12+1)*25 - 56*2 -4)  //PHR - (pixelsize +Hspace)*MenuWidth - Hborder*2 - 
             -outlinewidth*2
 192      =1  #define OSDVSTART_MAX (PVR_-(18+11)*9 - 5*2 ) //  PVR - (Linesize+Vspace)*MENU_HEIGHT - Vborder*2  - outli
             -newidth*2
 193      =1  
 194      =1  #define OSDMENUX_MIN 1//0
 195      =1  #define OSDMENUX_MAX (OSDHSTART_MAX>>3)
 196      =1  #define OSDMENUX_50  (OSDHSTART_MAX>>4)
 197      =1  
 198      =1  #define OSDMENUY_MIN 2//0
 199      =1  #define OSDMENUY_MAX (OSDVSTART_MAX>>2)
 200      =1  #define OSDMENUY_50  (OSDVSTART_MAX>>3)
 201      =1  
 202      =1  //--------------------------------------------------------------------
 203      =1  // OSD Menu Width, Height 
 204      =1  #ifdef E_Wintek
           =1 #define ICON_HIGH                               0x14
           =1 #else
 207      =1  #define ICON_HIGH                               0x0a
 208      =1  #endif
 209      =1  #define TOTAL_MAX_HIGHT                 9
 210      =1  
 211      =1  #define TOPMENU_WIDTH                   2
 212      =1  #define TOTAL_TOP_HEIGHT                5       // Include blank line!
 213      =1  
 214      =1  #define TOPMENU_HEIGHT                  4       
 215      =1  
 216      =1  #if (defined QVGA) && (defined SHARP_LQ050Q5DR01)
           =1 #define MENU_WIDTH                              17 //23//25 
           =1 #define TITLE_MAX_DESC                  17//25  //
           =1 #define BAR_LENGTH                              0
           =1 #else
 221      =1  #define MENU_WIDTH                              23//23//25 
 222      =1  #define TITLE_MAX_DESC                  23//25  //
 223      =1  #define BAR_LENGTH                              5//8
 224      =1  #endif
 225      =1  
 226      =1  #define MENU_HEIGHT                             7//6 
 227      =1  
 228      =1  #define BARNUM_LENGTH                   8       //11
 229      =1  #ifdef REFERENCE
           =1 #define BACK_COLOR                              BG_COLOR_CYAN
           =1 #define DEFAULT_COLOR                   BG_COLOR_CYAN   | CH_COLOR_WHITE
           =1 //#define ACTIVE_COLOR                  BG_COLOR_YELLOW | CH_COLOR_WHITE
           =1 #define TITLE_BACK_COLOR                BG_COLOR_MAGENTA
           =1 #define TITLE_COLOR                             TITLE_BACK_COLOR | CH_COLOR_YELLOW
           =1 #define COMMENT_COLOR                   TITLE_BACK_COLOR | CH_COLOR_WHITE
           =1 #define CURSOR_COLOR                    BG_COLOR_YELLOW | CH_COLOR_BLUE
           =1 #define OSD_INFO_COLOR                  DEFAULT_COLOR
           =1 #define BAR_COLOR                               DEFAULT_COLOR   
           =1 #define BAR_NUM_COLOR                   DEFAULT_COLOR
           =1 #define NUM_COLOR                               DEFAULT_COLOR
           =1 
           =1 #define OSDMENU_OUTLINE_COLOR   BG_COLOR_BLUE
           =1 
           =1 #else
 245      =1  #define BACK_COLOR                              BG_COLOR_CYAN
 246      =1  #define DEFAULT_COLOR                   BG_COLOR_CYAN | CH_COLOR_WHITE
 247      =1  //#define ACTIVE_COLOR                  BG_COLOR_YELLOW | CH_COLOR_WHITE
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 39  

 248      =1  #define TITLE_BACK_COLOR                BG_COLOR_BLUE
 249      =1  #define TITLE_COLOR                             TITLE_BACK_COLOR | CH_COLOR_YELLOW
 250      =1  #define COMMENT_COLOR                   TITLE_BACK_COLOR | CH_COLOR_WHITE
 251      =1  #define CURSOR_COLOR                    BG_COLOR_YELLOW  | CH_COLOR_BLUE
 252      =1  #define OSD_INFO_COLOR                  BG_COLOR_CYAN    | CH_COLOR_GREEN
 253      =1  #define BAR_COLOR                               DEFAULT_COLOR   
 254      =1  #define BAR_NUM_COLOR                   DEFAULT_COLOR
 255      =1  #define NUM_COLOR                               DEFAULT_COLOR
 256      =1  
 257      =1  #define VER_COLOR               BG_COLOR_CYAN   | CH_COLOR_YELLOW   /// V1.1 03/07/07 simonsung
 258      =1  
 259      =1  
 260      =1  #define OSDMENU_OUTLINE_COLOR   BG_COLOR_CYAN
 261      =1  #endif 
 262      =1  
 263      =1  
 264      =1  //DisplayedOSD
 265      =1  //              new       |     MENU    TVINFO          CC              INPUTINFO               PCINFO          RATINGINFO
 266      =1  //      current   |
 267      =1  //============|=========================================================================
 268      =1  //      MENU      |                     TVINFO          --              INPUTINFO               PCINFO          MENU + RATINGINFO       
 269      =1  //                        |                                              
 270      =1  //------------|-------------------------------------------------------------------------
 271      =1  //      TVINFO    |     MENU    TVINFO          --              INPUTINFO               PCINFO          TVINFO+RATING
 272      =1  //------------|-------------------------------------------------------------------------
 273      =1  //      CC                |     MENU->  TVINFO->                        INPUTINFO->             PCINFO          RATINGINFO
 274      =1  //                        |      CC              CC                                      CC                                              
 275      =1  //------------|-------------------------------------------------------------------------
 276      =1  //      INPUTINFO |     MENU    TVINFO          --              INPUTINFO               PCINFO          --
 277      =1  //------------|-------------------------------------------------------------------------
 278      =1  //      PCINFO    |     MENU    x                       x               INPUTINFO               PCINFO          x
 279      =1  //------------|-------------------------------------------------------------------------
 280      =1  //      RATINGINFO|     MENU    TVINFO     RATING   INPUTINFO           x                       RATINGINFO
 281      =1  //                                                                      
 282      =1  
 283      =1  //=======================================================================================
 284      =1  // OSD Menu Constant define.
 285      =1  //=======================================================================================
 286      =1  //Time type
 287      =1  #define _24H_TIME               1
 288      =1  
 289      =1  //for previous, next, parent or child
 290      =1  #define YES                             0xfe    
 291      =1  #define NO                              0
 292      =1  
 293      =1  
 294      =1  //#define OVERWRITE             0
 295      =1  //#define POPUP                 1
 296      =1  
 297      =1  //CursorMove
 298      =1  #define VERT                    0
 299      =1  #define HORI                    1
 300      =1  
 301      =1  //Type of MenuItem
 302      =1  #define OSDMENU                 1
 303      =1  #define CHOICEMENU              2
 304      =1  #define ACTION                  3
 305      =1  #define BAR                             4
 306      =1  #define NUMBER                  5
 307      =1  #define CHOICE                  6
 308      =1  #define ENUM_STRING             7 //YESNO                       7
 309      =1  #define CHOICE1                 8
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 40  

 310      =1  #define TIME                    9
 311      =1  #define NUMBER_STRING   10
 312      =1  #define TEXT_STR              11   // V1.1 02/28/07 simonsung
 313      =1  
 314      =1  
 315      =1  //Bar type
 316      =1  #define LEFT_FILLED             1
 317      =1  #define RIGHT_FILLED    2
 318      =1  #define NO_FILLED               3
 319      =1  
 320      =1  //OSDmenu up and down key
 321      =1  #define UP                                      1
 322      =1  #define DN                                      2
 323      =1  #define RIGHT                           3
 324      =1  #define LEFT                            4
 325      =1  
 326      =1  // Action Id
 327      =1  #define DISP_INFO                       0x16
 328      =1  
 329      =1  #define INPUTSELECTION                          0x2f
 330      =1  
 331      =1  #define CHANGE_TO_COMPOSITE                     (0x20|CH_TW2835)                        // Low nibble need to start from 1 
 332      =1  #define CHANGE_TO_SVIDEO                        (0x20|SVIDEO)                           // so that it match with COMPOSITE...
 333      =1  #define CHANGE_TO_COMPONENT                     (0x20|COMPONENT)                
 334      =1  #define CHANGE_TO_DTV                           (0x20|DTV)              
 335      =1  #define CHANGE_TO_TV                            (0x20|TV)                                       
 336      =1  #define CHANGE_TO_PC                            (0x20|PC)                                       
 337      =1  #define CHANGE_TO_DIGITALVGA            (0x20|DIGITALVGA)                       
 338      =1  #define CHANGE_TO_SCART                         (0x20|SCART)                            
 339      =1  
 340      =1  
 341      =1  #define OSDPOSITIONMODE     0x10
 342      =1  #define OSD_VPOS                        0x11
 343      =1  #define OSD_HPOS                        0x12
 344      =1  #define OSD_HALFTONE            0x13
 345      =1  #define OSD_DURATION            0x14
 346      =1  #define RESET_OSDVALUE          0x15
 347      =1  #define OSDLANG                         0x16
 348      =1  
 349      =1  #define PANEL_CONTRAST          0x58
 350      =1  #define PANEL_BRIGHTNESS        0x59
 351      =1  #define PANEL_HUE                       0x5a
 352      =1  #define PANEL_SHARPNESS         0x5b
 353      =1  #define PANEL_SATURATION        0x5c
 354      =1  
 355      =1  #define PC_VPOS                         0x43
 356      =1  #define PC_HPOS                         0x44
 357      =1  #define PC_HSIZE                        0x4d
 358      =1  
 359      =1  #define PC_CLOCK                        0x45
 360      =1  #define PC_PHASE                        0x46
 361      =1  
 362      =1  #define AUTOADJUST                      0x47
 363      =1  #define AUTOADJUST2                     0x48
 364      =1  //#define SAVE_AUTOADJUST               0x49
 365      =1  #define RESET_AUTOADJUST        0x4a
 366      =1  
 367      =1  #define PCCOLORADJUST           0x4b
 368      =1  #define SAVE_COLORADJUST        0x4c
 369      =1  //#define RESET_COLORADJUST     0x4d
 370      =1  
 371      =1  #define RESET_PCVALUE           0x4e
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 41  

 372      =1  #define CameraOSD                       0x4f
 373      =1  
 374      =1  #define PC_COLOR_MODE           0x3f
 375      =1  #define PC_COLOR_TEMP           0x30
 376      =1  #define PC_COLOR_MODE1          0x31
 377      =1  #define PC_COLOR_MODE2          0x32
 378      =1  #define PC_COLOR_MODE3          0x33
 379      =1  #define PC_COLOR_USER           0x34
 380      =1  #define PC_COLOR_R                      0x35
 381      =1  #define PC_COLOR_G                      0x36
 382      =1  #define PC_COLOR_B                      0x37
 383      =1  
 384      =1  #define VIDEO_MODE                      0x90
 385      =1  #define VIDEO_MODE1                     0x91
 386      =1  #define VIDEO_MODE2                     0x92
 387      =1  #define VIDEO_MODE3                     0x93
 388      =1  #define VIDEO_USER                      0x94
 389      =1  #define VIDEO_CONTRAST          0x95
 390      =1  #define VIDEO_BRIGHTNESS        0x96
 391      =1  #define VIDEO_SATURATION        0x97
 392      =1  #define VIDEO_HUE                       0x99
 393      =1  #define VIDEO_SHARPNESS         0x9a
 394      =1  #define VIDEO_BACKLIGHT         0x9c            // add new value 
 395      =1  #define RESET_VIDEOVALUE        0x9b
 396      =1  #ifdef E_Wintek
           =1 #define RESET_USERVALUE 0x9d
           =1 #endif
 399      =1  #define VIDEOPICTURE            0x9f
 400      =1  
 401      =1  #define INPUTSTD                        0x6f
 402      =1  #define CHANGE_TO_AUTO          0x60
 403      =1  #define CHANGE_TO_NTSC          (0x60 | NTSC)
 404      =1  #define CHANGE_TO_PAL           (0x60 | PAL)
 405      =1  #define CHANGE_TO_SECAM         (0x60 | SECAM)
 406      =1  #define CHANGE_TO_NTSC4         (0x60 | NTSC4)
 407      =1  #define CHANGE_TO_PALM          (0x60 | PALM)
 408      =1  #define CHANGE_TO_PALN          (0x60 | PALN)
 409      =1  #define CHANGE_TO_PAL60         (0x60 | PAL60)
 410      =1  
 411      =1  
 412      =1  
 413      =1  
 414      =1  #define CLOSED_CAPTION          0x7f
 415      =1  #define CLOSEDCAP_OFF           0x70
 416      =1  #define CLOSEDCAP_CC1           0x71
 417      =1  #define CLOSEDCAP_CC2           0x72
 418      =1  #define CLOSEDCAP_CC3           0x73
 419      =1  #define CLOSEDCAP_CC4           0x74
 420      =1  #define CLOSEDCAP_T1            0x75
 421      =1  #define CLOSEDCAP_T2            0x76
 422      =1  #define CLOSEDCAP_T3            0x77
 423      =1  #define CLOSEDCAP_T4            0x78
 424      =1  
 425      =1  #define TV_GUIDE                        0x8f
 426      =1  #define NO_VCHIP_LOCK           0
 427      =1  #define VCHIP_TV_Y                      1
 428      =1  #define VCHIP_TV_Y7                     2
 429      =1  #define VCHIP_TV_G                      3
 430      =1  #define VCHIP_TV_PG                     4
 431      =1  #define VCHIP_TV_14                     5
 432      =1  #define VCHIP_TV_MA                     6
 433      =1  #define PASSWORD                        0x87
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 42  

 434      =1  #define NEW_PASSWORD            0x88
 435      =1  #define CHK_PASSWORD            0x89
 436      =1  #define RET_CHK_PASSWORD        0x8a
 437      =1  
 438      =1  #define MPAA_RATING                     0x9f
 439      =1  #define NO_MPAA_RATING          0
 440      =1  #define MPAA_G                          1
 441      =1  #define MPAA_PG                         2
 442      =1  #define MPAA_PG_13                      3
 443      =1  #define MPAA_R                          4
 444      =1  #define MPAA_NC_17                      5
 445      =1  #define MPAA_X                          6
 446      =1  
 447      =1  #define TVINSTALL                       0xa0
 448      =1  #define SCAN_CHANNEL            0xa1
 449      =1  #define AIR_CABLE_TV            0xa3
 450      =1  #define STORE_CLEAR_TVCHN       0xa4
 451      =1  #define MTS                                     0xa5
 452      =1  #define EDIT_CHANNEL            0xa6
 453      =1          #define         MTS_STEREO                      0//0x10
 454      =1          #define         MTS_MONO                        1//0x11
 455      =1  
 456      =1  #define AUDIO_VOLUME            0xb7
 457      =1  
 458      =1  #if 0 //andy AWT8.4 20090811
           =1 
           =1 #define AUDIO_BALANCE           0xb9
           =1 #define AUDIO_BASS                      0xba
           =1 #define AUDIO_TREBLE            0xbb
           =1 
           =1 #define AUDIO_LOUDNESS          0xbc
           =1 #define AUDIO_EFFECT            0xbd
           =1 #define AUDIO_MUTE                      0xbe
           =1 #endif
 468      =1  
 469      =1  #define DayChoice           0xb8
 470      =1  #define CAMOSDONOFF         0xb9
 471      =1  #define GAUGEChoice         0xba
 472      =1  #define OsdLockChoice       0xbb
 473      =1  #define PRIORITYChoice      0xcA
 474      =1  #define DVRDisplay              0xcc
 475      =1  
 476      =1  #define CAMAONOFF                   0xc1
 477      =1  #define CAMBONOFF               0xc2
 478      =1  #define CAMCONOFF                   0xc3
 479      =1  #define CAMRONOFF                       0xc4
 480      =1  
 481      =1  #define IMAGEChoice         0xc5 
 482      =1  #define REARChoice          0xc6
 483      =1  #define JUMPChoice          0xc7
 484      =1  #define CAMOUTChoice        0xc8 
 485      =1  #define STIME_STEP                  0xc9
 486      =1  #define TriggerVGA                  0xcb
 487      =1  #define IMAGE_A_Choice         0xcd
 488      =1  #define IMAGE_B_Choice         0xce
 489      =1  #define IMAGE_C_Choice         0xcf
 490      =1  
 491      =1  
 492      =1  #define MANUAL_TUNE_CHANNEL     0xab
 493      =1  #define FINE_TUNE_CHANNEL       0xac
 494      =1  #define STORE_PALCHANNEL        0xad
 495      =1  
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 43  

 496      =1  //#define CLEAR_TVCHN                   0xb0
 497      =1  //#define STORE_TVCHN                   0xb1
 498      =1  
 499      =1  #define WIDESCREEN                      0xc0
 500      =1  #define WIDESCREEN_NORMAL       0 
 501      =1  #define WIDESCREEN_WIDE         1 
 502      =1  #define WIDESCREEN_PANO         2
 503      =1  #define WIDESCREEN_FULL         3 
 504      =1  #define WIDESCREEN_ZOOM         4 
 505      =1  
 506      =1  #define SYSTEM_CLOCK            0xd1
 507      =1  #define SYSTEM_CLOCK_H          0xd2
 508      =1  #define WAKEUP_TIME                     0xd3
 509      =1  #define WAKEUP_TIME_H           0xd4
 510      =1  #define WAKEUP_PR                       0xd5
 511      =1  #define OFF_TIME                        0xd6
 512      =1  #define OFF_TIME_H                      0xd7
 513      =1  #define SLEEP_TIMER                     0xd8
 514      =1  
 515      =1  #define Resolution                      0xe0
 516      =1  #define FPS                                     0xe1
 517      =1  #define Quality                         0xe2
 518      =1  #define RecordMode                      0xe3
 519      =1  #define RecordLength            0xe4
 520      =1  #define PreAlarmLength          0xe5
 521      =1  #define PostAlarmLength         0xe6
 522      =1  #define Apply                           0xe7
 523      =1  #define ManualRecordStart       0xe8
 524      =1  #define ManualRecordStop        0xe9
 525      =1  #define Snapshot                        0xea
 526      =1  #define FormatSD                        0xeb
 527      =1  #define AudioRecord                     0xec
 528      =1  #define FirmwareUpdate          0xed
 529      =1  #define ChangePassword          0xee
 530      =1  #define OverWrite                       0xef
 531      =1  
 532      =1  
 533      =1  
 534      =1  
 535      =1  #define Year                            0x20
 536      =1  #define Month                           0x21
 537      =1  #define Day                                     0x22
 538      =1  #define Hour                            0x23
 539      =1  #define Minute                          0x24
 540      =1  
 541      =1  #define DaylightSaving                          0x25
 542      =1  #define TimeBeginesMonth                        0x26
 543      =1  #define TimeBeginesWeek                         0x27
 544      =1  #define TimeBeginesTime                         0x28
 545      =1  #define StandardTimeBeginesMonth        0x29
 546      =1  #define StandardTimeBeginesWeek         0x2a
 547      =1  #define StandardTimeBeginesTime         0x2b
 548      =1  #define TimeZone                                        0x2c
 549      =1  #define FirstNumber                                     0x2d
 550      =1  #define SecondNumber                            0x2e
 551      =1  #define ThridNumber                                     0x2f
 552      =1  #define FourthNumber                            0x38
 553      =1  
 554      =1  
 555      =1  
 556      =1  #define OSDLANGI                        0xd9
 557      =1  #define OSDLANGII                       OSDLANGI+1
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 44  

 558      =1  #define OSDLANGIII                      OSDLANGI+2
 559      =1  #define OSDLANGIV                       OSDLANGI+3
 560      =1  
 561      =1  
 562      =1  #define TOHIGHMENU                      0xf1
 563      =1  #define MOVECURSOR2FIRST        0xf2
 564      =1  #define RESET_ALL                       0xf3
 565      =1  #define EXITMENU                        0xf4
 566      =1  #define DVRParamApply           0xf5
 567      =1  #define DATETIMEApply           0xf6
 568      =1  
 569      =1  
 570      =1  #define CHOICE1_VAL                     0xfc
 571      =1  #define CHOICE_VAL                      0xfd
 572      =1  #define BAR_VAL                         0xfe
 573      =1  #define NUM_VAL                         0xff
 574      =1  
 575      =1  #define CAMNumberChoice     0xa3 
 576      =1  #define PelcoChoice         0xa4
 577      =1  #define Baud_rateChoice         0xa5
 578      =1  
 579      =1  #endif  // __OSDMENU__
  13          #include "adc.h"
   1      =1  #ifndef __ADC__
   2      =1  #define __ADC__
   3      =1  
   4      =1  //=============================================================================
   5      =1  //                             ADC Functions
   6      =1  //=============================================================================
   7      =1  
   8      =1  void ADCPowerDown(bit flag);
   9      =1  void SelectADCmux(BYTE sel);
  10      =1  void SetADCMode(BYTE mode);
  11      =1  
  12      =1  void EnableADC(void);
  13      =1  void DisableADC(void);
  14      =1  
  15      =1  WORD GetCoarse(void);
  16      =1  void SetCoarse(WORD i);
  17      =1  void SetPhase(BYTE j);
  18      =1  BYTE GetPhaseCurrent(void);
  19      =1  BYTE SetVCORange(DWORD _IPF);
  20      =1  
  21      =1  //void SetADCGainOffset(BYTE gain, BYTE offset);
  22      =1  void AutoColorAdjust(void);
  23      =1  
  24      =1  
  25      =1  
  26      =1  void AutoColorAdjustForDTV(BYTE flag);
  27      =1  
  28      =1  #endif  // __ADC__
  29      =1  
  30      =1  
  31      =1  
  32      =1  
  33      =1  
  34      =1  
  35      =1  
  36      =1  
  37      =1  
  38      =1  
  39      =1  
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 45  

  40      =1  
  41      =1  
  42      =1  
  43      =1  
  44      =1  
  45      =1  
  46      =1  
  47      =1  
  48      =1  
  49      =1  
  50      =1  
  51      =1  
  52      =1  
  53      =1  
  54      =1  
  14          #include "debug.h"
   1      =1  #ifndef __DEBUG__
   2      =1  #define __DEBUG__
   3      =1  
   4      =1  #define DEBUG_ERR       1
   5      =1  #define DEBUG_WARN      2
   6      =1  #define DEBUG_INFO      3
   7      =1  #define DEBUG_BREAK     4
   8      =1  
   9      =1  #define Pause(a)        { Printf("\r\n"); Printf(a); while(!RS_ready()); RS_rx(); }
  10      =1  
  11      =1  //#define BURSTLOCK     7
  12      =1  
  13      =1  void DebugWindowControl (void) ;
  14      =1  void Draw_Debug_Char(void);
  15      =1  void DebugWindowCursor( BYTE flag ) ;
  16      =1  void DebugWindowData( BYTE flag ) ;
  17      =1  void Debug_Write(void);
  18      =1  void Debug_Read(void);
  19      =1  
  20      =1  
  21      =1  
  22      =1  #endif  // __DEBUG__
  23      =1  
  24      =1  #ifdef CHIP_MANUAL_TEST
           =1 BYTE DelaynCheck(void);
           =1 void ChipManualTest(void);
           =1 
           =1 #endif
  15          #include "etc_eep.h"
   1      =1  #ifndef __ETC_EEP__
   2      =1  #define __ETC_EEP__
   3      =1  
   4      =1  
   5      =1  ////eeprom.h
   6      =1  
   7      =1  //=========================================================================
   8      =1  //      EEPROM structure
   9      =1  //      0x00    BYTE    4       'TW88'
  10      =1  #define EEP_FWREV_MAJOR                 0x04    //BYTE  1       F/W Rev.-major(Hex)     
  11      =1  #define EEP_FWREV_MINOR                 0x05    //BYTE  1       F/W Rev.-minor(Hex)
  12      =1  #define EEP_DEBUGLEVEL                  0x06    //BYTE  1       DebugLevel
  13      =1  //
  14      =1  #define EEP_AUTODETECT                  0x07    //BYTE  1       Flag for Input Auto Detect      -0:Auto, 1:NTSC,....
  15      =1  #define EEP_AUTODETECTTYTE              0x08    //BYTE  1       Type of Auto-detect(will be value of register 0x1d)
  16      =1  //                      ---------------------------------------------------------------
  17      =1  #define EEP_WIDEMODE                    0x09    //BYTE  1   Wide Mode
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 46  

  18      =1  
  19      =1  #define EEP_AUTORECOGNITION             0x0a    //BYTE  1       Auto Recognition
  20      =1  #define EEP_VIDEOMODE                   0x0b    //BYTE  1   Video Mode
  21      =1  
  22      =1  #define EEP_OSDLANG                             0x0c    //BYTE  1   OSDLang                                             // 0
  23      =1  
  24      =1  #define EEP_OSDPOSITIONMODE     0x0d    //BYTE  1       OSD Position Mode
  25      =1  #define EEP_CCD                                 0x0e    //BYTE  1       Closed Caption- 0: off, 1:on
  26      =1  
  27      =1  #define EEP_INPUTSELECTION              0x0f    //BYTE  1       InputSelection
  28      =1  
  29      =1  //
  30      =1  #define EEP_PC_CONTRAST                 0x10
  31      =1  #define EEP_PC_BRIGHT                   0x11
  32      =1  
  33      =1  #define EEP_CONTRAST                    0x12    //BYTE  1       Contrast 
  34      =1  #define EEP_BRIGHTNESS                  0x13    //BYTE  1       Brightness
  35      =1  #define EEP_SATURATION_U                0x14    //BYTE  1       Saturation :U
  36      =1  #define EEP_SATURATION_V                0x15    //BYTE  1       Saturation :V
  37      =1  #define EEP_SHARPNESS                   0x16    //BYTE  1       Sharpness 
  38      =1  #define EEP_HUE                                 0x17    //BYTE  1       Hue                    
  39      =1  
  40      =1  //====================================HS AWT 981001
  41      =1  #define  EEP_AutoMode           0xa0
  42      =1  #define  EEP_IMAGEMode          0xa1
  43      =1  #define  EEP_RearMode           0xa2
  44      =1  #define  EEP_COSDMode           0xa3
  45      =1  #define  EEP_GAUGEMode          0xa4
  46      =1  #define  EEP_CAMAMode           0xa5 
  47      =1  #define  EEP_CAMBMode           0xa6
  48      =1  #define  EEP_CAMCMode           0xa7
  49      =1  #define  EEP_CAMRMode           0xa8
  50      =1  #define  EEP_CAMOutMode         0xa9    
  51      =1  #define  EEP_TimeStep           0xaa
  52      =1  #define  EEP_Powerflag          0xab   
  53      =1  #define  EEP_ONOFFChoice        0xac 
  54      =1  
  55      =1  #define  EEP_PRIORITY           0xad
  56      =1  #define  EEP_JUMPMode           0xae
  57      =1  #define  EEP_NowModeState       0xaf
  58      =1  #define  EEP_SelectMode         0xb0
  59      =1  #define  EEP_PriorityOffSelectMode      0xb1
  60      =1  #define  EEP_AudioRecord                0xb2
  61      =1  
  62      =1  #define  EEP_FirstNumber                0xb3
  63      =1  #define  EEP_SecondNumber               0xb4
  64      =1  #define  EEP_ThridNumber                0xb5
  65      =1  #define  EEP_FourthNumber               0xb6
  66      =1  
  67      =1  #define  EEP_CAMNUMBER     0xb7
  68      =1  #define  EEP_PELCO                 0xb8
  69      =1  #define  EEP_Baud_rate     0xb9
  70      =1  #define  EEP_TriggerVGA    0xba
  71      =1  #define  EEP_DVRDisplay    0xbb
  72      =1  #define  EEP_IMAGE_A_Mode    0xbc//andy A1.4 20100113
  73      =1  #define  EEP_IMAGE_B_Mode    0xbd//andy A1.4 20100113
  74      =1  #define  EEP_IMAGE_C_Mode    0xbe//andy A1.4 20100113
  75      =1  
  76      =1  //#define  EEP_SelectModeBuf         0xb2
  77      =1  
  78      =1  #if 0
           =1 #define  EEP_Resolution                 0xc0
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 47  

           =1 #define  EEP_FPS                                0xc1
           =1 #define  EEP_Quality                    0xc2
           =1 #define  EEP_RecordMode                 0xc3
           =1 #define  EEP_RecordLength               0xc4
           =1 #define  EEP_PreAlarmLength             0xc5
           =1 #define  EEP_PostAlarmLength    0xc6
           =1 #endif
  87      =1  //====================================HS AWT 981001
  88      =1  
  89      =1  //
  90      =1  //              ---------------------------------------------------------------
  91      =1  #define EEP_PCAUDIOPVOL         0x37    //BYTE  1   AudioVol
  92      =1  #define EEP_AUDIOPVOL                   0x38    //BYTE  1   AudioVol
  93      =1  #define EEP_AUDIOBALANCE                0x39    //BYTE  1   AudioBalance
  94      =1  //
  95      =1  //              ---------------------------------------------------------------
  96      =1  
  97      =1  #define EEP_BLOCKMOVIE                  0x40    //BYTE  1       BlockedMovie:Blocked rating for Movie   
  98      =1  #define EEP_BLOCKTV                             0x41    //BYTE  1       BlockedTV:Blocked rating for TV                 
  99      =1  #define EEP_FVSLD                               0x42    //BYTE  6
 100      =1  //                                                              7    6       4    3    2    1    0
 101      =1  //  FVSLD Level                        ALL   FV(V)   S    L    D    
 102      =1  //  0x43    BYTE    1   TV-Y            X  
 103      =1  //  0x44        BYTE    1   TV-Y7           X    X 
 104      =1  //  0x45        BYTE    1   TV-G            X 
 105      =1  //  0x46        BYTE    1   TV-PG           X       X    X    X    X
 106      =1  //  0x47        BYTE    1   TV-14           X       X    X    X    X 
 107      =1  //  0x48        BYTE    1   TV-MA           X       X    X    X
 108      =1  //
 109      =1  #define EEP_VCHIPPASSWORD               0x49    //BYTE  4   OSDPassword                                 //Defualt:3366
 110      =1  //                      ---------------------------------------------------------------
 111      =1  //
 112      =1  //
 113      =1  //      0x61    WORD    2   PanelXRes
 114      =1  //      0x63    WORD    2       PanelYRes
 115      =1  //      0x65    BYTE    1       PanelHsyncMinPulseWidth
 116      =1  //      0x66    BYTE    1       PanelVsyncMinPulseWidth
 117      =1  //      0x67    WORD    2       PanelHminBackPorch
 118      =1  //      0x69    BYTE    1       PanelHsyncPolarity
 119      =1  //      0x6a    BYTE    1       PanelVsyncPolarity
 120      =1  //      0x6b    WORD    2       PanelDotClock
 121      =1  //      0x6d    BYTE    1       PanelPixsPerClock
 122      =1  //      0x6e    BYTE    1       PanelDEonly
 123      =1  //                      ---------------------------------------------------------------
 124      =1  //
 125      =1  //      0x80    PC Data
 126      =1  //
 127      =1  //                      ---------------------------------------------------------------
 128      =1  //
 129      =1  //      0x300   TV Data
 130      =1  //
 131      =1  //      --- NTSC_TV -------------------------------------------------------------
 132      =1  //      CNT_SAVEDAIR                    BYTE    1   Total count of saved Air TV Channel.
 133      =1  //      IDX_CURAIR                              BYTE    1   Index of Current Air TV Channel
 134      =1  //      CHN_CURAIR                              BYTE    1   Current Air TV Channel.
 135      =1  //
 136      =1  //      FIRSTSAVED_AIRCHN               BYTE    1       First saved Air TV channel no   (maximum 100)
 137      =1  //      ....
 138      =1  //
 139      =1  //      CNT_SAVEDCABLE                  BYTE    1   Total count of saved Cable TV Channel.
 140      =1  //      IDX_CURCABLE                    BYTE    1   Index of Current Cable TV Channel
 141      =1  //      CHN_CURCABLE                    BYTE    1   Current Cable TV Channel.
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 48  

 142      =1  //
 143      =1  //      FIRSTSAVED_CABLECHN             BYTE    1       First saved Cable TV channel no (maximum 100)
 144      =1  //
 145      =1  //      --- PAL_TV --------------------------------------------------------------
 146      =1  //      PR_CUR                                  BYTE    1   Current PR no.
 147      =1  //      FIRST_SAVEDPR                   DWORD   4   Freq of PR0.        (TOTAL_PR)
 148      =1  //      FIRST_SAVEDPR+4                 DWORD   4   Freq of PR1.
 149      =1  //      .....
 150      =1  //
 151      =1  
 152      =1  
 153      =1  
 154      =1  //
 155      =1  // Offset of EEPROM
 156      =1  //
 157      =1  /*
 158      =1  #define VIDEOCONTRAST           0x18            // for NTSC.(PAL:0x20,SECAM:0x28)
 159      =1  #define VIDEOBRIGHTNESS         0x19
 160      =1  #define VIDEOSATURATION_U       0x1a
 161      =1  #define VIDEOSATURATION_V       0x1b
 162      =1  #define VIDEOHUE                        0x1c            // only for NTSC
 163      =1  #define VIDEOSHARPNESS          0x1d
 164      =1  */
 165      =1  #define CCCOLOR         0x52
 166      =1  #define VOLZOOM         0x53
 167      =1  
 168      =1  #define PANELINFO       0x61
 169      =1  
 170      =1  // PAL_TV
 171      =1  #define  PR_CUR                                 0x301   
 172      =1  #define  FIRST_SAVEDPR                  0x308   
 173      =1   #define TVFREQ_HIGH 0 
 174      =1   #define TVFREQ_LOW  1
 175      =1  #ifdef PAL_TV
           =1  #define TVFINETUNE  2
           =1                 // NOT Finetune: 0 , Range: -32 ~ +32
           =1  #define TVPRSYSTEM  3  
           =1                 // bit 7: Add:1 Ereased :0
           =1                 // 
           =1  #define TVCHNAME    4
           =1 
           =1  #define BYTEPERCHANNEL 9 
           =1 #endif
 185      =1  // NTSC_TV
 186      =1  #define  EEP_TVInputSel                 0x302
 187      =1  #define  CHN_CURAIR                             0x303   
 188      =1  #define  FIRSTSAVED_AIRCHN              0x308   
 189      =1  #define  CHN_CURCABLE                   0x403   
 190      =1  #define  FIRSTSAVED_CABLECHN    0x408   
 191      =1  #ifdef NTSC_TV
           =1  #define TVFINETUNE  0
           =1                 // NOT Finetune: 0 , Range: -32 ~ +32
           =1  #define TVPRSYSTEM  1  
           =1                 // bit 7: Add:1 Ereased :0
           =1                 // 
           =1  #define BYTEPERCHANNEL 2
           =1 #endif
 199      =1  
 200      =1  
 201      =1  
 202      =1  
 203      =1  WORD GetFWRevEE(void);
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 49  

 204      =1  void SaveFWRevEE(WORD);
 205      =1  
 206      =1  BYTE GetDebugLevelEE(void);
 207      =1  void SaveDebugLevelEE(BYTE);
 208      =1  
 209      =1  #ifdef WIDE_SCREEN
 210      =1  BYTE GetWideModeEE(void);
 211      =1  void SaveWideModeEE(BYTE dl);
 212      =1  #endif
 213      =1  
 214      =1  
 215      =1  //BYTE GetRange4CoarseEE(void);
 216      =1  //void SaveRange4CoarseEE(BYTE);
 217      =1  
 218      =1  BYTE GetPossibleAutoDetectStdEE(void);
 219      =1  void SetPossibleAutoDetectStdEE(void);
 220      =1  
 221      =1  //BYTE GetOSDXPositionEE(void);
 222      =1  //BYTE GetOSDYPositionEE(void);
 223      =1  BYTE GetClosedCaptionFlagEE(void);
 224      =1  
 225      =1  BYTE GetVideoDatafromEE(BYTE);
 226      =1  void SaveVideoDatatoEE(BYTE offset, BYTE ndata);
 227      =1  
 228      =1  //BYTE GetVideoBrightnessEE(void);
 229      =1  //BYTE GetVideoSaturationEE(BYTE);
 230      =1  //BYTE GetVideoHueEE(void);
 231      =1  //BYTE GetVideoSharpnessEE(void);
 232      =1  
 233      =1  //void SaveVideoContrastEE(BYTE ndata);
 234      =1  //void SaveVideoBrightnessEE(BYTE ndata);
 235      =1  //void SaveVideoSaturationEE(BYTE, BYTE ndata);
 236      =1  //void SaveVideoHueEE(BYTE ndata);
 237      =1  //void SaveVideoSharpnessEE(BYTE ndata);
 238      =1  
 239      =1  BYTE GetOSDPositionModeEE(void);
 240      =1  void SaveOSDPositionModeEE(BYTE ndata);
 241      =1  //void SaveOSDXPositionEE(BYTE);
 242      =1  //void SaveOSDYPositionEE(BYTE);
 243      =1  
 244      =1  void SaveClosedCaptionFlagEE(BYTE);
 245      =1  
 246      =1  BYTE GetBlockedTVEE(void);                      
 247      =1  void SaveBlockedTVEE(BYTE vi);          
 248      =1  BYTE GetBlockedTV_FLDSLEE( BYTE level ) ;
 249      =1  void SaveBlockedTV_FLDSLEE(BYTE level, BYTE vi) ;
 250      =1  
 251      =1  BYTE GetBlockedMovieEE(void);           
 252      =1  void SaveBlockedMovieEE(BYTE vi);       
 253      =1  #if 0
           =1 BYTE GetInputSelectionEE(void);
           =1 #endif
 256      =1  void SaveInputSelectionEE(BYTE val);
 257      =1  
 258      =1  //BYTE GetOSDDurationEE(void);
 259      =1  //void SaveOSDDurationEE(BYTE val);
 260      =1  
 261      =1  BYTE GetOSDLangEE(void);
 262      =1  void SaveOSDLangEE(BYTE val);
 263      =1  
 264      =1  //ljy100303...BYTE GetOSDZoomEE(void);
 265      =1  //ljy100303...void SaveOSDZoomEE(BYTE val);
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 50  

 266      =1  
 267      =1  BYTE GetAudioVolEE(void);
 268      =1  void SetAudioVolEE( BYTE vol );
 269      =1  BYTE GetPCAudioVolEE(void);
 270      =1  void SetPCAudioVolEE( BYTE vol );
 271      =1  #if 0
           =1 BYTE GetAudioBalanceEE(void);
           =1 void SetAudioBalanceEE( BYTE vol );
           =1 BYTE GetAudioBassEE(void);
           =1 void SetAudioBassEE( BYTE vol );
           =1 BYTE GetAudioTrebleEE(void);
           =1 void SetAudioTrebleEE( BYTE vol );
           =1 #endif
 279      =1  //BYTE GetAudioEffectEE(void);
 280      =1  //void SetAudioEffectEE( BYTE vol );
 281      =1  
 282      =1  void ClearBasicEE(void);
 283      =1  
 284      =1  BYTE ValidPassword(DATA_P BYTE *numstr, BYTE index);
 285      =1  BYTE SetNewPassword(DATA_P BYTE *numstr, BYTE index);
 286      =1  
 287      =1  //WORD GetPanelXRes(void);
 288      =1  //WORD GetPanelYRes(void);
 289      =1  BYTE GetPanelHsyncMinPulseWidth(void);
 290      =1  BYTE GetPanelVsyncMinPulseWidth(void);
 291      =1  WORD GetPanelHMinBackPorch(void);
 292      =1  BYTE GetPanelHsyncPolarity(void);
 293      =1  BYTE GetPanelVsyncPolarity(void);
 294      =1  WORD GetPanelDotClock(void);
 295      =1  WORD GetPanelMaxClock(void);
 296      =1  BYTE GetPanelPixsPerClock(void);
 297      =1  // Not used yet *************************  BYTE GetPanelDEonly(void);
 298      =1  
 299      =1  void AddTVChannelEE( BYTE tvtype, BYTE chn);
 300      =1  BYTE GetTVChannelEE( BYTE tvtype, BYTE inx);
 301      =1  void ResetTVChannelEE( BYTE tvtype );
 302      =1  BYTE GetTVChannelCntEE(BYTE tvtype);
 303      =1  BYTE GetTVChnIdxEE(BYTE tvtype);
 304      =1  BYTE GetCurTVChannelEE(BYTE tvtype);
 305      =1  void SetTVChnIdxEE(BYTE tvtype, BYTE newd);
 306      =1  void SetCurTVChannelEE(BYTE tvtype, BYTE newd);
 307      =1  BYTE InsertTVChannelEE(BYTE tvtype, BYTE newd);
 308      =1  BYTE RemoveTVChannelEE(BYTE tvtype, BYTE newd);
 309      =1  
 310      =1  void SetTVPrEE(void);
 311      =1  BYTE GetTVPrEE(void);
 312      =1  void SetTVFreqEE(BYTE, WORD);
 313      =1  WORD GetTVFreqEE(BYTE);
 314      =1  void SetFineTuneEE(BYTE, BYTE);
 315      =1  BYTE GetFineTuneEE(BYTE);
 316      =1  BYTE GetTVPrSystem(BYTE);
 317      =1  void SetTVPrSystem(BYTE, BYTE);
 318      =1  BYTE GetTVInputSelEE(void);
 319      =1  void SetTVInputSelEE(BYTE);
 320      =1  
 321      =1  #define GetVInputStdDetectModeEE()                              ReadEEP(EEP_AUTODETECTTYTE)
 322      =1  #define SaveVInputStdDetectModeEE(A)                    WriteEEP(EEP_AUTODETECTTYTE, A)
 323      =1  
 324      =1  #define GetAutoRecogntionEE()                                   ReadEEP(EEP_AUTORECOGNITION)
 325      =1  #define SaveAutoRecogntionEE(A)                                 WriteEEP(EEP_AUTORECOGNITION, A)
 326      =1  
 327      =1  #define SetVideoModeEE( ctid )                                  WriteEEP( EEP_VIDEOMODE, ctid )
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 51  

 328      =1  #define GetVideoModeEE()                                                ReadEEP( EEP_VIDEOMODE )
 329      =1  
 330      =1  #define GetPanelContrastEE()                                    ReadEEP(0x10)
 331      =1  
 332      =1  #if defined( SUPPORT_PC ) || defined( SUPPORT_DTV )
 333      =1  //#define GetPanelHueEE()                                                       ReadEEP(0x28)
 334      =1  //#define GetPanelSharpnessEE()                                 ReadEEP(0x29)
 335      =1  #define GetPanelBrightnessEE()                                  ReadEEP(0x11)
 336      =1  //#define GetPanelSaturationEE()                                        ReadEEP(0x2a)
 337      =1  
 338      =1  //#define SavePanelHueEE(A)                                             WriteEEP(0x28, A)
 339      =1  //#define SavePanelSharpnessEE(A)                                       WriteEEP(0x29, A)
 340      =1  #define SavePanelContrastEE(A)                                  WriteEEP(0x10, A)
 341      =1  #define SavePanelBrightnessEE(A)                                WriteEEP(0x11, A)
 342      =1  //#define SavePanelSaturationEE(A)                              WriteEEP(0x2a, A)
 343      =1  #endif
 344      =1  
 345      =1  /*
 346      =1  #define GetDigitalVideoContrastEE()                             ReadEEP(0x2b)
 347      =1  #define GetDigitalVideoBrightnessEE()                   ReadEEP(0x2c)
 348      =1  #define GetDigitalVideoHueEE()                                  ReadEEP(0x2d)
 349      =1  #define GetDigitalVideoSaturationEE(off)                ReadEEP(0x2e+off)
 350      =1  
 351      =1  #define SaveDigitalVideoContrastEE(A)                   WriteEEP(0x2b, A)
 352      =1  #define SaveDigitalVideoBrightnessEE(A)                 WriteEEP(0x2c, A)
 353      =1  #define SaveDigitalVideoHueEE(A)                                WriteEEP(0x2d, A)
 354      =1  #define SaveDigitalVideoSaturationEE(off,A)             WriteEEP(0x2e+off, A)
 355      =1  */
 356      =1  
 357      =1  #endif  // __ETC_EEP__
  16          #include "pc_eep.h"
   1      =1  #ifndef __PC_EEP__
   2      =1  #define __PC_EEP__
   3      =1  
   4      =1  
   5      =1  // -----------------------------------------------------------------------------
   6      =1  #define PC_COLOR_DATA   0x80    // StartAddress of EEPROM for PC Color Temperature
   7      =1  #define PC_USERCOLOR    0x8A
   8      =1  #define SetPCColorTempModeEE( ctid )                    WriteEEP( PC_COLOR_DATA, ctid )
   9      =1  #define GetPCColorTempModeEE()                                  ReadEEP( PC_COLOR_DATA )
  10      =1  
  11      =1  #define GetPCUserColorTempEE( ucolorr)                  ReadEEP( PC_USERCOLOR+ucolorr )
  12      =1  #define SavePCUserColorTempEE( ucolorw, uval)   WriteEEP( PC_USERCOLOR+ucolorw, uval )
  13      =1  #define GetPCColorEE(index)                                             ReadEEP(index)
  14      =1  
  15      =1  // -----------------------------------------------------------------------------
  16      =1  #define EE_ADC_GO               0x90    // ADC Gain Offset for PC
  17      =1  #define EE_ADC_GO_DTV   0x98    // ADC Gain Offset for DTV
  18      =1  
  19      =1  #define EE_PCDATA               0xC0    // StartAddress of EEPROM for PCDATA
  20      =1  #define LEN_PCDATA              5               // Length of PCDATA
  21      =1  
  22      =1  WORD GetHPNfromEE(BYTE mode);
  23      =1  
  24      =1  BYTE CheckPcDataEEValid(BYTE, WORD);
  25      =1  
  26      =1  WORD GetVactiveStartEE(BYTE mode);
  27      =1  WORD GetHactiveStartEE(BYTE mode);
  28      =1  
  29      =1  void GetPCDataEE(BYTE mode);
  30      =1  void SavePCDataEE(BYTE mode);
  31      =1  void SaveDefaultPCDataEE(void);
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 52  

  32      =1  void SaveDefaultPCDataAllEE(void);
  33      =1  
  34      =1  void SaveHactiveEE(BYTE mode);
  35      =1  void SaveVactiveEE(BYTE mode);
  36      =1  void SaveVBackPorchEE(BYTE mode);
  37      =1  void SaveCoarseEE(BYTE mode);
  38      =1  void SavePhaseEE(BYTE mode);
  39      =1  /*
  40      =1  WORD GetHactiveStartEE(BYTE mode);
  41      =1  WORD GetVactiveStartEE(BYTE mode);
  42      =1  */
  43      =1  void DumpPCData(void);
  44      =1  
  45      =1  void SaveActiveVEE(WORD);
  46      =1  void SaveBackPorchEE(BYTE);
  47      =1  void SaveActiveHEE(WORD);
  48      =1  
  49      =1  void SaveADCGainOffsetEE(BYTE mod);
  50      =1  void GetADCGainOffsetEE(void);
  51      =1  
  52      =1  void SaveADCGainOffsetForDTVEE(BYTE mod);
  53      =1  void GetADCGainOffsetForDTVEE(void);
  54      =1  
  55      =1  #endif  // __PC_EEP__
  17          #include "audio.h"
   1      =1  
   2      =1  
   3      =1  extern  BYTE    AudioVol;
   4      =1  extern  BYTE    PCAudioVol;
   5      =1  
   6      =1  //BYTE ResetMSP(void);
   7      =1  //void SetMSPSCARTPrescale(void);
   8      =1  //void SetMSPSourceSel(void);
   9      =1  //void SetMSPVol(void);
  10      =1  
  11      =1  //BYTE AudioAutoStdDetection(void);
  12      =1  //BYTE SteroMonoDetection(void);
  13      =1  
  14      =1  //BYTE TunerAudio(void);
  15      =1  //void ExtAudio(void);
  16      =1  //id PCAudio(void);
  17      =1  //id MuteOn(void);
  18      =1  //BYTE GetAudioVol(void);
  19      =1  BYTE ChangeVol(char);
  20      =1  //BYTE GetAudioBalance(void);
  21      =1  //BYTE ChangeBalance(char);
  22      =1  //BYTE GetAudioBass(void);
  23      =1  //BYTE ChangeBass(char);
  24      =1  //BYTE GetAudioTreble(void);
  25      =1  //BYTE ChangeTreble(char);
  26      =1  //BYTE GetAudioEffect(void);
  27      =1  //BYTE ChangeAudioEffect(char amount);
  28      =1  //void ToggleAudioMute(void);
  29      =1  //void CheckAndClearMuteOn(void);
  30      =1  
  31      =1  //BYTE IsAudioMuteOn(void);
  32      =1  //void SetAudioMute(BYTE on );
  33      =1  //void ChangeMTS(BYTE type);
  34      =1  //void AudioOff(void);
  35      =1  void AudioMute(bit mute);
  36      =1  
  37      =1  //#define AudioOn()                     SetMSPVol()
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 53  

  38      =1  //void ResetAudioValue();
  18          #include "printf.h"
   1      =1  #ifndef __PRINTF__
   2      =1  #define __PRINTF__
   3      =1  
   4      =1  #define _outchar(c) while(1) { if( !RS_Xbusy ) { SBUF = c; RS_Xbusy=1; break; } }
   5      =1  #define Putch(c) _outchar(c)
   6      =1  
   7      =1  #ifdef SERIAL
   8      =1  
   9      =1   void Printf ( const char CODE_P *fmt, ... );
  10      =1   void Puts ( CODE_P char *ptr );
  11      =1  
  12      =1  #define TW2835Cmd(a)   Puts ( a )
  13      =1  
  14      =1  #else
           =1 
           =1  #undef  DEBUG
           =1  #define Printf(a,b)    //
           =1  #define Puts(a)                //
           =1 
           =1 #endif
  21      =1  
  22      =1  
  23      =1  #ifndef DEBUG
  24      =1  
  25      =1   #define dPuts(a)               //
  26      =1   #define wPuts(a)               //
  27      =1   #define ePuts(a)               //
  28      =1  
  29      =1  #else
           =1 
           =1  void dPrintf( const char CODE_P *fmt, ... );
           =1  void wPrintf( const char CODE_P *fmt, ... );
           =1  void ePrintf( const char CODE_P *fmt, ... );
           =1 
           =1  void dPuts( CODE_P char *ptr );
           =1  void wPuts( CODE_P char *ptr );
           =1  void ePuts( CODE_P char *ptr );
           =1 
           =1 #endif  // DEBUG
  40      =1  
  41      =1  BYTE Getch(void);
  42      =1  BYTE Getche(void);
  43      =1  
  44      =1  
  45      =1  #endif  //__PRINTF__
  19          #include "udfont.h"
   1      =1  //udfont.h
   2      =1  #define COLORFONT_START 0x60
   3      =1  //#define       MAX_FONT_RAM_CHARS      0xa7 //174
   4      =1  #define MAX_FONT_RAM_CHARS      0x90 //6Kbytes for RAM
   5      =1  code unsigned char RAMFONTDATA[][27];
   6      =1  code unsigned char OSD_Color_LookUp_Data_Table[][8];
   7      =1  
   8      =1  
  20          #include "panel.h"
   1      =1  //PanelConfig
   2      =1  
   3      =1          #if   defined SXGA
           =1                                                 #define PHR_ 1280
           =1                                                 #define PVR_ 1024
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 54  

           =1         #elif defined XGA       
           =1                                                 #define PHR_ 1024
           =1                                                 #define PVR_ 768
           =1         #elif defined SVGA
           =1                                                 #define PHR_ 800
           =1                                                 #define PVR_ 600
           =1         #elif defined VGA
           =1                                                 #define PHR_ 640
           =1                                                 #define PVR_ 480
           =1         #elif defined QVGA
           =1                                                 #define PHR_ 320
           =1                                                 #define PVR_ 240
           =1         #elif defined WXGA
           =1                                                 #define PHR_ 1280 //1366
           =1                                                 #define PVR_ 768
           =1         #elif defined WSVGA
           =1                                                 #define PHR_ 1024
           =1                                                 #define PVR_ 600
           =1         #elif defined WVGA
  25      =1                                                  #define PHR_ 800
  26      =1                                                  #define PVR_ 600
  27      =1          #elif defined WQVGA
           =1                                 //              #define PHR_ 960 //480
           =1                                 //              #define PVR_ 237
           =1                                                 #define PHR_ 480 //480
           =1                                                 #define PVR_ 240
           =1         #endif
  33      =1  
  34      =1   
  35      =1  
  36      =1  /*
  37      =1  #define ACTIVE_LOW                      0
  38      =1  #define ACTIVE_HIGH                     1
  39      =1  
  40      =1  CODE struct PanelConfig {
  41      =1          unsigned                x_res,                                  y_res;
  42      =1          unsigned char   h_sync_min_pulse_width, v_sync_min_pulse_width;
  43      =1          unsigned                h_min_back_porch;
  44      =1          unsigned char   h_sync_polarity,                v_sync_polarity;
  45      =1          unsigned                dot_clock,                              max_clock;                      // in unit Mhz*10
  46      =1          unsigned char   pixs_per_clock;
  47      =1          unsigned char   DE_only;
  48      =1  } PanelConfig=
  49      =1          {
  50      =1          //----------------------------------------------------
  51      =1          #ifdef WXGA
  52      =1          //LG  LM171W01 WXGA
  53      =1          1280,                   768,
  54      =1          8,                              1,
  55      =1          8,
  56      =1          ACTIVE_LOW,             ACTIVE_LOW,
  57      =1          #ifdef DOUBLE_PIXEL
  58      =1          320,                    470,
  59      =1          2,
  60      =1          #else
  61      =1          650,                    950,                                    //65Mhz
  62      =1          1,
  63      =1          #endif
  64      =1          0
  65      =1          //----------------------------------------------------
  66      =1          #elif defined XGA
  67      =1          //Samsung  LT150x1-151 XGA
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 55  

  68      =1          1024,                   768,
  69      =1          68,                             1,
  70      =1          80,
  71      =1          ACTIVE_LOW,             ACTIVE_LOW,
  72      =1          #ifdef DOUBLE_PIXEL
  73      =1          325,                    400,                                    //32.5Mhz
  74      =1          2,
  75      =1          #else
  76      =1          650,                    800,
  77      =1          1,
  78      =1          #endif
  79      =1          0
  80      =1          //----------------------------------------------------
  81      =1          #elif defined SXGA
  82      =1          //Samsung  LT170E2-131  SXGA
  83      =1          1280,                   1024,
  84      =1          1,                              1,
  85      =1          1,
  86      =1          ACTIVE_LOW,             ACTIVE_LOW,
  87      =1          #ifdef DOUBLE_PIXEL
  88      =1          540,                    540,                                    //54.5Mhz
  89      =1          2,
  90      =1          #else
  91      =1          1080,                   1080,
  92      =1          1,
  93      =1          #endif
  94      =1          0
  95      =1          //----------------------------------------------------
  96      =1          #elif defined WSVGA                                             // Thosiba
  97      =1          1024,                   600,
  98      =1          8,                              3,
  99      =1          1,//80,                         
 100      =1          ACTIVE_LOW,             ACTIVE_LOW,
 101      =1          #ifdef DOUBLE_PIXEL
 102      =1          325,                    450,
 103      =1          2,
 104      =1          #else
 105      =1          500,                    550,                                    //50Mhz
 106      =1          1,
 107      =1          #endif
 108      =1          0
 109      =1          //----------------------------------------------------
 110      =1  
 111      =1          #elif defined SVGA
 112      =1          //NEC NL8060AC26-11 SVGA
 113      =1          800,                    600,
 114      =1          2,                              1,
 115      =1          13,
 116      =1          ACTIVE_LOW,             ACTIVE_LOW,
 117      =1          #ifdef DOUBLE_PIXEL
 118      =1          384,                    500,                                    //38.4MHz
 119      =1          2,
 120      =1          #else
 121      =1          670,                    1000,
 122      =1          1,
 123      =1          #endif
 124      =1          0
 125      =1          //----------------------------------------------------
 126      =1          #elif defined VGA
 127      =1          //NEC NL6448AC33        VGA                                     // OK with SetPanelRegisters
 128      =1          640,                    480,
 129      =1          10,                             1,
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 56  

 130      =1          4,
 131      =1          ACTIVE_LOW,             ACTIVE_LOW,
 132      =1          #ifdef DOUBLE_PIXEL
 133      =1          130,                    150,                                    //25.2MHz
 134      =1          2,
 135      =1          #else
 136      =1          250,                    300,
 137      =1          1,
 138      =1          #endif
 139      =1          0
 140      =1          //----------------------------------------------------
 141      =1  
 142      =1          #elif defined WVGA
 143      =1          // Panasonic  EDTCB27QBF WVGA
 144      =1          800,                    480,
 145      =1          4,                              1,
 146      =1          7,
 147      =1          ACTIVE_LOW,             ACTIVE_LOW,
 148      =1          #ifdef DOUBLE_PIXEL
 149      =1          166,                    200,                                    //33.2MHz
 150      =1          2,
 151      =1          #else
 152      =1          332,                    360,                                    //33.2MHz
 153      =1          1,
 154      =1          #endif
 155      =1          0
 156      =1  
 157      =1          //----------------------------------------------------
 158      =1          #else
 159      =1          // Default : XGA panel
 160      =1          // Samsung  LT150x1-151 XGA
 161      =1          1024,                   768,
 162      =1          68,                             1,
 163      =1          80,
 164      =1          ACTIVE_LOW,             ACTIVE_LOW,
 165      =1          #ifdef DOUBLE_PIXEL
 166      =1          325,                    400,                                    //32.5Mhz
 167      =1          2,
 168      =1          #else
 169      =1          650,                    800,                                    //32.5Mhz
 170      =1          1,
 171      =1          #endif
 172      =1          0
 173      =1          #endif
 174      =1          };
 175      =1  
 176      =1  */
  21          #include "rgbmix.h"             // for TW8801
   1      =1  #ifndef __RGBMIX__
   2      =1  #define __RGBMIX__
   3      =1  
   4      =1  #include "RegMap.h"
   1      =2  #ifndef __REGMAP__
   2      =2  #define __REGMAP__
   3      =2  
   4      =2  //-----------------------------------------------------------------------------
   5      =2  //                              Individual Decoder Registers 
   6      =2  //-----------------------------------------------------------------------------
   7      =2  
   8      =2  #define MCU_STOP_MODE   0xc8    // bit 7 is mcu stop, bit5 is MCU debug
   9      =2  
  10      =2  #define LAD0                    0xc9    // Low speed AD channel 0
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 57  

  11      =2  #define LAD1                    0xca    // Low speed AD channel 1
  12      =2  
  13      =2  #define REG_PAGE                0xff
  14      =2  #define STATUS0                 0xd0
  15      =2  #define STATUS1                 0xd1
  16      =2  #define IRQ_EN1                 0xd2
  17      =2  #define IRQ_EN0                 0xd3
  18      =2  
  19      =2  //-----------------------------------------------------------------------------
  20      =2  //                              Individual Decoder Registers 
  21      =2  //-----------------------------------------------------------------------------
  22      =2  
  23      =2  #define DECODERADDRESS  TW88I2CAddress
  24      =2  
  25      =2  #define CVFMT                   0x1e    // Component Video Format
  26      =2  #define FBSHIFT                 0x38    // RGB Anti-Alias Filter/FB Shift Level
  27      =2  #define SHUE                    0x3e    // RGB Hue
  28      =2  #define SCONTRAST               0x3b    // RGB Contrast
  29      =2  #define SBRIGHT                 0x3a    // RGB Brightness
  30      =2  #define SCbGAIN                 0x3c    // RGB Cb Gain
  31      =2  #define SCrGAIN                 0x3d    // RGB Cb Gain
  32      =2  #define RGBCONTROL              0x36    // RGB Powerdown..
  33      =2  #define RGBMISC                 0x39
  34      =2  #define FBCONTRL                0x3F
  35      =2  
  36      =2  //#define OSD_ADJ                       0xce
  37      =2  #define PNLSHARPNESS    0x78    // Sharpness Control
  38      =2  #define OSDWINSTATUS    0x95
  39      =2  //-----------------------------------------------------------------------------
  40      =2  //                              Common Registers
  41      =2  //-----------------------------------------------------------------------------
  42      =2  #define CSTATUS                 0x01    // Chip Status
  43      =2  #define INFORM                  0x02    // Input Format
  44      =2  #define ACNTL                   0x06    // Analog Control
  45      =2  #define CROP_HI                 0x07    // Cropping High
  46      =2  #define VDELAY_LO               0x08    // Vertical Delay Low
  47      =2  #define VACTIVE_LO              0x09    // Vertical Active Low
  48      =2  #define HDELAY_LO               0x0a    // Horizontal Delay Low
  49      =2  #define HACTIVE_LO              0x0b    // Horizontal Active Low
  50      =2  #define CNTRL1                  0x0c    // Control 1
  51      =2  
  52      =2  #define BRIGHT                  0x10    // Brightness Control
  53      =2  #define CONTRAST                0x11    // Contrast Control
  54      =2  #define SHARPNESS               0x12    // Sharpness Control
  55      =2  #define SAT_U                   0x13    // Chroma(U) Gain
  56      =2  #define SAT_V                   0x14    // Chroma(V) Gain
  57      =2  #define HUE                             0x15    // Hue Conrol
  58      =2  #define V_PEAKING               0x17    // Vertical Peaking
  59      =2  
  60      =2  #define CC_STATUS               0x1a    // CC/EDS Status
  61      =2  #define CC_DATA                 0x1b    // CC/EDS Data
  62      =2  #define SDT                             0x1c    // Standard Selection
  63      =2  #define SDTR                    0x1d    // Standard Recognition
  64      =2  
  65      =2  #define V_CONTROL2              0x29    // Vertical Control II
  66      =2  #define HFILTER                 0x2c
  67      =2  #define MISC1                   0x2d    // Miscellaneous Control 1
  68      =2  #define MISC2                   0x2e    // Miscellaneous Control 2
  69      =2  #define MISC3                   0x2f    // Miscellaneous Control 2
  70      =2  
  71      =2  #define VBI_CNTL2               0x34    // VBI control 2 - WSSEN
  72      =2  #define CC_ODDLINE              0x35    // CC Odd Line
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 58  

  73      =2  
  74      =2  #define LADC0                   0xc9    //LADC Channel 0 Input Value 
  75      =2  #define LADC1                   0xca    //LADC Channel 1 Input Value 
  76      =2  
  77      =2  #define WriteDecoder(index, val)                WriteTW88( index, val )
  78      =2  #define ReadDecoder(index)                              ReadTW88(  index )
  79      =2  #endif // __REGMAP__
   5      =1  
   6      =1  //#define       SetDigitalVideoContrastReg(vcval)                               WriteTW88(0x3b, vcval)
   7      =1  //#define       SetDigitalVideoBrightnessReg(vbval)                             WriteTW88(0x3c, vbval )
   8      =1  //#define       SetDigitalVideoHueReg(vhval)                                    WriteTW88(0x32, vhval )
   9      =1  //#define       SetDigitalVideoSaturationReg(gain, vhval)               WriteTW88(0x3d+gain, (ReadTW88(0x3d+gain)&0x80) + vhv
             -al )
  10      =1  #define SetDigitalVideoContrastReg(vcval)                               WriteI2C(DECODERADDRESS, SCONTRAST, vcval)
  11      =1  #define SetDigitalVideoBrightnessReg(vbval)                             WriteI2C(DECODERADDRESS, SBRIGHT,       vbval )
  12      =1  #define SetDigitalVideoHueReg(vhval)                                    WriteI2C(DECODERADDRESS, SHUE,  vhval )
  13      =1  #define SetDigitalVideoSaturationReg(gain, vhval)               WriteI2C(DECODERADDRESS, SCbGAIN+gain, (ReadI2C(DECODER
             -ADDRESS, SCbGAIN+gain)&0x80) + vhval )
  14      =1  
  15      =1  #endif // __RGBMIX__
  22          #include "cpu.h"
   1      =1  #ifndef __CPU__
   2      =1  #define __CPU__
   3      =1  
   4      =1  /*
   5      =1  #ifdef INTERNAL_MCU
   6      =1  #define I2C_SCL         P2_0
   7      =1  #else
   8      =1  #define I2C_SCL         P1_0
   9      =1  #endif
  10      =1  #define I2C_SDA         P1_1
  11      =1  */
  12      =1  #define I2C_SCL         P1_0
  13      =1  #define I2C_SDA         P1_1
  14      =1  #define BUF_MAX         8
  15      =1  #define DVR_BUF_MAX     30
  16      =1  
  17      =1  #ifdef REMO_RC5
           =1 #define EnableRemoconInt()      { RemoDataReady = 0;    EX0 = 1;}
           =1 #endif
  20      =1  void    InitCPU(void);
  21      =1  void    InitVars(void);
  22      =1  void    InitTechwell(void);
  23      =1  void    main_init (void);
  24      =1  void    PowerDown( void );
  25      =1  #if 0
           =1 BYTE    OKSleepTime(void);
           =1 #endif
  28      =1  #ifdef REMO_RC5
           =1 void    InitForRemo(void);
           =1 #endif
  31      =1  void    PowerLED(BYTE flag);
  32      =1  void    Wait_ms(WORD Tms);
  33      =1  BYTE    TW2835Command(char,char,char,char,char);
  34      =1  
  35      =1  #endif
  23          
  24          #include "HS_keyremo.h"
   1      =1  #ifndef _HS_keyremo_
   2      =1  #define _HS_keyremo_
   3      =1  
   4      =1  //
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 59  

   5      =1  // KeyRemo.h
   6      =1  // Default function for Key Input and Remocon Input
   7      =1  //
   8      =1  //=============================================================================
   9      =1  //                                  Operation Key Mapping
  10      =1  //=============================================================================
  11      =1  
  12      =1  
  13      =1  
  14      =1  #define  SelectMode 0
  15      =1  #define  JumpMode       1
  16      =1  
  17      =1  
  18      =1  
  19      =1  
  20      =1  extern BYTE NowModeState;
  21      =1  extern BYTE TriggerFlag;
  22      =1  extern bit      ParkFlag;
  23      =1  extern BYTE  Attr_A,Attr_B,Attr_C,Attr_R; 
  24      =1  extern BYTE TimeStep;
  25      =1  extern BYTE SEQFlag;
  26      =1  extern BYTE SEQIndex;
  27      =1  extern BYTE TriggerMode;
  28      =1  extern bit AVFlag;
  29      =1  extern bit VGAAudio;
  30      =1  
  31      =1  
  32      =1  
  33      =1  //BYTE TW2835Command(char,char,char,char,char);
  34      =1  void SetSourceMode(BYTE Index,char ,char ,char ,char );
  35      =1  void SetSelectMode(void);
  36      =1  //void PriorityOffSelectMode(void);
  37      =1  void SetJumpMode(void);
  38      =1  void SetNowMode(void);
  39      =1  void SetRearSource(void);
  40      =1  void SetLeftSource(void);
  41      =1  void SetRightSource(void);
  42      =1  
  43      =1  
  44      =1  BYTE CheckTrigger(void);
  45      =1  void TriggerHandler(BYTE T_Flag);
  46      =1  void SEQMode(void);
  47      =1  
  48      =1  
  49      =1  
  50      =1  
  51      =1  #endif
  25          #include "HS_DVRProtocol.h"
   1      =1  
   2      =1  
   3      =1  
   4      =1  #ifndef _HS_DVRProtocol_
   5      =1  #define _HS_DVRProtocol_
   6      =1  
   7      =1  //==================================================
   8      =1  //
   9      =1  //
  10      =1  //
  11      =1  //==================================================
  12      =1  
  13      =1  
  14      =1  enum HS_DvrCommand
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 60  

  15      =1  {
  16      =1          CMD_NULL,
  17      =1          SetDVRParam,    // 1
  18      =1          SetDVRDefault,
  19      =1          SetDATETIME,
  20      =1          GetDVRParam,
  21      =1          GetDVRStatus,
  22      =1          GetDATETIME, 
  23      =1          SetFormatSD, 
  24      =1          SendAlarm, 
  25      =1          GetDVRVersion=0x09, 
  26      =1          SendDVRStatus=0x14,
  27      =1          GetLCDMode=0x15,
  28      =1          SendDVRParam=0x16,
  29      =1          SendDVRParamDT=0x17,
  30      =1          SetFormatSDDone=0x18,
  31      =1          Halt_Start=0xc8,
  32      =1          Halt_OK=0xc9,
  33      =1          FW_Update_Start=0xca,
  34      =1          FW_Update_OK=0xcb,
  35      =1          MANUALRECSTART=0xdc,
  36      =1          MANUALRECSTOP=0xdd,
  37      =1          SNAPSHOT=0xde,
  38      =1          CMD_UNKNOWN=0xff,
  39      =1          CMD_NUM
  40      =1  };
  41      =1  
  42      =1  
  43      =1  //RS485 TX or RX define
  44      =1  enum
  45      =1  {
  46      =1          RS485_TX,               //RS485 Transmit        
  47      =1          RS485_RX                //Rs485 Receive
  48      =1  };
  49      =1  
  50      =1  enum
  51      =1  {
  52      =1          Baud_rate2400,          
  53      =1          Baud_rate4800,  
  54      =1          Baud_rate9600
  55      =1  };
  56      =1  
  57      =1  
  58      =1  //Camera Command ID define
  59      =1  enum
  60      =1  {
  61      =1  //      CAM_CLEAR,                              //Clear 
  62      =1          CAM_ZOOM_OUT_START,                     //Zoom Out  Start
  63      =1  //      CAM_ZOOM_OUT_END,                       //Zoom Out  End
  64      =1          CAM_ZOOM_IN_START,                      //Zoom In Start
  65      =1  //      CAM_ZOOM_IN_END,                        //Zoom In End
  66      =1  //      CAM_IRIS_CLOSE_START,           //IRIS Close Start
  67      =1  //      CAM_IRIS_CLOSE_END,             //IRIS Close End
  68      =1  //      CAM_IRIS_OPEN_START,                    //IRIS Open Start
  69      =1  //      CAM_IRIS_OPEN_END,                      //IRIS Open End
  70      =1  //      CAM_FOCUS_FAR_START,            //Focus Far Start
  71      =1  //      CAM_FOCUS_FAR_END,              //Focus Far End
  72      =1  //      CAM_FOCUS_NEAR_START,           //Focus Near Start
  73      =1  //      CAM_FOCUS_NEAR_END,             //Focus Near End
  74      =1          CAM_SET,                                //Set 
  75      =1          CAM_CALL,                               //Call 
  76      =1  //      CAM_FOCUS_SPEED,                //Focus Speed
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 61  

  77      =1  //      CAM_ZOOM_SPEED,         //Zoom Speed
  78      =1          CAM_PTZ_RIGHT,                  //PTZ Right 
  79      =1          CAM_PTZ_LEFT,                   //PTZ Left
  80      =1          CAM_PTZ_UP,                     //PTZ Up
  81      =1          CAM_PTZ_DOWN,                   //PTZ Down
  82      =1          CAM_MENU_ENTER,                 //PTZ Down
  83      =1          CAM_Iris_Open,
  84      =1  
  85      =1  //      CAM_PTZ_RIGHT_UP,               //PTZ Right with Up
  86      =1  //      CAM_PTZ_RIGHT_DOWN,     //PTZ Right with Down
  87      =1  //      CAM_PTZ_LEFT_UP,                //PTZ Left with Up
  88      =1  //      CAM_PTZ_LEFT_DOWN,      //PTZ Left with Down
  89      =1          CAM_PTZ_STOP                    //PTZ Control Stop
  90      =1  };
  91      =1  
  92      =1  void Hs_DvrTxCmdPaser(BYTE Cmd_Id );
  93      =1  void Hs_Protocol_Init(void);
  94      =1  BYTE DvrReceivePaser(void);
  95      =1  extern bit       DVR_Ready;
  96      =1  void CAM_TxCommand_toRS485(BYTE Com_ID);
  97      =1  void Send_PelcoP_Command(void);
  98      =1  void Send_PelcoD_Command(void);
  99      =1  void Send_GE_Command(void);
 100      =1  #endif
 101      =1  
  26          #include "HS_DisplayOSD.h"
   1      =1  #ifndef _HS_DisplayOSD_
   2      =1  #define _HS_DisplayOSD_
   3      =1  
   4      =1  
   5      =1  
   6      =1  
   7      =1  
   8      =1  #define         NORMAL_Record   0x01
   9      =1  #define         Manual_Record   0x02
  10      =1  #define         ALARM_Record    0x04
  11      =1  #define         OverWrite_Record        0x80
  12      =1  
  13      =1  void DisplayGaugeOSD(void);
  14      =1  void ClearGAUGEINFO(void);
  15      =1  void DisplaylockOSD(void); 
  16      =1  void DisplayactvOSD(void); 
  17      =1  
  18      =1  
  19      =1  void DisplayNumber(BYTE addr,WORD val,BYTE type);
  20      =1  
  21      =1  //#ifdef SUPPORT_SDCARD
  22      =1  void DisplayDVRStatus(void);
  23      =1  void DisplayFormatOSD(void);
  24      =1  void DisplayFormatOkOSD(void);
  25      =1  void DisplayFormatFailOSD(void);
  26      =1  void DisplayFWUpDate(void);
  27      =1  void DisplayFWUpDateOK(void);
  28      =1  void DisplayFWUpDateFail(void);
  29      =1  void DisplayFWVersion(void) ;
  30      =1  void DisplayDVRnotReady(void);
  31      =1  //#endif                //#ifdef SUPPORT_SDCARD
  32      =1  #endif
  27          #include "HS_IOdef.h"
   1      =1  #ifndef _HS_IOdef_
   2      =1  #define _HS_IOdef_
   3      =1  
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 62  

   4      =1  
   5      =1  
   6      =1  #include "Reg.h"
   1      =2  //
   2      =2  //Registers.h   : Register declaration
   3      =2  //
   4      =2  
   5      =2  #ifndef __REGISTERS__
           =2 #define __REGISTERS__
           =2 
           =2 #ifdef INTERNAL_MCU
           =2 /*  BYTE Registers  */
           =2 sfr P0    = 0x80;
           =2 sfr P1    = 0x90;
           =2 sfr P2    = 0xA0;
           =2 sfr P3    = 0xB0;
           =2 sfr PSW   = 0xD0;
           =2 sfr ACC   = 0xE0;
           =2 sfr B     = 0xF0;
           =2 sfr SP    = 0x81;
           =2 sfr DPL   = 0x82;
           =2 sfr DPH   = 0x83;
           =2 sfr PCON  = 0x87;
           =2 sfr TCON  = 0x88;
           =2 sfr TMOD  = 0x89;
           =2 sfr TL0   = 0x8A;
           =2 sfr TL1   = 0x8B;
           =2 sfr TH0   = 0x8C;
           =2 sfr TH1   = 0x8D;
           =2 sfr IE    = 0xA8;
           =2 sfr IP    = 0xB8;
           =2 sfr SCON  = 0x98;
           =2 sfr SBUF  = 0x99;
           =2 
           =2 //sfr P4    = 0xd8;
           =2 
           =2 /*  8052 Extensions  */
           =2 sfr EXIF  = 0x91;               // external interrupt 2,3,4,5 flags should be cleared by software
           =2 sfr T2CON = 0xC8;
           =2 sfr RCAP2L = 0xCA;
           =2 sfr RCAP2H = 0xCB;
           =2 sfr TL2   = 0xCC;
           =2 sfr TH2   = 0xCD;
           =2 sfr EICON = 0xD8;
           =2 sfr EIE   = 0xE8;
           =2 sfr EIP   = 0xF8;
           =2 
           =2 /*      TW88 Core Extension */
           =2 sfr     BANKREG         = 0x9A;
           =2 sfr     SPICONTROL      = 0x9B;
           =2 sfr     T0HIGH          = 0x9C;
           =2 sfr     T0LOW           = 0x9D;
           =2 sfr     T1HIGH          = 0x9E;
           =2 sfr     T1LOW           = 0x9F;
           =2 sfr     T2HIGH          = 0x93;
           =2 sfr     T2LOW           = 0x94;
           =2 
           =2 /*  BIT Registers  */
           =2 /*  PSW  */
           =2 sbit CY    = 0xD7;
           =2 sbit AC    = 0xD6;
           =2 sbit F0    = 0xD5;
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 63  

           =2 sbit RS1   = 0xD4;
           =2 sbit RS0   = 0xD3;
           =2 sbit OV    = 0xD2;
           =2 sbit P     = 0xD0;
           =2 
           =2 /*  TCON  */
           =2 sbit TF1   = 0x8F;
           =2 sbit TR1   = 0x8E;
           =2 sbit TF0   = 0x8D;
           =2 sbit TR0   = 0x8C;
           =2 sbit IE1   = 0x8B;
           =2 sbit IT1   = 0x8A;
           =2 sbit IE0   = 0x89;
           =2 sbit IT0   = 0x88;
           =2 
           =2 /*  IE  */
           =2 sbit EA    = 0xAF;
           =2 sbit ES    = 0xAC;
           =2 sbit ET1   = 0xAB;
           =2 sbit EX1   = 0xAA;
           =2 sbit ET0   = 0xA9;
           =2 sbit EX0   = 0xA8;
           =2 
           =2 /*  EIE  */
           =2 sbit EWDI  = 0xEC;              // Watch dog timer interrupt enable
           =2 sbit EX5   = 0xEB;              // external interrupt 5 enable
           =2 sbit EX4   = 0xEA;              // external interrupt 4 enable
           =2 sbit EX3   = 0xE9;              // external interrupt 3 enable
           =2 sbit EX2   = 0xE8;              // external interrupt 2 enable
           =2 
           =2 /*  IP  */
           =2 sbit PS    = 0xBC;
           =2 sbit PT1   = 0xBB;
           =2 sbit PX1   = 0xBA;
           =2 sbit PT0   = 0xB9;
           =2 sbit PX0   = 0xB8;
           =2 
           =2 /*  EIP  */
           =2 sbit PWDI  = 0xFC;              // Watch dog timer interrupt priority
           =2 sbit PX5   = 0xFB;              // external interrupt5 priority
           =2 sbit PX4   = 0xFA;              // external interrupt4 priority
           =2 sbit PX3   = 0xF9;              // external interrupt3 priority
           =2 sbit PX2   = 0xF8;              // external interrupt2 priority
           =2 
           =2 /*  P3  */
           =2 sbit RD    = 0xB7;
           =2 sbit WR    = 0xB6;
           =2 sbit T1    = 0xB5;
           =2 sbit T0    = 0xB4;
           =2 sbit INT1  = 0xB3;
           =2 sbit INT0  = 0xB2;
           =2 sbit TXD   = 0xB1;
           =2 sbit RXD   = 0xB0;
           =2 
           =2 /*  SCON  */
           =2 sbit SM0   = 0x9F;
           =2 sbit SM1   = 0x9E;
           =2 sbit SM2   = 0x9D;
           =2 sbit REN   = 0x9C;
           =2 sbit TB8   = 0x9B;
           =2 sbit RB8   = 0x9A;
           =2 sbit TI    = 0x99;
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 64  

           =2 sbit RI    = 0x98;
           =2 
           =2 /*  8052 Extensions  */
           =2 /*  IE  */
           =2 sbit ET2   = 0xAD;
           =2 
           =2 /*  IP  */
           =2 sbit PT2   = 0xBD;
           =2 
           =2 /*  P1  */
           =2 sbit T2EX  = 0x91;
           =2 sbit T2    = 0x90;
           =2              
           =2 /*  T2CON  */
           =2 sbit TF2   = 0xCF;
           =2 sbit EXF2  = 0xCE;
           =2 sbit RCLK  = 0xCD;
           =2 sbit TCLK  = 0xCC;
           =2 sbit EXEN2 = 0xCB;
           =2 sbit TR2   = 0xCA;
           =2 sbit C_T2  = 0xC9;
           =2 sbit CP_RL2= 0xC8;
           =2 
           =2 sfr     CHPENR = 0xF6;
           =2 sfr     CHPCON = 0xBF;
           =2 sfr     SFRAL  = 0xC4;
           =2 sfr     SFRAH  = 0xC5;
           =2 sfr     SFRFD  = 0xC6;
           =2 sfr     SFRCN  = 0xC7;
           =2 
           =2 sbit P0_0  = 0x80;
           =2 sbit P0_1  = 0x81;
           =2 sbit P0_2  = 0x82;
           =2 sbit P0_3  = 0x83;
           =2 sbit P0_4  = 0x84;
           =2 sbit P0_5  = 0x85;
           =2 sbit P0_6  = 0x86;
           =2 sbit P0_7  = 0x87;
           =2 
           =2 sbit P1_0  = 0x90;
           =2 sbit P1_1  = 0x91;
           =2 sbit P1_2  = 0x92;
           =2 sbit P1_3  = 0x93;
           =2 sbit P1_4  = 0x94;
           =2 sbit P1_5  = 0x95;
           =2 sbit P1_6  = 0x96;
           =2 sbit P1_7  = 0x97;
           =2 
           =2 sbit P2_0  = 0xa0;
           =2 sbit P2_1  = 0xa1;
           =2 sbit P2_2  = 0xa2;
           =2 sbit P2_3  = 0xa3;
           =2 sbit P2_4  = 0xa4;
           =2 sbit P2_5  = 0xa5;
           =2 sbit P2_6  = 0xa6;
           =2 sbit P2_7  = 0xa7;
           =2 
           =2 sbit P3_0  = 0xb0;
           =2 sbit P3_1  = 0xb1;
           =2 sbit P3_2  = 0xb2;
           =2 sbit P3_3  = 0xb3;
           =2 sbit P3_4  = 0xb4;
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 65  

           =2 sbit P3_5  = 0xb5;
           =2 sbit P3_6  = 0xb6;
           =2 sbit P3_7  = 0xb7;
           =2 
           =2 #else   // external MCU=WINBOND
           =2 /*  BYTE Registers  */
           =2 sfr P0    = 0x80;
           =2 sfr P1    = 0x90;
           =2 sfr P2    = 0xA0;
           =2 sfr P3    = 0xB0;
           =2 sfr PSW   = 0xD0;
           =2 sfr ACC   = 0xE0;
           =2 sfr B     = 0xF0;
           =2 sfr SP    = 0x81;
           =2 sfr DPL   = 0x82;
           =2 sfr DPH   = 0x83;
           =2 sfr PCON  = 0x87;
           =2 sfr TCON  = 0x88;
           =2 sfr TMOD  = 0x89;
           =2 sfr TL0   = 0x8A;
           =2 sfr TL1   = 0x8B;
           =2 sfr TH0   = 0x8C;
           =2 sfr TH1   = 0x8D;
           =2 sfr CKCON = 0x8E;               //clock control register, default =0x01
           =2 sfr IE    = 0xA8;
           =2 sfr IP    = 0xB8;
           =2 sfr SCON  = 0x98;
           =2 sfr SBUF  = 0x99;
           =2 sfr P4 = 0xE8; //Megawin Ryan@970716
           =2 //sfr P4    = 0xa5;      //SST MCU
           =2 //sfr P4    = 0xd8;             //winbond<960820>
           =2 
           =2 
           =2 /*  8052 Extensions  */
           =2 sfr T2CON = 0xC8;
           =2 sfr RCAP2L = 0xCA;
           =2 sfr RCAP2H = 0xCB;
           =2 sfr TL2   = 0xCC;
           =2 sfr TH2   = 0xCD;
           =2 
           =2 // for UART2
           =2 sfr S2CON  = 0xAA;
           =2 sfr S2BRT  = 0xBA;
           =2 sfr S2BUF  = 0x9A;
           =2 sfr AUXR2  = 0xA6;
           =2 sfr AUXIE  = 0xAD;
           =2 
           =2 
           =2 sfr P1M0  = 0x91;
           =2 sfr P1M1  = 0x92;
           =2 sfr P0M0  = 0x93;
           =2 sfr P0M1  = 0x94;
           =2 
           =2 
           =2 
           =2 // for PCA
           =2 sfr CCON   = 0xD8;
           =2 sfr CMOD   = 0xD9;
           =2 sfr CCAPM0 = 0xDA;
           =2 sfr CCAPM1 = 0xDB;
           =2 sfr CCAPM2 = 0xDC;
           =2 sfr CCAPM3 = 0xDD;
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 66  

           =2 sfr CCAPM4 = 0xDE;
           =2 sfr CCAPM5 = 0xDF;
           =2 sfr CL     = 0xE9;
           =2 sfr CH     = 0xF9;
           =2 sfr CCAP0L = 0xEA;
           =2 sfr CCAP0H = 0xFA;
           =2 sfr CCAP1L = 0xEB;
           =2 sfr CCAP1H = 0xFB;
           =2 sfr CCAP2L = 0xEC;
           =2 sfr CCAP2H = 0xFC;
           =2 sfr CCAP3L = 0xED;
           =2 sfr CCAP3H = 0xFD;
           =2 sfr CCAP4L = 0xEE;
           =2 sfr CCAP4H = 0xFE;
           =2 sfr CCAP5L = 0xEF;
           =2 sfr CCAP5H = 0xFF;
           =2 sfr PCAPWM0= 0xF2;
           =2 sfr PCAPWM1= 0xF3;
           =2 sfr PCAPWM2= 0xF4;
           =2 sfr PCAPWM3= 0xF5;
           =2 sfr PCAPWM4= 0xF6;
           =2 sfr PCAPWM5= 0xF7;
           =2 
           =2 /*  BIT Registers  */
           =2 /*  PSW  */
           =2 sbit CY    = 0xD7;
           =2 sbit AC    = 0xD6;
           =2 sbit F0    = 0xD5;
           =2 sbit RS1   = 0xD4;
           =2 sbit RS0   = 0xD3;
           =2 sbit OV    = 0xD2;
           =2 sbit P     = 0xD0;
           =2 
           =2 /*  TCON  */
           =2 sbit TF1   = 0x8F;
           =2 sbit TR1   = 0x8E;
           =2 sbit TF0   = 0x8D;
           =2 sbit TR0   = 0x8C;
           =2 sbit IE1   = 0x8B;
           =2 sbit IT1   = 0x8A;
           =2 sbit IE0   = 0x89;
           =2 sbit IT0   = 0x88;
           =2 
           =2 /*  IE  */
           =2 sbit EA    = 0xAF;
           =2 sbit ES    = 0xAC;
           =2 sbit ET1   = 0xAB;
           =2 sbit EX1   = 0xAA;
           =2 sbit ET0   = 0xA9;
           =2 sbit EX0   = 0xA8;
           =2 
           =2 /*  IP  */
           =2 sbit PS    = 0xBC;
           =2 sbit PT1   = 0xBB;
           =2 sbit PX1   = 0xBA;
           =2 sbit PT0   = 0xB9;
           =2 sbit PX0   = 0xB8;
           =2 
           =2 /*  P3  */
           =2 sbit RD    = 0xB7;
           =2 sbit WR    = 0xB6;
           =2 sbit T1    = 0xB5;
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 67  

           =2 sbit T0    = 0xB4;
           =2 sbit INT1  = 0xB3;
           =2 sbit INT0  = 0xB2;
           =2 sbit TXD   = 0xB1;
           =2 sbit RXD   = 0xB0;
           =2 
           =2 /*  SCON  */
           =2 sbit SM0   = 0x9F;
           =2 sbit SM1   = 0x9E;
           =2 sbit SM2   = 0x9D;
           =2 sbit REN   = 0x9C;
           =2 sbit TB8   = 0x9B;
           =2 sbit RB8   = 0x9A;
           =2 sbit TI    = 0x99;
           =2 sbit RI    = 0x98;
           =2 
           =2 /*  8052 Extensions  */
           =2 /*  IE  */
           =2 sbit ET2   = 0xAD;
           =2 
           =2 /*  IP  */
           =2 sbit PT2   = 0xBD;
           =2 
           =2 /*  P1  */
           =2 sbit T2EX  = 0x91;
           =2 sbit T2    = 0x90;
           =2              
           =2 /*  T2CON  */
           =2 sbit TF2   = 0xCF;
           =2 sbit EXF2  = 0xCE;
           =2 sbit RCLK  = 0xCD;
           =2 sbit TCLK  = 0xCC;
           =2 sbit EXEN2 = 0xCB;
           =2 sbit TR2   = 0xCA;
           =2 sbit C_T2  = 0xC9;
           =2 sbit CP_RL2= 0xC8;
           =2 
           =2 sfr     CHPENR = 0xF6;
           =2 sfr     CHPCON = 0xBF;
           =2 sfr     SFRAL  = 0xC4;
           =2 sfr     SFRAH  = 0xC5;
           =2 sfr     SFRFD  = 0xC6;
           =2 sfr     SFRCN  = 0xC7;
           =2 
           =2 sbit P0_0  = 0x80;
           =2 sbit P0_1  = 0x81;
           =2 sbit P0_2  = 0x82;
           =2 sbit P0_3  = 0x83;
           =2 sbit P0_4  = 0x84;
           =2 sbit P0_5  = 0x85;
           =2 sbit P0_6  = 0x86;
           =2 sbit P0_7  = 0x87;
           =2 
           =2 sbit P1_0  = 0x90;
           =2 sbit P1_1  = 0x91;
           =2 sbit P1_2  = 0x92;
           =2 sbit P1_3  = 0x93;
           =2 sbit P1_4  = 0x94;
           =2 sbit P1_5  = 0x95;
           =2 sbit P1_6  = 0x96;
           =2 sbit P1_7  = 0x97;
           =2 
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 68  

           =2 sbit P2_0  = 0xa0;
           =2 sbit P2_1  = 0xa1;
           =2 sbit P2_2  = 0xa2;
           =2 sbit P2_3  = 0xa3;
           =2 sbit P2_4  = 0xa4;
           =2 sbit P2_5  = 0xa5;
           =2 sbit P2_6  = 0xa6;
           =2 sbit P2_7  = 0xa7;
           =2 
           =2 sbit P3_0  = 0xb0;
           =2 sbit P3_1  = 0xb1;
           =2 sbit P3_2  = 0xb2;
           =2 sbit P3_3  = 0xb3;
           =2 sbit P3_4  = 0xb4;
           =2 sbit P3_5  = 0xb5;
           =2 sbit P3_6  = 0xb6;
           =2 sbit P3_7  = 0xb7;
           =2 
           =2 sbit P4_0  = P4^0;
           =2 sbit P4_1  = P4^1;
           =2 sbit INT3  = P4^2;
           =2 sbit INT2  = P4^3;
           =2 #endif  // INTERNAL_MCU
           =2 
           =2 #endif  //__REGISTERS__
   7      =1  
   8      =1  #define LEFT_T     P0_0
   9      =1  #define Right_T    P0_1
  10      =1  #define REVERSE_T  P0_2
  11      =1  #define PARK_T     P0_3
  12      =1  #define VGA_T      P0_4
  13      =1  #define CAMC_T     P0_5
  14      =1  #define CAMD_T     P0_6
  15      =1  //#define Audio_Select1     P2_0
  16      =1  //#define Audio_Select2     P2_1
  17      =1  //#define Audio_Mute        P0_7
  18      =1  //#define AVOutPutSelect    P1_7
  19      =1  #define RS232Select     P4_0
  20      =1  #define ACC_B           P1_6
  21      =1  
  22      =1  #define PPWR            P3_6
  23      =1  
  24      =1  
  25      =1  #endif
  28          
  29          static  WORD    OSDItemValue;
  30          //static  BYTE  OSDDuration;
  31          
  32          static  BYTE    title_item, cursor_item, /*cursor_y,*/  cur_osdwin, /*cur_osdaddr,*/ val_osdwin=0xff, 
  33                                                          val_index=0;
  34          
  35          static  BYTE    OSDMenuX, OSDMenuY;/*ljy100303..., OSDZoom*/
  36          static  BYTE    OSDLang=0;
  37          
  38          static  BYTE    OSDMenuLevel;
  39                      bit     OnChangingValue = 0;
  40                                  bit                                     displayOnValueWindow = 0;
  41          //static  BYTE    OSDNumberString[5];
  42          
  43          //extern  IDATA struct BarInfo BarInfo;
  44          extern BYTE     year1,year2,month,day,hour,minute,second;
  45          
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 69  

  46          BYTE    PW_FirstNumber=0                        ;
  47          BYTE    PW_SecondNumber=0                       ;
  48          BYTE    PW_ThridNumber=0                        ;
  49          BYTE    PW_FourthNumber=0                       ;
  50          BYTE    DVR_DataChange=0;
  51          #ifdef E_Wintek
              bit     FactoryMenu;
              #endif
  54          extern BYTE  CAMNumber;
  55          extern BYTE  PelcoChoiceFLAG;
  56          extern BYTE  Baud_rate;
  57          extern BYTE     DVR_daylightsaving;
  58          extern BYTE     DVR_timebeginesmonth;
  59          extern BYTE     DVR_timebeginesweek;
  60          extern BYTE     DVR_timebeginesTime;
  61          extern BYTE     DVR_sandardtimebeginesMonth;
  62          extern BYTE     DVR_standardtimebeginesWeek;
  63          extern BYTE     DVR_standardtimebeginesTime;
  64          extern BYTE     DVR_Resolution                  ;
  65          extern BYTE     DVR_FPS                                 ;
  66          extern BYTE     DVR_Quality                             ;
  67          extern BYTE     DVR_RecordMode                  ;
  68          extern BYTE     DVR_RecordLength                ;
  69          extern BYTE     DVR_PreAlarmLength              ;
  70          extern BYTE     DVR_PostAlarmLength             ;
  71          extern BYTE     FormatStatus                    ;
  72          extern bit              FormatStart                             ;
  73          extern BYTE     FormatWait                              ;
  74          extern BYTE     DVR_TimeZone                    ;
  75          extern BYTE     DVR_AudioRecord                 ;
  76          extern BYTE     DVR_OverWrite;
  77          extern bit              SpeedDomeMode;
  78          extern BYTE     DVR_SDCardAvailable             ;
  79          extern DATA BYTE        RS2_in; 
  80          extern  CODE  struct struct_IdName struct_VInputStd[];
  81          extern  CODE  struct struct_IdName struct_InputSelection[];
  82          //extern  IDATA BYTE InputSelectionInx;
  83          //extern        bit       PowerMode ;
  84          extern  bit   I2CAutoIncFlagOn ;
  85          extern  BYTE  VInputStdDetectMode;
  86          extern CODE BYTE Init_Osd_MainMenu[];
  87          #ifdef ADD_ANALOGPANEL
              extern CODE BYTE Init_Osd_MainMenu_A[];
              #endif
  90          //extern  bit           DisplayInputHold;               //william-981029
  91          
  92          struct MenuType         CODE *MenuFormat;
  93          struct RegisterInfo CODE *BarRange;
  94          struct DefineMenu       CODE *MenuTitle;
  95          struct DefineMenu       CODE *MenuChild;
  96          struct DefineMenu       CODE *MenuStack[4];
  97          static IDATA  BYTE MenuSP=0, MenuIndexStack[4];
  98          
  99          
 100          #include "OSDString.h"
   1      =1  // OSDString.h
   2      =1  //==============================================================================
   3      =1  //
   4      =1  // String by Language
   5      =1  //
   6      =1  // Lang1 = English
   7      =1  // Lang2 = Frensh
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 70  

   8      =1  // Lanf3 = Deutch
   9      =1  // Lang4 = Spanish
  10      =1  // Lang5 = Korean
  11      =1  //==============================================================================
  12      =1  //
  13      =1  //  Display String by language in information
  14      =1  //
  15      =1  #ifndef _OSDString_H_
  16      =1  #define _OSDString_H_
  17      =1  #ifdef AWT
  18      =1  #define VERSION1            'A'    //REV  1. xx     2007.6.22  Justin
  19      =1  #define VERSION2            'W'  //Kane @HS 2007 0720 Ver1.3      //REV  1. xx     2007.6.22  Justin
  20      =1  #define VERSION3            'T'    //REV  1. xx     //  william-1.45-971106
  21      =1  #define VERSION4            '1'    //REV  1. xx     2007.6.22  Justin
  22      =1  #define VERSION5            '7'  //Kane @HS 2007 0720 Ver1.3      //REV  1. xx     2007.6.22  Justin
  23      =1  #define VERSION6            ' '    //REV  1. xx     //  william-1.45-971106
  24      =1  #endif
  25      =1  
  26      =1  #ifdef E_Wintek
           =1 #define VERSION1            'E'    //REV  1. xx     2007.6.22  Justin
           =1 #define VERSION2            ' '  //Kane @HS 2007 0720 Ver1.3      //REV  1. xx     2007.6.22  Justin
           =1 #define VERSION3            ' '    //REV  1. xx     //  william-1.45-971106
           =1 #define VERSION4            '1'    //REV  1. xx     2007.6.22  Justin
           =1 #define VERSION5            '2'  //Kane @HS 2007 0720 Ver1.3      //REV  1. xx     2007.6.22  Justin
           =1 #define VERSION6            ' '    //REV  1. xx     //  william-1.45-971106
           =1 #endif
  34      =1  //--------------------------------------------------------------------------------
  35      =1  #if 0
           =1 CODE BYTE Enter_Password_Str_E[] = {' ',' ',' ',' ','E','n','t','e','r',' ','P','I','N',' ',':',' ','-','-
             -','-','-',0};
           =1 CODE BYTE Enter_Password_Str_F[] = {' ',' ',' ','E','n','t','r','e','r',' ','P','I','N',' ',':',' ','-','-
             -','-','-',0};
           =1 CODE BYTE Enter_Password_Str_D[] = {' ',' ','E','i','n','g','a','b','e',' ','P','I','N',' ',':',' ','-','-
             -','-','-',0};
           =1 CODE BYTE Enter_Password_Str_S[] = {' ',' ',' ','E','n','t','r','e','r',' ','P','I','N',' ',':',' ','-','-
             -','-','-',0};
           =1 CODE BYTE Enter_Password_Str_K[] = {' ',' ',RAMFONT,0x41,0x3d,0x3e,0x6e,0x38,0x71,0x4e,0x36,0x71,0x6b,0x49
             -,0x52,ROMFONT,':',' ','-','-','-','-',0};                                                        
           =1 #endif
  42      =1  //--------------------------------------------------------------------------------
  43      =1  #ifdef E_Wintek
           =1 CODE BYTE CheckPCCableStr_E[] = {RAMFONT,0x5f,0x5f,0x52,0x53,0x5f,0x54,0x55,0x5f,0x56,0x57,ROMFONT,0};
           =1 #else
  46      =1  CODE BYTE CheckPCCableStr_E[] = {'C','h','e','c','k',' ','V','G','A',' ','C','a','b','l','e',0};
  47      =1  #endif
  48      =1  #ifdef fullcode
           =1 CODE BYTE CheckPCCableStr_K[] = {RAMFONT,0x4e,0x36,0x43,0x6e,0x38,0x71,0x6c,0x50,0x6b,0x49,0x52,ROMFONT,0}
             -;
           =1 #endif
  51      =1  //--------------------------------------------------------------------------------
  52      =1  #ifdef fullcode
           =1 CODE BYTE CheckDTVCableStr_E[] = {'C','h','e','c','k',' ','D','T','V',' ','C','a','b','l','e',0};
           =1 CODE BYTE CheckDTVCableStr_K[] = {RAMFONT,0x4e,0x36,0x43,0x6e,0x38,0x71,0x6c,0x50,0x6b,0x49,0x52,ROMFONT,0
             -};
           =1 #endif
  56      =1  //--------------------------------------------------------------------------------
  57      =1  CODE BYTE OutOfRangeStr_E[] = {'O','u','t',' ','O','f',' ','R','a','n','g','e',0};
  58      =1  CODE BYTE OutOfRangeStr_K[] = {RAMFONT,0x62,0x59,0x6b,0x62,0x71,0x4c,0x2f,0x71,0x3a,0x34,ROMFONT,0};
  59      =1  
  60      =1  //--------------------------------------------------------------------------------
  61      =1  
  62      =1  CODE BYTE StrVolume_E[] = {0x12,0x13,'V','o','l','u','m','e',0};        
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 71  

  63      =1  #ifdef fullcode
           =1 CODE BYTE StrVolume_F[] = {0x12,0x13,'V','o','l','u','m','e',0};                                                                
           =1 CODE BYTE StrVolume_D[] = {0x12,0x13,'L', 'a', 'u', 't', 's', 't', 'a', 'r', 'k', 'e',0};                                                               
           =1 CODE BYTE StrVolume_S[] = {0x12,0x13,'V','o','l','u','m','e','n',0};                                                            
           =1 CODE BYTE StrVolume_K[] = {0x12,0x13,RAMFONT,0x53,0x37,ROMFONT,0};
           =1 
           =1 //--------------------------------------------------------------------------------
           =1 CODE BYTE MuteOnStr_E[] = {'M','u','t','e',0};
           =1 CODE BYTE MuteOnStr_K[] = {RAMFONT,0x71,0x5f,0x51,0x69,ROMFONT,0};
           =1 
           =1 #endif
  74      =1  //--------------------------------------------------------------------------------
  75      =1  #ifdef E_Wintek
           =1 CODE BYTE AutoAdjustInfo[]=     {' ',' ',' ',' ',' ',' ',RAMFONT,0x2c,0x2d,0x2e,0x2f,0x14,0x15,0x16,0x17,ROMFO
             -NT,'.','.','.','.',' ',' ',' ',' ',' ',};
           =1 #else
  78      =1  CODE BYTE AutoAdjustInfo[]=     {"   Auto Adjusting ....   "};
  79      =1  #endif                                                  //012345678901234
  80      =1  
  81      =1  /*================================================================================*/
  82      =1  /*
  83      =1  /* Title String in OSD menu                                                         
  84      =1  /*
  85      =1  /*=================================================================================*/
  86      =1  //#define               TITLEMAXDEC                     25      
  87      =1  ///* Title String Length :
  88      =1  /*================================================================================*/
  89      =1  #ifdef fullcode
           =1 CODE BYTE Str_Input_E[] = {'I','n','p','u','t',0};
           =1 CODE BYTE Str_Input_F[] = {'S','o','u','r','c','e',' ','d',0x27, 'e', 'n', 't', 'r', 0x62, 'e',0};
           =1 CODE BYTE Str_Input_D[] = {'E', 'i', 'n', 'g', 'a', 'n', 'g', 's', 'q', 'u', 'e', 'l', 'l', 'e',0};
           =1 CODE BYTE Str_Input_S[] = {'F', 'u', 'e', 'n', 't', 'e', ' ', 'E', 'n', 't', 'r', 'a', 'd', 'e', 0};
           =1 CODE BYTE Str_Input_K[] = {RAMFONT,0x4e,0x36,0x71,0x46,0x67,ROMFONT,0};
           =1 
           =1 //--------------------------------------------------------------------------------
           =1 CODE BYTE Str_Picture_E[] = {'P','i','c','t','u','r','e',0};
           =1 CODE BYTE Str_Picture_F[] = {'E', 'c', 'r', 'a', 'n', 0};
           =1 CODE BYTE Str_Picture_D[] = {'B', 'i', 'l', 'd',0};
           =1 CODE BYTE Str_Picture_S[] = {'P', 'a', 'n', 't', 'a', 'l', 'l', 'a',0};
           =1 CODE BYTE Str_Picture_K[] = {RAMFONT,0x6d,0x3b,0x71,0x5f,0x60,ROMFONT,0};
           =1 
           =1 //--------------------------------------------------------------------------------
           =1 CODE BYTE Str_Sound_E[] = {'A','u','d','i','o',0};
           =1 CODE BYTE Str_Sound_S[] = {'S','o','n','i','d','o',0};
           =1 CODE BYTE Str_Sound_K[] = {RAMFONT,0x53,0x70,0x71,0x5f,0x60,ROMFONT,0};
           =1 
           =1 //--------------------------------------------------------------------------------
           =1 CODE BYTE Str_Utility_E[] = {'U','t','i','l','i','t','y',0};
           =1 CODE BYTE Str_Utility_F[] = {'U', 't', 'i', 'l', 'i', 't', 'a', 'i', 'r', 'e',0};
           =1 CODE BYTE Str_Utility_D[] = {'F', 'u', 'n', 'k', 't', 'i', 'o', 'n',0};
           =1 CODE BYTE Str_Utility_S[] = {'U', 't', 'i', 'l', 'i', 'd', 'a', 'd',0};
           =1 CODE BYTE Str_Utility_K[] = {RAMFONT,0x24,0x2e,0x71,0x46,0x67,ROMFONT,0};
           =1 
           =1 //--------------------------------------------------------------------------------
           =1 CODE BYTE Str_ColorTemp_E[] = {'C','o','l','o','r',' ','T','e','m','p',0};
           =1 CODE BYTE Str_ColorTemp_F[] = {'T', 'e', 'm', 'p', '.', ' ', 'C', 'o', 'u', 'l', 'e', 'u', 'r',0};
           =1 CODE BYTE Str_ColorTemp_D[] = {'F', 'a', 'r', 'b', 't', 'e', 'm', 'p', 'e', 'r', 'a', 't', 'u', 'r',0};
           =1 CODE BYTE Str_ColorTemp_S[] = {'T', 'e', 'm', 'p', '.', ' ',  'd', 'e', ' ', 'C', 'o', 'l', 'o', 'r',0};
           =1 CODE BYTE Str_ColorTemp_K[] = {RAMFONT,0x4a,0x55,0x33,0x71,0x5f,0x60,ROMFONT,0};
           =1 
           =1 
           =1 //--------------------------------------------------------------------------------
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 72  

           =1 CODE BYTE Str_Comments_E[] = {'E','x','i','t',':','M','E','N','U',' ',' ','M','o','v','e',':',0x1d,0x1e,' 
             -',' ','S','e','l',':',0x1c,0};
           =1 CODE BYTE Str_Comments_K[] = {RAMFONT,0x2a,0x26,ROMFONT,':','M','E','N','U',' ',' ',' ',' ',RAMFONT,0x4d,0
             -x35,ROMFONT,':',0x1d,0x1e,
           =1                                                                                         ' ',' ',' ',' ',' ',RAMFONT,0x46,0x67,ROMFONT,':',0x1c,0};
           =1 #endif                                                           
 128      =1  //--------------------------------------------------------------------------------
 129      =1  #ifdef PAL_TV
           =1 CODE BYTE Str_Comments1[] = {'M','o','v','e',':',0x7f,0x7f,' ','S','k','i','p','/','A','d','d',':',0x7f,' 
             -','E','d','i','t',':',0x7f,0};
           =1 CODE BYTE Color_Comments1[] = {CH_COLOR_RED|TITLE_BACK_COLOR,CH_COLOR_GREEN|TITLE_BACK_COLOR,
           =1                                                            COMMENT_COLOR,COMMENT_COLOR,COMMENT_COLOR,COMMENT_COLOR,COMMENT_COLOR,COMMENT_COLOR,COMMENT_COL
             -OR,COMMENT_COLOR,
           =1                                                            COMMENT_COLOR,COMMENT_COLOR,
           =1                                                            CH_COLOR_YELLOW|TITLE_BACK_COLOR,
           =1                                                            COMMENT_COLOR,COMMENT_COLOR,COMMENT_COLOR,COMMENT_COLOR,COMMENT_COLOR,COMMENT_COLOR,
           =1                                                            CH_COLOR_CYAN|TITLE_BACK_COLOR
           =1                                                                 };
           =1                         
           =1 #endif
 140      =1  
 141      =1  /*================================================================================*/
 142      =1  /*                                                                                */
 143      =1  /* Decsription String in OSD menu                                                 */
 144      =1  /*                                                                                */
 145      =1  //==================================================================================
 146      =1  //MenuStr
 147      =1  #define         MAX_DESC                        15 //14 //andy
 148      =1  ///* Menu String Max Length :
 149      =1  /*================================================================================*/
 150      =1  CODE BYTE Str_Composite_E[] = {'C','o','m','p','o','s','i','t','e',0};
 151      =1  
 152      =1  #ifdef SUPPORT_SVIDEO
           =1 CODE BYTE Str_Svideo_E[] = {'S','-','V','i','d','e','o',0};
           =1 #endif
 155      =1  
 156      =1          #ifdef SUPPORT_COMPONENT
           =1 CODE BYTE Str_Component_E[] = {'C','o','m','p','o','n','e','n','t',0};
           =1         #endif
 159      =1  
 160      =1          #ifdef SUPPORT_DTV
           =1 CODE BYTE Str_Dtv_E[] = {'D','T','V',0};
           =1         #endif
 163      =1  
 164      =1          #ifdef SUPPORT_PC
 165      =1  CODE BYTE Str_Pc_E[] = {'P','C',0};
 166      =1          #endif
 167      =1  
 168      =1          #ifdef SUPPORT_DIGITALVGA
           =1 CODE BYTE Str_DigitalVGA_E[] = {'D','i','g','i','t','a','l',' ','V','G','A',0};
           =1         #endif
 171      =1  CODE BYTE Str_Version_E[] = {'V','e','r','s','i','o','n',0};
 172      =1  //--------------------------------------------------------------------------------
 173      =1  #ifdef SUPPORT_PC
 174      =1  CODE BYTE Str_VPosition_E[] = {'V',' ','P','o','s','i','t','i','o','n',0};
 175      =1  CODE BYTE Str_VPosition_F[] = {'P','o','s','i','t','i','o','n',' ','V','.',0};
 176      =1  CODE BYTE Str_VPosition_D[] = {'V',' ','P','o','s','i','t','i','o','n',0};
 177      =1  CODE BYTE Str_VPosition_S[] = {'P','o','s','i','c','i',0x5f,'n',' ','V','.',0};
 178      =1  CODE BYTE Str_VPosition_K[] = {RAMFONT,0x6d,0x3b,0x71,0x45,0x63,0x71,0x54,0x65,0x71,0x5f,0x60,ROMFONT,0};
 179      =1  
 180      =1  //--------------------------------------------------------------------------------
 181      =1  CODE BYTE Str_HPosition_E[] = {'H',' ','P','o','s','i','t','i','o','n',0};
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 73  

 182      =1  CODE BYTE Str_HPosition_F[] = {'P','o','s','i','t','i','o','n',' ','H','.',0};
 183      =1  CODE BYTE Str_HPosition_D[] = {'H',' ','P','o','s','i','t','i','o','n',0};
 184      =1  CODE BYTE Str_HPosition_S[] = {'P','o','s','i','c','i',0x5f,'n',' ','H','.',0};
 185      =1  CODE BYTE Str_HPosition_K[] = {RAMFONT,0x6d,0x3b,0x71,0x45,0x68,0x71,0x54,0x65,0x71,0x5f,0x60,ROMFONT,0};
 186      =1  
 187      =1  #endif
 188      =1  //--------------------------------------------------------------------------------
 189      =1  #ifdef SUPPORT_OSDPOSITIONMOVE
 190      =1  CODE BYTE Str_OSDPosition_E[] = {'O','S','D',' ','P','o','s','i','t','i','o','n',0};
 191      =1  CODE BYTE Str_OSDPosition_S[] = {'O','S','D',' ','P','o','s','i','c','i',0x5f,'n',0};
 192      =1  CODE BYTE Str_OSDPosition_K[] = {'O','S','D',' ',RAMFONT,0x54,0x65,0x71,0x46,0x67,ROMFONT,0};
 193      =1  
 194      =1  #endif
 195      =1  
 196      =1  //--------------------------------------------------------------------------------
 197      =1  CODE BYTE Str_OSDLang_E[] = {'L','a','n','g','u','a','g','e',0};
 198      =1  CODE BYTE Str_OSDLang_F[] = {'L', 'a', 'n', 'g', 'u', 'e',0};
 199      =1  CODE BYTE Str_OSDLang_D[] = {'S', 'p', 'r', 'a', 'c', 'h', 'e',0};
 200      =1  CODE BYTE Str_OSDLang_S[] =     {'I', 'd', 'i', 'o', 'm', 'a',0};
 201      =1  CODE BYTE Str_OSDLang_K[] = {RAMFONT,0x57,0x56,0x71,0x46,0x67,ROMFONT,0};
 202      =1  
 203      =1  //--------------------------------------------------------------------------------
 204      =1  //CODE BYTE Str_SleepTimerE[] = {'S','l','e','e','p',' ','T','i','m','e','r',0};
 205      =1  //CODE BYTE Str_SleepTimerK[] = {RAMFONT,0x30,0x27,0x71,0x42,0x22,0x71,0x44,0x60,ROMFONT,0};
 206      =1  
 207      =1  #ifdef fullcode
           =1 //--------------------------------------------------------------------------------
           =1 CODE BYTE Str_VInputStd_E[] = {'I','n','p','u','t',' ','S','t','d','.',0};
           =1 
           =1 //--------------------------------------------------------------------------------
           =1 CODE BYTE Str_Information_E[] = {'I','n','f','o','r','m','a','t','i','o','n',0};
           =1 
           =1 
           =1 
           =1 CODE BYTE Str_Treble_E[] = {'T','r','e','b','l','e',0};
           =1 CODE BYTE Str_Treble_F[] = {'A','i','g','u','e','s',0};
           =1 CODE BYTE Str_Treble_D[] = {'H','o','h','e','n',0};
           =1 CODE BYTE Str_Treble_S[] = {'A','g','u','d','o','s',0};
           =1 CODE BYTE Str_Treble_K[] = {RAMFONT,0x29,0x53,0x71,0x5f,0x60,ROMFONT,0};
           =1 //--------------------------------------------------------------------------------
           =1 
           =1 CODE BYTE Str_Bass_E[] = {'B','a','s','s',0};
           =1 CODE BYTE Str_Bass_F[] = {'B','a','s','s','e','s',0};
           =1 CODE BYTE Str_Bass_D[] = {'T','i','e','f','e','n',0};
           =1 CODE BYTE Str_Bass_S[] = {'G','r','a','v','e','s',0};
           =1 CODE BYTE Str_Bass_K[] = {RAMFONT,0x5e,0x53,0x71,0x5f,0x60,ROMFONT,0};
           =1 //--------------------------------------------------------------------------------
           =1 CODE BYTE Str_Balance_E[] = {'B','a','l','a','n','c','e',0};
           =1 CODE BYTE Str_Balance_F[] = {'B','a','l','a','n','c','e',0};
           =1 CODE BYTE Str_Balance_D[] =     {'B','a','l','a','n','c','e',0};
           =1 CODE BYTE Str_Balance_S[] =     {'B','a','l','a','n','c','e',0};
           =1 CODE BYTE Str_Balance_K[] = {RAMFONT,0x53,0x25,0x6f,0x71,0x5f,0x60,ROMFONT,0};
           =1 
           =1 //--------------------------------------------------------------------------------
           =1 CODE BYTE Str_Red_E[] = {'R','e','d',0};
           =1 CODE BYTE Str_Red_F[] = {'R','o','u','g','e',0};
           =1 CODE BYTE Str_Red_D[] = {'R','o','t',0};
           =1 CODE BYTE Str_Red_S[] = {'R','o','j','o',0};
           =1 CODE BYTE Str_Red_K[] = {RAMFONT,0x5c,0x4a,0x71,0x5f,0x60,ROMFONT,0};
           =1 
           =1 //--------------------------------------------------------------------------------
           =1 CODE BYTE Str_Green_E[] = {'G','r','e','e','n',0};
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 74  

           =1 CODE BYTE Str_Green_F[] = {'V','e','r','t',0};
           =1 CODE BYTE Str_Green_D[] = {'G','r',0xae,'n',0};
           =1 CODE BYTE Str_Green_S[] = {'V', 'e', 'r', 'd', 'e',0};
           =1 CODE BYTE Str_Green_K[] = {RAMFONT,0x2b,0x4a,0x71,0x5f,0x60,ROMFONT,0};
           =1 
           =1 //--------------------------------------------------------------------------------
           =1 CODE BYTE Str_Blue_E[] = {'B','l','u','e',0};
           =1 CODE BYTE Str_Blue_F[] = {'B','l','e','u',0};
           =1 CODE BYTE Str_Blue_D[] = {'B','l','a','u',0};
           =1 CODE BYTE Str_Blue_S[] = {'A','z','u','l',0};
           =1 CODE BYTE Str_Blue_K[] = {RAMFONT,0x64,0x4a,0x71,0x5f,0x60,ROMFONT,0};
           =1 
           =1 //--------------------------------------------------------------------------------
           =1 #endif
 258      =1  //--------------------------------------------------------------------------------
 259      =1  CODE BYTE Str_Hue_E[] = {'H','u','e',0};
 260      =1  CODE BYTE Str_Hue_F[] = {'T', 'o', 'n', 'a', 'l', 'i', 't', 0x5c,0};
 261      =1  CODE BYTE Str_Hue_D[] = {'F', 'a', 'r', 'b', 'e',0};
 262      =1  CODE BYTE Str_Hue_S[] = {'T', 'o', 'n', 'a', 'l', 'i', 'd', 'a', 'd',0};
 263      =1  CODE BYTE Str_Hue_K[] = {RAMFONT,0x4a,0x54,0x48,0x71,0x5f,0x60,ROMFONT,0};
 264      =1  
 265      =1  //--------------------------------------------------------------------------------
 266      =1  CODE BYTE Str_Sharpness_E[] = {'S','h','a','r','p','n','e','s','s',0};
 267      =1  CODE BYTE Str_Sharpness_F[] = {'A', 'c', 'u', 'i', 't', 0x5c,0};
 268      =1  CODE BYTE Str_Sharpness_D[] = {'S', 'c', 'h', 0xaa, 'r','f', 'e',0};
 269      =1  CODE BYTE Str_Sharpness_S[] = {'A', 'g', 'u', 'd', 'e', 'z', 'a',0};
 270      =1  CODE BYTE Str_Sharpness_K[] = {RAMFONT,0x46,0x39,0x33,0x71,0x5f,0x60,ROMFONT,0};
 271      =1  
 272      =1  //--------------------------------------------------------------------------------
 273      =1  
 274      =1  
 275      =1  CODE BYTE Str_Contrast_E[] = {'C','o','n','t','r','a','s','t',0};
 276      =1  CODE BYTE Str_Contrast_F[] = {'C','o','n','t','r','a','s','t','e',0};
 277      =1  CODE BYTE Str_Contrast_D[] = {'K','o','n','t','r','a','s','t',0};
 278      =1  CODE BYTE Str_Contrast_S[] = {'C','o','n','t','r','a','s','t','e',0};
 279      =1  CODE BYTE Str_Contrast_K[] = {RAMFONT,0x39,0x4f,0x71,0x5f,0x60,ROMFONT,0};
 280      =1  #ifdef E_Wintek
           =1 CODE BYTE Str_Contrast_C[] = {RAMFONT,0x0c,0x0d,0x0e,0x0f,0x14,0x15,0x16,0x17,ROMFONT,0};
           =1 #endif
 283      =1  //--------------------------------------------------------------------------------
 284      =1  
 285      =1  CODE BYTE Str_Brightness_E[] = {'B','r','i','g','h','t','n','e','s','s',0};
 286      =1  CODE BYTE Str_Brightness_F[] = {'L', 'u', 'm', 'i', 'n', 'o', 's', 'i', 't', 0x5f,0};
 287      =1  CODE BYTE Str_Brightness_D[] = {'H', 'e', 'l', 'l', 'i', 'g', 'k', 'e', 'i', 't',0};
 288      =1  CODE BYTE Str_Brightness_S[] = {'B', 'r', 'i', 'l', 'l', 'o',0};
 289      =1  CODE BYTE Str_Brightness_K[] = {RAMFONT,0x40,0x24,0x71,0x5f,0x60,ROMFONT,0};
 290      =1  #ifdef E_Wintek
           =1 CODE BYTE Str_Brightness_C[] = {RAMFONT,0x08,0x09,0x0a,0x0b,0x14,0x15,0x16,0x17,ROMFONT,0};
           =1 #endif
 293      =1  //--------------------------------------------------------------------------------
 294      =1  CODE BYTE Str_Backlight_E[] = {'B','a','c','k','l','i','g','h','t',0};
 295      =1  CODE BYTE Str_Backlight_F[] = {'B','a','c','k','l','i','g','h','t',0};
 296      =1  CODE BYTE Str_Backlight_D[] = {'B','a','c','k','l','i','g','h','t',0};
 297      =1  CODE BYTE Str_Backlight_S[] = {'B','a','c','k','l','i','g','h','t',0};
 298      =1  CODE BYTE Str_Backlight_K[] = {'B','a','c','k','l','i','g','h','t',0};
 299      =1  
 300      =1  //--------------------------------------------------------------------------------
 301      =1  CODE BYTE Str_Saturation_E[] = {'S','a','t','u','r','a','t','i','o','n',0};
 302      =1  CODE BYTE Str_Saturation_D[] = {'S', 0xaa, 't', 't', 'i', 'g', 'u', 'n', 'g',0};
 303      =1  CODE BYTE Str_Saturation_S[] = {'S', 'a', 't', 'u', 'r', 'a', 'c', 'i', 0x5f, 'n',0};
 304      =1  CODE BYTE Str_Saturation_K[] = {RAMFONT,0x4a,0x2c,0x33,0x71,0x5f,0x60,ROMFONT,0};
 305      =1  #ifdef E_Wintek
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 75  

           =1 CODE BYTE Str_Saturation_C[] = {RAMFONT,0x4c,0x4d,0x4e,0x4f,0x14,0x15,0x16,0x17,ROMFONT,0};
           =1 #endif
 308      =1  //--------------------------------------------------------------------------------
 309      =1  CODE BYTE Str_Reset_E[] = {'R','e','s','e','t',0};
 310      =1  CODE BYTE Str_Reset_F[] = {'D', 0x5c, 'f', 'a', 'u', 't',0};
 311      =1  CODE BYTE Str_Reset_D[] = {'G', 'r', 'u', 'n', 'd', 'e', 'i', 'n', 's', 't', 'e', 'l', 'u', 'g',0};
 312      =1  CODE BYTE Str_Reset_S[] = {'P', 'r', 'e', 'd', 'e', 't', 'e', 'r', 'm', 'i', 'n', 'a', 'c', 'i',0x5f, 'n',
             -0};
 313      =1  CODE BYTE Str_Reset_K[] = {RAMFONT,0x66,0x24,0x6d,ROMFONT,0};
 314      =1  
 315      =1  //--------------------------------------------------------------------------------
 316      =1  
 317      =1  #ifdef SUPPORT_PC
 318      =1  //--------------------------------------------------------------------------------
 319      =1  CODE BYTE Str_Phase_E[] = {'P','h','a','s','e',0};
 320      =1  CODE BYTE Str_Phase_S[] = {'F','a','s','e',0};
 321      =1  
 322      =1  //--------------------------------------------------------------------------------
 323      =1  CODE BYTE Str_Clock_E[] = {'C','l','o','c','k',0};
 324      =1  CODE BYTE Str_Clock_F[] = {'H', 'o', 'r', 'l', 'o', 'g', 'e',0};
 325      =1  CODE BYTE Str_Clock_D[] = {'T', 'a', 'k', 't',0};
 326      =1  CODE BYTE Str_Clock_S[] = {'R', 'e', 'l', 'o', 'j',0};
 327      =1  
 328      =1  //--------------------------------------------------------------------------------
 329      =1  
 330      =1  CODE BYTE Str_AutoColor_E[] = {'A','u','t','o',' ','C','o','l','o','r',0};
 331      =1  CODE BYTE Str_AutoColor_K[] = {RAMFONT,0x5b,0x35,0x71,0x4a,0x48,0x71,0x5f,0x60,ROMFONT,0};
 332      =1  
 333      =1  CODE BYTE Str_AutoAdjust_E[] = {'A','u','t','o',' ','A','d','j','u','s','t',0};
 334      =1  CODE BYTE Str_AutoAdjust_K[] = {RAMFONT,0x5b,0x35,0x71,0x6d,0x3b,0x71,0x5f,0x60,ROMFONT,0};
 335      =1  #endif
 336      =1  
 337      =1  //--------------------------------------------------------------------------------
 338      =1  #ifdef WIDE_SCREEN
 339      =1  CODE BYTE Str_WideScreen_E[] = {'W','i','d','e',' ','S','c','r','e','e','n',0};
 340      =1  CODE BYTE Str_WideScreen_K[] = {'W','I','D','E',' ',RAMFONT,0x6d,0x3b,0x71,0x46,0x67,ROMFONT,0};
 341      =1  #endif
 342      =1  
 343      =1  
 344      =1  //---------------------------------------------------------------------------------
 345      =1  #ifdef E_Wintek
           =1 CODE BYTE Str_RETURN_C[] = {RAMFONT,0x10,0x11,0x12,0x13,ROMFONT,0};
           =1 CODE BYTE Str_Auto_Day_Night_C[]={RAMFONT,0x2c,0x2d,0x2e,0x2f,0x14,0x15,0x30,0x31,ROMFONT,0};
           =1 CODE BYTE Str_DIR_IMAGE_C[]={RAMFONT,0x32,0x33,0x34,0x35,0x36,0x37,0x1e,0x1f,0x20,0x21,0x40,0x41,0x42,0x43
             -,ROMFONT,0};
           =1 CODE BYTE Str_REAR_SETUP_C[]={RAMFONT,0x38,0x39,0x3a,0x3b,0x1e,0x1f,0x20,0x21,0x40,0x41,0x42,0x43,ROMFONT,
             -0};
           =1 CODE BYTE Str_JUMP_C[] = {RAMFONT,0x3c,0x3d,0x3e,0x3f,0x40,0x41,0x42,0x43,ROMFONT,0};
           =1 CODE BYTE Str_RECALL_C[]={RAMFONT,0x44,0x45,0x46,0x47,ROMFONT,0};
           =1 CODE BYTE Str_EXIT_C[]={RAMFONT,0x50,0x51,0x18,0x19,ROMFONT,0};
           =1 CODE BYTE Str_AutoAdjust_C[] = {RAMFONT,0x2c,0x2d,0x2e,0x2f,0x14,0x15,0x16,0x17,ROMFONT,0};
           =1 CODE BYTE StrVolume_C[] = {RAMFONT,0x48,0x49,0x4a,0x4b,ROMFONT,0};
           =1 #endif
 356      =1  
 357      =1  CODE BYTE Str_MIRROR_E[] = {'M','i','r','r','o','r',0};
 358      =1  CODE BYTE Str_JUMP_E[] = {'J','u','m','p',0};
 359      =1  CODE BYTE Str_SEQ_TIME_STEP_E[] = {'S','E','Q',' ','T','i','m','e',' ','S','t','e','p',0};
 360      =1  CODE BYTE Str_CAM_OUT_E[] = {'C','a','m',' ','O','u','t',0};
 361      =1  CODE BYTE Str_RETURN_E[] = {'R','e','t','u','r','n',0};
 362      =1  CODE BYTE Str_RECALL_E[]={'R','e','c','a','l','l',0}; 
 363      =1  CODE BYTE Str_EXIT_E[]={'E','x','i','t',0}; 
 364      =1  CODE BYTE Str_SPACE_E[]={' ',0};  // V1.1 02/28/07 simonsung
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 76  

 365      =1  CODE BYTE Str_VER_E[]={VERSION1,VERSION2,VERSION3,' ',VERSION4,'.',VERSION5,VERSION6,0}; //  william-1.45-
             -971106
 366      =1  CODE BYTE Str_TIMEOUT_STEP_E[] = {'T','i','m','e','O','u','t',' ', 'S','e','t','u','p',0};//2007.4.13 Just
             -in
 367      =1  CODE BYTE Str_GAUGE_STEP_E[] = {'G','a','u','g','e',' ', 'S','e','t','u','p',0};//WILLIAM-V1.43-970325
 368      =1  CODE BYTE Str_GAUGE_RECALL_E[] = {'G','a','u','g','e',' ', 'R','e','c','a','l','l',0};//WILLIAM-V1.43-9703
             -25
 369      =1  CODE BYTE Str_PRIORITY_E[] = {'P','r','i','o','r','i', 't','y',0};//WILLIAM-V1.43-970325
 370      =1  
 371      =1  CODE BYTE Str_Resolution_E[] = {'R','e','s','o','l','u', 't','i','o','n',0};
 372      =1  CODE BYTE Str_FPS_E[] = {'F','P','S',0};
 373      =1  CODE BYTE Str_Quality_E[] = {'Q','u','a','l','i', 't','y',0};
 374      =1  CODE BYTE Str_RecordMode_E[] = {'R','e','c','o','r','d', 'M','o','d','e',0};
 375      =1  CODE BYTE Str_RecordLength_E[] = {'R','e','c','o','r','d','L','e','n','g','t','h',0};
 376      =1  CODE BYTE Str_PreAlarmLength_E[] = {'P','r','e','-','a','l','a','r','m',0};
 377      =1  CODE BYTE Str_PostAlarmLength_E[] = {'P','o','s','t','-','a','l','a','r','m',0};
 378      =1  CODE BYTE Str_Apply_E[] = {'A','p','p','l','y',0};
 379      =1  CODE BYTE Str_ManualRecordStart_E[] = {'R','e','c','o','r','d','S','t','a','r','t',0};
 380      =1  CODE BYTE Str_ManualRecordStop_E[] = {'R','e','c','o','r','d','S','t','o','p',0};
 381      =1  CODE BYTE Str_Snapshot_E[] = {'S','n','a','p','s','h', 'o','t',0};
 382      =1  CODE BYTE Str_DateTime_E[] = {'D','a','t','e','T','i', 'm','e',0};
 383      =1  CODE BYTE Str_Year_E[] = {'Y','e','a','r',0};
 384      =1  CODE BYTE Str_Month_E[] = {'M','o','n','t','h',0};
 385      =1  CODE BYTE Str_Day_E[] = {'D','a','y',0};
 386      =1  CODE BYTE Str_Hour_E[] = {'H','o','u','r',0};
 387      =1  CODE BYTE Str_Minute_E[] = {'M','i','n',0};
 388      =1  CODE BYTE Str_Secord_E[] = {'S','e','c',0};
 389      =1  CODE BYTE Str_DaylightSaving_E[] = {'D','a','y','l','i','g','h','t','S','a','v','i','n','g',0};
 390      =1  CODE BYTE Str_TimeBegines_E[] = {'T','i','m','e',' ','B','e','g','i','n','e','s',0};
 391      =1  CODE BYTE Str_Standard_E[] = {'S','t','a','n','d','a','r','d',0};
 392      =1  CODE BYTE Str_Week_E[]={'W','e','e','k',0};
 393      =1  CODE BYTE Str_Time_E[]={'T','i','m','e',0};
 394      =1  CODE BYTE Str_TimeZone_E[]={'T','i','m','e',' ','Z','o','n','e',0};
 395      =1  CODE BYTE Str_RETURNAPPLY_E[] = {'R','e','t','u','r','n','&','A','p','p','l','y',0};
 396      =1  CODE BYTE Str_FormatSD_E[]={'F','o','r','m','a','t',' ','S','D',' ','C','a','r','d',0};
 397      =1  CODE BYTE Str_AudioRecord_E[]={'A','u','d','i','o',' ','R','e','c','o','r','d',0};
 398      =1  CODE BYTE Str_FirmwareUpdate_E[]={'F','i','r','m','w','a','r','e',' ','U','p','d','a','t','e',0};
 399      =1  CODE BYTE Str_YES_E[]={'Y','e','s',0};
 400      =1  CODE BYTE Str_NO_E[]={'N','o',0};
 401      =1  CODE BYTE Str_FirstNumber_E[]={'F','i','r','s','t',' ','N','u','m','b','e','r',0};
 402      =1  CODE BYTE Str_SecondNumber_E[]={'S','e','c','o','n','d',' ','N','u','m','b','e','r',0};
 403      =1  CODE BYTE Str_ThridNumber_E[]={'T','h','r','i','d',' ','N','u','m','b','e','r',0};
 404      =1  CODE BYTE Str_FourthNumber_E[]={'F','o','u','r','t','h',' ','N','u','m','b','e','r',0};
 405      =1  CODE BYTE Str_ChangePassword_E[]={'C','h','a','n','g','e',' ','P','a','s','s','w','o','r','d',0};
 406      =1  CODE BYTE Str_OverWrite_E[]={'O','v','e','r','W','r','i','t','e',0};
 407      =1  CODE BYTE Str_TriggerSet_E[]={'T','r','i','g','g','e','r',' ','S','e','t',0};
 408      =1  CODE BYTE Str_TriggerVGA_E[]={'T','r','i','g','g','e','r',' ','V','G','A',0};
 409      =1  
 410      =1   CODE BYTE Str_RS485_E[] = {'R','S','4','8','5',0};
 411      =1  
 412      =1  CODE BYTE Str_CAMNumber_E[] = {'C','a','m','e','r','a',' ','I','D',0};//TM0350-980227
 413      =1  #ifdef fullcode
           =1 CODE BYTE Str_CAMNumber_F[] = {'C','a','m',0x5c,'r','a',' ','I','D',0};
           =1 CODE BYTE Str_CAMNumber_G[] = {'K','a','m','e','r','a',' ','I','D',0};
           =1 CODE BYTE Str_CAMNumber_DUT[] = {'C','a','m','e','r','a',' ','I','D',0};
           =1 CODE BYTE Str_CAMNumber_DAN[] = {'K','a','m','e','r','a',' ','I','D',0};
           =1 CODE BYTE Str_CAMNumber_S[] = {'C','a','m','e','r','a',' ','I','D',0};//TM0350-980227
           =1 CODE BYTE Str_CAMNumber_I[] = {'F','o','t','o','c','a','m','e','r','a',' ','I','D',0};
           =1 CODE BYTE Str_CAMNumber_C[] = {RAMFONT,0xA8,0xA9,0xAA,0xAB,0xAC,0xAD,0xAE,0xAF,0xB0,0xB1,ROMFONT,0};//TM03
             -50-980227
           =1 CODE BYTE Str_CAMNumber_J[] = {RAMFONT,0x1C,0x1D,0x1E,0x1F,0x20,0x21,ROMFONT,'I','D',0};//TM0350-980227
           =1 #endif
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 77  

 423      =1  
 424      =1  CODE BYTE Str_Pelco_E[] = {'P','E','L','C','O',0};//TM0350-980227
 425      =1  
 426      =1  CODE BYTE Str_Baud_rate_E[] = {'B','a','u','d',' ','r','a','t','e',0};//TM0350-980227.
 427      =1  #ifdef fullcode
           =1 CODE BYTE Str_Baud_rate_F[] = {'B','a','u','d',' ','r','a','t','e',0};//TM0350-980227.
           =1 CODE BYTE Str_Baud_rate_G[] = {'B','a','u','d',' ','r','a','t','e',0};//TM0350-980227.
           =1 CODE BYTE Str_Baud_rate_DUT[] = {'B','a','u','d',' ','r','a','t','e',0};//TM0350-980227.
           =1 CODE BYTE Str_Baud_rate_DAN[] = {'B','a','u','d',' ','r','a','t','e',0};//TM0350-980227.
           =1 CODE BYTE Str_Baud_rate_S[] = {'V','e','l','o','c','i','d','a','d',' ','B','a','u','d',0};//TM0350-980227.
           =1 CODE BYTE Str_Baud_rate_I[] = {'V','e','l','o','c','i','t',0x9b,' ','B','a','u','d',0};//TM0350-980227.
           =1 CODE BYTE Str_Baud_rate_C[] = {RAMFONT,0xB4,0xB5,0xB6,0xB7,ROMFONT,0};//TM0350-980227
           =1 CODE BYTE Str_Baud_rate_J[] = {RAMFONT,0x22,0x23,0x0F,0x24,0x25,0x48,0x26,0x27,0x0F,0x28,0x29,ROMFONT,0};/
             -/TM0350-980227
           =1 #endif
 437      =1  CODE BYTE Str_CameraOSD_E[] = {'C','a','m','e','r','a',' ','O','S','D',0};//TM0350-980227
 438      =1  
 439      =1  CODE BYTE Str_DISPLAY_E[]={'D','i','s','p','l','a','y',0}; 
 440      =1  CODE BYTE Str_DVR_DISPLAY_E[]={'D','V','R',' ','D','i','s','p','l','a','y',0}; 
 441      =1  CODE BYTE Str_DISTANCE_E[]={'D','i','s','t','a','n','c','e',' ','G','a','u','g','e',0}; 
 442      =1  CODE BYTE Str_OSD_LOCK_E[]={'O','S','D',' ','L','o','c','k',0}; 
 443      =1  CODE BYTE Str_PASSWORD_E[]={'P','a','s','s','w','o','r','d',0}; 
 444      =1  CODE BYTE Str_SOURCE_TITLE_E[]={'S','o','u','r','c','e',' ','T','i','t','l','e',0}; 
 445      =1  CODE BYTE Str_CVBSA_E[]={'C','V','B','S',' ','A',0};
 446      =1  CODE BYTE Str_CVBSB_E[]={'C','V','B','S',' ','B',0};
 447      =1  CODE BYTE Str_CVBSC_E[]={'C','V','B','S',' ','C',0};
 448      =1  CODE BYTE Str_CVBSR_E[]={'C','V','B','S',' ','R',0};
 449      =1  CODE BYTE Str_Auto_Day_Night_E[]={'A','u','t','o',' ','D','a','y','&','N','i','g','h','t',0};
 450      =1  CODE BYTE Str_DIR_IMAGE_E[]={'D','i','r',' ','I','m','a','g','e',0};
 451      =1  CODE BYTE Str_REAR_SETUP_E[]={'R','e','a','r',' ','S','e','t','u','p',0};
 452      =1  CODE BYTE Str_CAMA_E[]={'C','A','M',' ','A',0};
 453      =1  CODE BYTE Str_CAMB_E[]={'C','A','M',' ','B',0};
 454      =1  CODE BYTE Str_CAMC_E[]={'C','A','M',' ','C',0};
 455      =1  CODE BYTE Str_CAMR_E[]={'C','A','M',' ','R',0};
 456      =1  
 457      =1  CODE BYTE Str_DIR_IMAGE_CAMA_E[]={'D','i','r',' ','I','m','a','g','e',' ','A',0};
 458      =1  CODE BYTE Str_DIR_IMAGE_CAMB_E[]={'D','i','r',' ','I','m','a','g','e',' ','B',0};
 459      =1  CODE BYTE Str_DIR_IMAGE_CAMC_E[]={'D','i','r',' ','I','m','a','g','e',' ','C',0};
 460      =1  
 461      =1  //--------------------------------------------------------------------------------
 462      =1  
 463      =1  //==================================================================================
 464      =1  //
 465      =1  //   Choice Menu String define in osd menu.
 466      =1  //
 467      =1  //==================================================================================
 468      =1  // Form
 469      =1  // 
 470      =1  //struct EnumType {
 471      =1  //      BYTE    Sz;
 472      =1  //      BYTE    ByLang;
 473      =1  //      BYTE    Str[15];                        // doesn't matter size of the string !!!
 474      =1  //};
 475      =1  
 476      =1  
 477      =1  CODE BYTE OSDLangString[] = 
 478      =1  {
 479      =1                  0x02, // Size 
 480      =1                  0, // Independence by language:0, Dependenced by language:1 
 481      =1  //                                       Language I                     Language II                     Language III....
 482      =1                  'E','n','g','l','i','s','h',0,  
 483      =1          'F', 'r', 'a', 'n', 0x7b, 'a', 'i', 's',0,
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 78  

 484      =1          'D', 'e', 'u', 't', 's', 'c', 'h',0,
 485      =1          'E', 's', 'p', 'a', 0x7e, 'o', 'l',0,
 486      =1                  RAMFONT,0x6a,0x23,0x56,ROMFONT,' ',0
 487      =1  };
 488      =1  
 489      =1  CODE BYTE ModeChoice[] =                {
 490      =1                  0x04, // Size 
 491      =1                  1,
 492      =1                  'M','o','d','e','1',0,  'M','o','d','e','2',0, 'M','o','d','e','3',0,   'U','s','e','r',0,
 493      =1                  'M','o','d','e','1',0,  'M','o','d','e','2',0, 'M','o','d','e','3',0,   'U','s','a','g','e','r',0,
 494      =1                  'M','o','d','u','s','1',0, 'M','o','d','u','s','2',0, 'M','o','d','u','s','3',0, 'B','e','n','u','t','z'
             -,'e','r',0,
 495      =1                  'M','o','d','o','1',0,  'M','o','d','o','2',0,  'M','o','d','o','3',0,  'U','s','u','a','r','i','o',0,
 496      =1                  RAMFONT,0x3a,0x34,ROMFONT,'1',0, RAMFONT,0x3a,0x34,ROMFONT,'2',0,       RAMFONT,0x3a,0x34,ROMFONT,'3',0, RAMFO
             -NT,0x47,0x51,0x5b,0x71,ROMFONT,' ',0  // Caution!: Do not end to osd control command "ROMFONT" or "RAMFONT". 
 497      =1  };
 498      =1  
 499      =1  
 500      =1  CODE BYTE VInputStdChoice[] = {
 501      =1                          0x08,//size of supported system.(Attention!!)
 502      =1                          0,// None by language.
 503      =1                          'A','u','t','o',0,
 504      =1                          'N','T','S','C',0,
 505      =1  #ifdef SUPPORT_PAL
 506      =1                          'P','A','L',0,
 507      =1  #endif
 508      =1  #ifdef SUPPORT_SECAM
 509      =1                          'S','E','C','A','M',0,  
 510      =1  #endif
 511      =1  #ifdef SUPPORT_NTSC4
 512      =1                          'N','T','S','C','4','.','4','3',0,      
 513      =1  #endif
 514      =1  #ifdef SUPPORT_PALM
 515      =1                          'P','A','L','M',0,      
 516      =1  #endif
 517      =1  #ifdef SUPPORT_PALN
 518      =1                          'P','A','L','N',0,      
 519      =1  #endif
 520      =1  #ifdef SUPPORT_PAL60
 521      =1                          'P','A','L','6','0',0,  
 522      =1  #endif
 523      =1  };
 524      =1  
 525      =1  #ifdef WIDE_SCREEN
 526      =1  CODE BYTE WideScreenChoice[] = {
 527      =1                          5,//size 
 528      =1                          0,// by language.
 529      =1                          'N','o','r','m','a','l',0,                      'W','i','d','e',0,                      'P','a','n','o','r','a','m','a',0,      'F','u','l','l',
             -0,//                        'Z','o','o','m',0,
 530      =1  };
 531      =1  #endif
 532      =1  
 533      =1  #ifdef SUPPORT_OSDPOSITIONMOVE
 534      =1  CODE BYTE OsdPositionModeChoice[] = {
 535      =1                          5,//size
 536      =1                          0,// by language.
 537      =1                          RAMFONT,0x1a,0x1b,ROMFONT,' ',0,                                RAMFONT,0x1c,0x1d,ROMFONT,' ',0,
 538      =1                          RAMFONT,0x1e,0x1d,ROMFONT,' ',0,                                RAMFONT,0x1f,0x20,ROMFONT,' ',0,
 539      =1                          RAMFONT,0x1f,0x21,ROMFONT,' ',0,
 540      =1  };
 541      =1  #endif
 542      =1  
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 79  

 543      =1  
 544      =1  CODE BYTE CaptionChoice[] = {
 545      =1                          0x09,//size
 546      =1                          0,// None by lang.
 547      =1                          'O','f','f',0,  'C','C','1',0,  'C','C','2',0,  'C','C','3',0,  'C','C','4',0,
 548      =1                          'T','1',0,              'T','2',0,              'T','3',0,              'T','4',0,
 549      =1  
 550      =1  };
 551      =1  
 552      =1  CODE BYTE ONOFFChoiceString[] = {
 553      =1              0x02, //size
 554      =1              0,      // None by lang.
 555      =1              'O','N',0, 
 556      =1              'O','F','F',0};
 557      =1                          
 558      =1  CODE BYTE ONOFFChoiceString1[] = {
 559      =1              0x02, //size
 560      =1              0,      // None by lang.
 561      =1              0,      // None by lang.
 562      =1              'O','N',0, 
 563      =1              'O','F','F',0};
 564      =1  //-----------------------------------------------------HS Andy AWT 980827
 565      =1  
 566      =1  CODE BYTE IMAGEString[]={
 567      =1                   0x04, //size
 568      =1               0,      // None by lang.
 569      =1               'S','I','N','G','L','E',0,
 570      =1               'D','U','A','L',0,
 571      =1               'T','R','I','P','L','E',0,
 572      =1               'A','+','B',',','B','+','A',0};
 573      =1                           
 574      =1  CODE BYTE IMAGE_A_String[]={
 575      =1                   0x07, //size
 576      =1               0,      // None by lang.
 577      =1               'A',0,
 578      =1               'A','+','B',0,
 579      =1               'A','+','C',0,
 580      =1               'A','+','R',0,
 581      =1               'A','+','B','C',0,
 582      =1                'A','+','B','R',0,
 583      =1               'A','+','C','R',0,
 584      =1               };
 585      =1  
 586      =1  CODE BYTE IMAGE_B_String[]={
 587      =1                   0x07, //size
 588      =1               0,      // None by lang.
 589      =1               'B',0,
 590      =1               'B','+','A',0,
 591      =1               'B','+','C',0,
 592      =1               'B','+','R',0,
 593      =1               'B','+','A','C',0,
 594      =1                'B','+','A','R',0,
 595      =1               'B','+','C','R',0,
 596      =1               };
 597      =1  
 598      =1  CODE BYTE IMAGE_C_String[]={
 599      =1                   0x07, //size
 600      =1               0,      // None by lang.
 601      =1               'C',0,
 602      =1               'C','+','A',0,
 603      =1               'C','+','B',0,
 604      =1               'C','+','R',0,
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 80  

 605      =1               'C','+','A','B',0,
 606      =1                'C','+','A','R',0,
 607      =1               'C','+','B','R',0,
 608      =1               };
 609      =1  
 610      =1  CODE BYTE REARString[]={
 611      =1                0x05, //size
 612      =1               0,      // None by lang.
 613      =1               'R',0,
 614      =1               'R','+','A',0,
 615      =1               'R','+','B',0,
 616      =1               'R','/','A','B',0,
 617      =1               'R','+','A','B',0};
 618      =1  
 619      =1  
 620      =1  CODE BYTE JUMPString[]={
 621      =1                0x0e,
 622      =1                0,
 623      =1                'Q','U','A','D',0,
 624      =1                'S','E','Q',0,
 625      =1                'A','+','B',0,
 626      =1                'C','+','R',0,
 627      =1  // 2007.4.10 Justin                            add for AR,RB,AC,CB MODE       
 628      =1                'A','+','R',0,
 629      =1                'R','+','B',0,         
 630      =1                'A','+','C',0,
 631      =1                'C','+','B',0,    
 632      =1  // 2007.4.10 Justin                            add for AR,RB,AC,CB MODE       
 633      =1                'R','/','A','B',0,
 634      =1                'R','+','A','B',0,
 635      =1                'A',0,
 636      =1                'B',0,
 637      =1                'C',0,
 638      =1                'R',0,
 639      =1                'V','G','A',0
 640      =1                };
 641      =1  
 642      =1  
 643      =1  CODE BYTE CAMOUTString[]={
 644      =1                0x05,
 645      =1                0,
 646      =1                'Q','U','A','D',0,
 647      =1               'C','A','M','A',0,
 648      =1               'C','A','M','B',0,
 649      =1               'C','A','M','C',0,
 650      =1            'C','A','M','R',0};
 651      =1  
 652      =1  //---------------DVR ChoiceString-----------------
 653      =1  
 654      =1  CODE BYTE ResolutionChoiceString[] = {
 655      =1              0x02, //size
 656      =1              0,      // None by lang.
 657      =1              0,      // None by lang.
 658      =1              '7','2','0','x','4','8','0',0, 
 659      =1              '3','5','2','x','2','3','4',0, };
 660      =1  
 661      =1  CODE BYTE FPSChoiceString[] = {
 662      =1              0x05, //size
 663      =1              0,      // None by lang.
 664      =1              0,      // None by lang.
 665      =1              '5',0,
 666      =1              '1','0',0, 
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 81  

 667      =1              '1','5',0, 
 668      =1              '2','0',0,
 669      =1              '2','5',0,
 670      =1              '3','0',0};
 671      =1  
 672      =1  CODE BYTE QualityChoiceString[] = {
 673      =1              0x05, //size
 674      =1              0,      // None by lang.
 675      =1              0,      // None by lang
 676      =1              'L','e','v','e','l','-','1',0,
 677      =1              'L','e','v','e','l','-','2',0, 
 678      =1              'L','e','v','e','l','-','3',0, 
 679      =1              'L','e','v','e','l','-','4',0,
 680      =1              'L','e','v','e','l','-','5',0,};
 681      =1  
 682      =1  CODE BYTE RecordModeChoiceString[] = {
 683      =1              0x03, //size
 684      =1              0,      // None by lang.
 685      =1              0,      // None by lang
 686      =1              'N','o','n','e',0, 
 687      =1              'N','o','r','m','a','l',0, 
 688      =1              'A','l','a','r','m',0};
 689      =1  
 690      =1  
 691      =1  CODE BYTE RecordLengthChoiceString[] = {
 692      =1              0x06, //size
 693      =1              0,      // None by lang.
 694      =1              0,      // None by lang
 695      =1              '1',' ',' ','m','i','n',0, 
 696      =1              '2',' ',' ','m','i','n',0, 
 697      =1              '3',' ',' ','m','i','n',0,
 698      =1              '4',' ',' ','m','i','n',0,
 699      =1              '5',' ',' ','m','i','n',0,
 700      =1              '1','0',' ','m','i','n',0};
 701      =1  
 702      =1  
 703      =1  CODE BYTE PreAlarmLengthChoiceString[] = {
 704      =1              0x05, //size
 705      =1              0,      // None by lang.
 706      =1              0,      // None by lang
 707      =1              '1','0',' ','s','e','c',0, 
 708      =1              '1','5',' ','s','e','c',0, 
 709      =1              '2','0',' ','s','e','c',0,
 710      =1              '2','5',' ','s','e','c',0,
 711      =1              '3','0',' ','s','e','c',0};
 712      =1  
 713      =1  CODE BYTE PostAlarmLengthChoiceString[] = {
 714      =1              0x08, //size
 715      =1              0,      // None by lang.
 716      =1              0,      // None by lang
 717      =1              '1','0',' ','s','e','c',0, 
 718      =1              '2','0',' ','s','e','c',0, 
 719      =1              '3','0',' ','s','e','c',0,
 720      =1              '6','0',' ','s','e','c',0,
 721      =1              '1','2','0','s','e','c',0,
 722      =1              '3','0','0','s','e','c',0,
 723      =1              '6','0','0','s','e','c',0,
 724      =1              '9','0','0','s','e','c',0};
 725      =1  
 726      =1  
 727      =1  
 728      =1  CODE BYTE DaylightSavingChoiceString[] = {
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 82  

 729      =1              0x02, //size
 730      =1              0,      // None by lang.
 731      =1              0,      // None by lang
 732      =1              'D','i','s','a','b','l','e',0, 
 733      =1              'E','n','a','b','l','e',0};
 734      =1  
 735      =1  CODE BYTE TimeBeginesWeekChoiceString[] = {
 736      =1              0x04, //size
 737      =1              0,      // None by lang.
 738      =1              0,      // None by lang
 739      =1              'F','i','r','s','t',0,
 740      =1              'S','e','c','o','n','d',0, 
 741      =1              'T','h','i','r','d',0, 
 742      =1              'F','o','u','r','t','h',0,};
 743      =1  
 744      =1  CODE BYTE AudioRecordChoiceString[]={
 745      =1                0x04,
 746      =1                0,
 747      =1                'A',0,
 748      =1                'B',0,
 749      =1                'C',0,
 750      =1                'R',0};
 751      =1  
 752      =1  CODE BYTE TimeZoneChoiceString[]={
 753      =1                0x019,
 754      =1                0,
 755      =1                0,      // None by lang
 756      =1                '-','1','2',0,
 757      =1                '-','1','1',0,
 758      =1                '-','1','0',0,
 759      =1                '-','9',0,
 760      =1                '-','8',0,
 761      =1                '-','7',0,
 762      =1                '-','6',0,
 763      =1                '-','5',0,
 764      =1                '-','4',0,
 765      =1                '-','3',0,
 766      =1                '-','2',0,
 767      =1                '-','1',0,
 768      =1                '0',0,
 769      =1                '1',0,
 770      =1                '2',0,
 771      =1                '3',0,
 772      =1                '4',0,
 773      =1                '5',0,
 774      =1                '6',0,
 775      =1                '7',0,
 776      =1                '8',0,
 777      =1                '9',0,
 778      =1                '1','0',0,
 779      =1                '1','1',0,
 780      =1                '1','2',0};
 781      =1  
 782      =1  CODE BYTE PDChoiceString[] = {
 783      =1              0x02, //size
 784      =1              0,      // None by lang.
 785      =1              'P',' ',0, 
 786      =1              'D',' ',0};
 787      =1  
 788      =1  
 789      =1  CODE BYTE bpsChoiceString[]={
 790      =1                0x03,
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 83  

 791      =1                0,
 792      =1                '2','4','0','0',0,
 793      =1               '4','8','0','0',0,
 794      =1               '9','6','0','0',0};
 795      =1  
 796      =1  CODE BYTE ONOFFChineseChoiceString[] = {
 797      =1              0x02, //size
 798      =1              0,      // None by lang.
 799      =1              RAMFONT,0x18,0x19,ROMFONT,' ',0,
 800      =1              RAMFONT,0x1a,0x1b,ROMFONT,' ',0,};
 801      =1  
 802      =1  CODE BYTE IMAGEChineseString[]={
 803      =1                0x04, //size
 804      =1               0,      // None by lang.
 805      =1              RAMFONT,0x1c,0x1d,0x1e,0x1f,0x20,0x21,ROMFONT,' ',0,
 806      =1              RAMFONT,0x22,0x23,0x28,0x29,0x2a,0x2b,ROMFONT,' ',0,
 807      =1              RAMFONT,0x24,0x25,0x28,0x29,0x2a,0x2b,ROMFONT,' ',0,
 808      =1               'A','+','B',',','B','+','A',0};
 809      =1  
 810      =1  CODE BYTE JUMPChineseString[]={
 811      =1                0x0e,
 812      =1                0,
 813      =1               RAMFONT,0x26,0x27,0x28,0x29,0x2a,0x2b,ROMFONT,' ',0,
 814      =1                'S','E','Q',0,
 815      =1                'A','+','B',0,
 816      =1                'C','+','R',0,
 817      =1  // 2007.4.10 Justin                            add for AR,RB,AC,CB MODE       
 818      =1                'A','+','R',0,
 819      =1                'R','+','B',0,         
 820      =1                'A','+','C',0,
 821      =1                'C','+','B',0,    
 822      =1  // 2007.4.10 Justin                            add for AR,RB,AC,CB MODE       
 823      =1                'R','/','A','B',0,
 824      =1                'R','+','A','B',0,
 825      =1                'A',0,
 826      =1                'B',0,
 827      =1                'C',0,
 828      =1                'R',0,
 829      =1                'V','G','A',0
 830      =1                };                  
 831      =1                    
 832      =1  CODE BYTE       *Str_Version[] =        {Str_Version_E,Str_Version_E,Str_Version_E,Str_Version_E,Str_Version_E};
 833      =1  //--------------------------------------------------------------------------------
 834      =1  #if 0
           =1 CODE BYTE       *Enter_Password_Str[]={Enter_Password_Str_E,Enter_Password_Str_F,Enter_Password_Str_D,Enter_Pas
             -sword_Str_S,Enter_Password_Str_K};                                       
           =1 #endif
 837      =1  CODE BYTE       *CheckPCCableStr[] =    {CheckPCCableStr_E};
 838      =1  CODE BYTE       *OutOfRangeStr[] =      {OutOfRangeStr_E,OutOfRangeStr_E,OutOfRangeStr_E,OutOfRangeStr_E,OutOfRangeS
             -tr_K};
 839      =1  CODE BYTE       *StrVolume[]=                   {StrVolume_E};
 840      =1  
 841      =1  #ifdef fullcode
           =1 CODE BYTE       *CheckDTVCableStr[] = {CheckDTVCableStr_E,CheckDTVCableStr_E,CheckDTVCableStr_E,CheckDTVCableSt
             -r_E,CheckDTVCableStr_K};
           =1 CODE BYTE       *MuteOnStr[]=                   {MuteOnStr_E,MuteOnStr_E,MuteOnStr_E,MuteOnStr_E,MuteOnStr_K};
           =1 CODE BYTE       *Str_Input[]=                   {Str_Input_E,   Str_Input_F,    Str_Input_D,    Str_Input_S,    Str_Input_K};
           =1 CODE BYTE       *Str_Picture[]=         {Str_Picture_E, Str_Picture_F,  Str_Picture_D,  Str_Picture_S,  Str_Picture_K};
           =1 CODE BYTE       *Str_Sound[]=                   {Str_Sound_E,Str_Sound_E,Str_Sound_E,Str_Sound_S,Str_Sound_K};
           =1 CODE BYTE       *Str_Utility[]=         {Str_Utility_E,Str_Utility_F,Str_Utility_D,Str_Utility_S,Str_Utility_K};
           =1 CODE BYTE       *Str_ColorTemp[]=               {Str_ColorTemp_E,Str_ColorTemp_F,Str_ColorTemp_D,Str_ColorTemp_S,Str_ColorTe
             -mp_K};
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 84  

           =1 CODE BYTE       *Str_Comments[]=                {Str_Comments_E,Str_Comments_E,Str_Comments_E,Str_Comments_E,Str_Comments_K};
           =1 //============================================================================================
           =1 //  OSD Menu String Table
           =1 CODE BYTE       *Str_Composite[] =      {Str_Composite_E,Str_Composite_E,Str_Composite_E,Str_Composite_E,Str_Composi
             -te_E};
           =1 #endif
 854      =1  
 855      =1  
 856      =1  //--------------------------------------------------------------------------------
 857      =1  
 858      =1  
 859      =1  #ifdef SUPPORT_SVIDEO
           =1 CODE BYTE       *Str_Svideo[] =         {Str_Svideo_E,Str_Svideo_E,Str_Svideo_E,Str_Svideo_E,Str_Svideo_E};
           =1 #endif
 862      =1  #ifdef SUPPORT_COMPONENT
           =1 CODE BYTE       *Str_Component[] =      {Str_Component_E,Str_Component_E,Str_Component_E,Str_Component_E,Str_Compone
             -nt_E};
           =1 #endif
 865      =1  #ifdef SUPPORT_DTV
           =1 CODE BYTE       *Str_Dtv[] =                    {Str_Dtv_E,Str_Dtv_E,Str_Dtv_E,Str_Dtv_E,Str_Dtv_E};
           =1 #endif
 868      =1  #ifdef SUPPORT_PC
 869      =1  CODE BYTE       *Str_Pc[] =                     {Str_Pc_E,Str_Pc_E,Str_Pc_E,Str_Pc_E,Str_Pc_E};
 870      =1  #endif
 871      =1  #ifdef SUPPORT_DIGITALVGA
           =1 CODE BYTE       *Str_DigitalVGA[] =   {Str_DigitalVGA_E,Str_DigitalVGA_E,Str_DigitalVGA_E,Str_DigitalVGA_E,Str_
             -DigitalVGA_E};
           =1 #endif
 874      =1  
 875      =1  #ifdef SUPPORT_PC
 876      =1  CODE BYTE       *Str_VPosition[]=               {Str_VPosition_E,Str_VPosition_F,Str_VPosition_D,Str_VPosition_S,Str_VPositi
             -on_K};
 877      =1  CODE BYTE       *Str_HPosition[]=               {Str_HPosition_E,Str_HPosition_F,Str_HPosition_D,Str_HPosition_S,Str_HPositi
             -on_K};
 878      =1  #endif
 879      =1  
 880      =1  #ifdef SUPPORT_OSDPOSITIONMOVE
 881      =1  CODE BYTE       *Str_OSDPosition[]=     {Str_OSDPosition_E,Str_OSDPosition_E,Str_OSDPosition_E,Str_OSDPosition_S,St
             -r_OSDPosition_K};
 882      =1  #endif
 883      =1  CODE BYTE       *Str_OSDLang[]=         {Str_OSDLang_E,Str_OSDLang_F,Str_OSDLang_D,Str_OSDLang_S,Str_OSDLang_K};
 884      =1  //CODE BYTE     *Str_SleepTimer[]=      {Str_SleepTimerE,Str_SleepTimerE,Str_SleepTimerE,Str_SleepTimerE,Str_Sleep
             -TimerK};
 885      =1  #ifdef fullcode
           =1 CODE BYTE       *Str_VInputStd[]=               {Str_VInputStd_E,Str_VInputStd_E,Str_VInputStd_E,Str_VInputStd_E,Str_VInputS
             -td_E};
           =1 CODE BYTE       *Str_Information[]=     {Str_Information_E,Str_Information_E,Str_Information_E,Str_Information_E,St
             -r_Information_E};
           =1 CODE BYTE       *Str_Treble[]=          {Str_Treble_E,Str_Treble_F,Str_Treble_D,Str_Treble_S,Str_Treble_K};
           =1 CODE BYTE       *Str_Bass[]=                    {Str_Bass_E,Str_Bass_F,Str_Bass_D,Str_Bass_S,Str_Bass_K};
           =1 CODE BYTE       *Str_Balance[]=         {Str_Balance_E,Str_Balance_F,Str_Balance_D,Str_Balance_S,Str_Balance_K};
           =1 CODE BYTE       *Str_Red[]=                     {Str_Red_E,Str_Red_F,Str_Red_D,Str_Red_S,Str_Red_K};
           =1 CODE BYTE       *Str_Blue[]=                    {Str_Blue_E,Str_Blue_F,Str_Blue_D,Str_Blue_S,Str_Blue_K};
           =1 CODE BYTE       *Str_Green[]=                   {Str_Green_E,Str_Green_F,Str_Green_D,Str_Green_S,Str_Green_K};
           =1 #endif
 895      =1  CODE BYTE       *Str_Hue[]=                     {Str_Hue_E,Str_Hue_F,Str_Hue_D,Str_Hue_S,Str_Hue_K};
 896      =1  CODE BYTE       *Str_Backlight[]=               {Str_Backlight_E,Str_Backlight_F,Str_Backlight_D,Str_Backlight_S,Str_Backlig
             -ht_K};
 897      =1  CODE BYTE       *Str_Sharpness[]=               {Str_Sharpness_E,Str_Sharpness_F,Str_Sharpness_D,Str_Sharpness_S,Str_Sharpne
             -ss_K};
 898      =1  CODE BYTE       *Str_Contrast[]=                {Str_Contrast_E,Str_Contrast_F,Str_Contrast_D,Str_Contrast_S,Str_Contrast_K};
 899      =1  CODE BYTE       *Str_Brightness[]=      {Str_Brightness_E,Str_Brightness_F,Str_Brightness_D,Str_Brightness_S,Str_Bri
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 85  

             -ghtness_K};
 900      =1  CODE BYTE       *Str_Saturation[]=      {Str_Saturation_E,Str_Saturation_E,Str_Saturation_D,Str_Saturation_S,Str_Sat
             -uration_K};
 901      =1  CODE BYTE       *Str_Reset[]=                   {Str_Reset_E,Str_Reset_F,Str_Reset_D,Str_Reset_S,Str_Reset_K};
 902      =1  #ifdef E_Wintek
           =1 CODE BYTE       *Str_AutoAdjust2[]=     {Str_AutoAdjust_C};
           =1 CODE BYTE       *Str_Brightness2[]=     {Str_Brightness_C};
           =1 CODE BYTE       *Str_Contrast2[]=       {Str_Contrast_C};
           =1 CODE BYTE       *Str_Saturation2[]=     {Str_Saturation_C};
           =1 CODE BYTE       *Str_RETURN2[]=         {Str_RETURN_C};
           =1 
           =1 CODE BYTE *Str_Auto_Day_Night2[]={Str_Auto_Day_Night_C};
           =1 CODE BYTE *Str_DIR_IMAGE2[]={Str_DIR_IMAGE_C};
           =1 CODE BYTE *Str_REAR_SETUP2[]={Str_REAR_SETUP_C};
           =1 CODE BYTE *Str_JUMP2[]={Str_JUMP_C};
           =1 CODE BYTE *Str_RECALL2[]={Str_RECALL_C};
           =1 CODE BYTE *Str_EXIT2[]={Str_EXIT_C};
           =1 
           =1 CODE BYTE       *StrVolume2[]=                  {StrVolume_C};
           =1 #endif
 918      =1  //----------------------------------------------------------------------------------------------HS_Andy AW
             -T84 20090811
 919      =1  CODE BYTE *Str_MIRROR[]={Str_MIRROR_E,Str_MIRROR_E,Str_MIRROR_E,Str_MIRROR_E,Str_MIRROR_E};
 920      =1  CODE BYTE *Str_JUMP[]={Str_JUMP_E,Str_JUMP_E,Str_JUMP_E,Str_JUMP_E,Str_JUMP_E};
 921      =1  CODE BYTE *Str_SEQ_TIME_STEP[]={Str_SEQ_TIME_STEP_E,Str_SEQ_TIME_STEP_E,Str_SEQ_TIME_STEP_E,Str_SEQ_TIME_S
             -TEP_E,Str_SEQ_TIME_STEP_E}; 
 922      =1  CODE BYTE *Str_CAM_OUT[]={Str_CAM_OUT_E,Str_CAM_OUT_E,Str_CAM_OUT_E,Str_CAM_OUT_E,Str_CAM_OUT_E};
 923      =1  CODE BYTE *Str_RETURN[]={Str_RETURN_E,Str_RETURN_E,Str_RETURN_E,Str_RETURN_E,Str_RETURN_E};
 924      =1  CODE BYTE *Str_RECALL[]={Str_RECALL_E,Str_RECALL_E,Str_RECALL_E,Str_RECALL_E,Str_RECALL_E};
 925      =1  CODE BYTE *Str_EXIT[]={Str_EXIT_E,Str_EXIT_E,Str_EXIT_E,Str_EXIT_E,Str_EXIT_E};
 926      =1  CODE BYTE *Str_DISPLAY[]={Str_DISPLAY_E,Str_DISPLAY_E,Str_DISPLAY_E,Str_DISPLAY_E,Str_DISPLAY_E};
 927      =1  CODE BYTE *Str_DVR_DISPLAY[]={Str_DVR_DISPLAY_E,Str_DVR_DISPLAY_E,Str_DVR_DISPLAY_E,Str_DVR_DISPLAY_E,Str_
             -DVR_DISPLAY_E};
 928      =1  CODE BYTE *Str_DISTANCE[]={Str_DISTANCE_E,Str_DISTANCE_E,Str_DISTANCE_E,Str_DISTANCE_E,Str_DISTANCE_E};
 929      =1  CODE BYTE *Str_OSD_LOCK[]={Str_OSD_LOCK_E,Str_OSD_LOCK_E,Str_OSD_LOCK_E,Str_OSD_LOCK_E,Str_OSD_LOCK_E};
 930      =1  CODE BYTE *Str_PASSWORD[]={Str_PASSWORD_E,Str_PASSWORD_E,Str_PASSWORD_E,Str_PASSWORD_E,Str_PASSWORD_E};
 931      =1  CODE BYTE *Str_SOURCE_TITLE[]={Str_SOURCE_TITLE_E,Str_SOURCE_TITLE_E,Str_SOURCE_TITLE_E,Str_SOURCE_TITLE_E
             -,Str_SOURCE_TITLE_E};
 932      =1  CODE BYTE *Str_CVBSA[]={Str_CVBSA_E,Str_CVBSA_E,Str_CVBSA_E,Str_CVBSA_E,Str_CVBSA_E};
 933      =1  CODE BYTE *Str_CVBSB[]={Str_CVBSB_E,Str_CVBSB_E,Str_CVBSB_E,Str_CVBSB_E,Str_CVBSB_E};
 934      =1  CODE BYTE *Str_CVBSC[]={Str_CVBSC_E,Str_CVBSC_E,Str_CVBSC_E,Str_CVBSC_E,Str_CVBSC_E};
 935      =1  CODE BYTE *Str_CVBSR[]={Str_CVBSR_E,Str_CVBSR_E,Str_CVBSR_E,Str_CVBSR_E,Str_CVBSR_E};
 936      =1  CODE BYTE *Str_Auto_Day_Night[]={Str_Auto_Day_Night_E,Str_Auto_Day_Night_E,Str_Auto_Day_Night_E,Str_Auto_D
             -ay_Night_E,Str_Auto_Day_Night_E};
 937      =1  CODE BYTE *Str_DIR_IMAGE[]={Str_DIR_IMAGE_E,Str_DIR_IMAGE_E,Str_DIR_IMAGE_E,Str_DIR_IMAGE_E,Str_DIR_IMAGE_
             -E};
 938      =1  CODE BYTE *Str_REAR_SETUP[]={Str_REAR_SETUP_E,Str_REAR_SETUP_E,Str_REAR_SETUP_E,Str_REAR_SETUP_E,Str_REAR_
             -SETUP_E};
 939      =1  CODE BYTE *Str_CAMA[]={Str_CAMA_E,Str_CAMA_E,Str_CAMA_E,Str_CAMA_E,Str_CAMA_E};
 940      =1  CODE BYTE *Str_CAMB[]={Str_CAMB_E,Str_CAMB_E,Str_CAMB_E,Str_CAMB_E,Str_CAMB_E};
 941      =1  CODE BYTE *Str_CAMC[]={Str_CAMC_E,Str_CAMC_E,Str_CAMC_E,Str_CAMC_E,Str_CAMC_E};
 942      =1  CODE BYTE *Str_CAMR[]={Str_CAMR_E,Str_CAMR_E,Str_CAMR_E,Str_CAMR_E,Str_CAMR_E};
 943      =1  CODE BYTE *Str_SPACE[]={Str_SPACE_E}; 
 944      =1  CODE BYTE *Str_VER[]={Str_VER_E}; 
 945      =1  CODE BYTE *Str_TIMEOUT_STEP[]={Str_TIMEOUT_STEP_E};
 946      =1  CODE BYTE *Str_GAUGE_STEP[]={Str_GAUGE_STEP_E};
 947      =1  CODE BYTE *Str_GAUGE_RECALL[]={Str_GAUGE_RECALL_E};
 948      =1  CODE BYTE *Str_PRIORITY[]={Str_PRIORITY_E};
 949      =1  
 950      =1  CODE BYTE *Str_Resolution[]={Str_Resolution_E};
 951      =1  CODE BYTE *Str_FPS[]={Str_FPS_E};
 952      =1  CODE BYTE *Str_Quality[]={Str_Quality_E};
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 86  

 953      =1  CODE BYTE *Str_RecordMode[]={Str_RecordMode_E};
 954      =1  CODE BYTE *Str_RecordLength[]={Str_RecordLength_E};
 955      =1  CODE BYTE *Str_PreAlarmLength[]={Str_PreAlarmLength_E};
 956      =1  CODE BYTE *Str_PostAlarmLength[]={Str_PostAlarmLength_E};
 957      =1  CODE BYTE *Str_Apply[]={Str_Apply_E};
 958      =1  CODE BYTE *Str_ManualRecordStart[]={Str_ManualRecordStart_E};
 959      =1  CODE BYTE *Str_ManualRecordStop[]={Str_ManualRecordStop_E};
 960      =1  CODE BYTE *Str_Snapshot[]={Str_Snapshot_E};
 961      =1  CODE BYTE *Str_DateTime[]={Str_DateTime_E};
 962      =1  CODE BYTE *Str_Year[]={Str_Year_E};
 963      =1  CODE BYTE *Str_Month[]={Str_Month_E};
 964      =1  CODE BYTE *Str_Day[]={Str_Day_E};
 965      =1  CODE BYTE *Str_Hour[]={Str_Hour_E};
 966      =1  CODE BYTE *Str_Minute[]={Str_Minute_E};
 967      =1  CODE BYTE *Str_Secord[]={Str_Secord_E};
 968      =1  CODE BYTE *Str_DaylightSaving[]={Str_DaylightSaving_E};
 969      =1  CODE BYTE *Str_TimeBegines[]={Str_TimeBegines_E};
 970      =1  CODE BYTE *Str_Standard[]={Str_Standard_E};
 971      =1  CODE BYTE *Str_Week[]={Str_Week_E};
 972      =1  CODE BYTE *Str_Time[]={Str_Time_E};
 973      =1  CODE BYTE *Str_TimeZone[]={Str_TimeZone_E};
 974      =1  CODE BYTE *Str_RETURNAPPLY[]={Str_RETURNAPPLY_E};
 975      =1  CODE BYTE *Str_FormatSD[]={Str_FormatSD_E};
 976      =1  CODE BYTE *Str_AudioRecord[]={Str_AudioRecord_E};
 977      =1  CODE BYTE *Str_FirmwareUpdate[]={Str_FirmwareUpdate_E};
 978      =1  CODE BYTE *Str_YES[]={Str_YES_E};
 979      =1  CODE BYTE *Str_NO[]={Str_NO_E};
 980      =1  CODE BYTE *Str_FirstNumber[]={Str_FirstNumber_E};
 981      =1  CODE BYTE *Str_SecondNumber[]={Str_SecondNumber_E};
 982      =1  CODE BYTE *Str_ThridNumber[]={Str_ThridNumber_E};
 983      =1  CODE BYTE *Str_FourthNumber[]={Str_FourthNumber_E};
 984      =1  CODE BYTE *Str_ChangePassword[]={Str_ChangePassword_E};
 985      =1  CODE BYTE *Str_Str_OverWrite[]={Str_OverWrite_E};
 986      =1  CODE BYTE *Str_TriggerSet[]={Str_TriggerSet_E};
 987      =1  CODE BYTE *Str_TriggerVGA[]={Str_TriggerVGA_E};
 988      =1  
 989      =1  CODE BYTE *Str_RS485[]={Str_RS485_E};
 990      =1  
 991      =1  CODE BYTE *Str_CAMNumber[]={Str_CAMNumber_E};// WILLIAM-V1.43-970325
 992      =1  CODE BYTE *Str_Pelco[]={Str_Pelco_E};// WILLIAM-V1.43-970325
 993      =1  CODE BYTE *Str_Baud_rate[]={Str_Baud_rate_E};// WILLIAM-V1.43-970325
 994      =1  CODE BYTE *Str_CameraOSD[]={Str_CameraOSD_E};
 995      =1  
 996      =1  CODE BYTE *Str_DIR_IMAGE_CAMA[]={Str_DIR_IMAGE_CAMA_E};//Andy A1.4 990113
 997      =1  CODE BYTE *Str_DIR_IMAGE_CAMB[]={Str_DIR_IMAGE_CAMB_E};//Andy A1.4 990113
 998      =1  CODE BYTE *Str_DIR_IMAGE_CAMC[]={Str_DIR_IMAGE_CAMC_E};//Andy A1.4 990113
 999      =1  
1000      =1  //--------------------------------------------------------------------------------------------------------
             ------
1001      =1  
1002      =1  #ifdef SUPPORT_PC
1003      =1  CODE BYTE       *Str_Phase[]=                   {Str_Phase_E,Str_Phase_E,Str_Phase_E,Str_Phase_S,Str_Phase_E};
1004      =1  CODE BYTE       *Str_Clock[]=                   {Str_Clock_E,Str_Clock_F,Str_Clock_D,Str_Clock_S,Str_Clock_E};
1005      =1  CODE BYTE       *Str_AutoColor[]=               {Str_AutoColor_E,Str_AutoColor_E,Str_AutoColor_E,Str_AutoColor_E,Str_AutoCol
             -or_K};
1006      =1  CODE BYTE       *Str_AutoAdjust[]=      {Str_AutoAdjust_E,Str_AutoAdjust_E,Str_AutoAdjust_E,Str_AutoAdjust_E,Str_Aut
             -oAdjust_K};
1007      =1  #endif
1008      =1  
1009      =1  #ifdef WIDE_SCREEN
1010      =1  CODE BYTE       *Str_WideScreen[] =     {Str_WideScreen_E,Str_WideScreen_E,Str_WideScreen_E,Str_WideScreen_E,Str_Wi
             -deScreen_K};
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 87  

1011      =1  #endif
1012      =1  
1013      =1  
1014      =1  
1015      =1  #endif
1016      =1  
 101          #include "menu.h"
   1      =1  //#define DEGITALDEVICE // OSD Type
   2      =1  //Techwell menu
   3      =1  #define OSDMENU_X_BORDER                0x8//16
   4      =1  #define OSDMENU_Y_BORDER                0x6//4
   5      =1  #define OUTLINE_WIDTH                   2
   6      =1  #define NO_TITLE_COLOR                  NIL
   7      =1  
   8      =1  // Color style IV ---------------------------------------------
   9      =1  /*
  10      =1  #define BACK_COLOR                              BG_COLOR_BLACK | EXTENDED_COLOR
  11      =1  #define DEFAULT_COLOR                   BG_COLOR_BLACK   | CH_COLOR_WHITE | EXTENDED_COLOR
  12      =1  #define ACTIVE_COLOR                    BG_COLOR_WHITE   | CH_COLOR_BLUE | EXTENDED_COLOR       
  13      =1  
  14      =1  #define TITLE_COLOR                             BG_COLOR_BLACK    | CH_COLOR_YELLOW | EXTENDED_COLOR   
  15      =1  #define CURSOR_COLOR                    BG_COLOR_YELLOW | CH_COLOR_BLACK | EXTENDED_COLOR
  16      =1  
  17      =1  #define OSD_INFO_COLOR                  DEFAULT_COLOR
  18      =1  
  19      =1  #define BAR_COLOR                               DEFAULT_COLOR   
  20      =1  #define BAR_NUM_COLOR                   BAR_COLOR
  21      =1  #define NUM_COLOR                               DEFAULT_COLOR
  22      =1  */
  23      =1  /*
  24      =1  #define BACK_COLOR                              BG_COLOR_CYAN
  25      =1  #define DEFAULT_COLOR                   BG_COLOR_CYAN   | CH_COLOR_WHITE
  26      =1  //#define ACTIVE_COLOR                  BG_COLOR_YELLOW | CH_COLOR_WHITE
  27      =1  #define TITLE_BACK_COLOR                BG_COLOR_BLUE
  28      =1  #define TITLE_COLOR                             TITLE_BACK_COLOR | CH_COLOR_WHITE
  29      =1  #define CURSOR_COLOR                    BG_COLOR_YELLOW | CH_COLOR_BLUE
  30      =1  #define OSD_INFO_COLOR                  DEFAULT_COLOR
  31      =1  
  32      =1  #define BAR_COLOR                               DEFAULT_COLOR   
  33      =1  #define BAR_NUM_COLOR                   DEFAULT_COLOR
  34      =1  #define NUM_COLOR                               DEFAULT_COLOR
  35      =1  
  36      =1  #define OSDMENU_OUTLINE_COLOR   BG_COLOR_WHITE
  37      =1  *///#define SPACES_BETWEEN_ICON_DESC            0                       
  38      =1  
  39      =1  #define ICON_X                                  0
  40      =1  #define ICON_COLOR                              DEFAULT_COLOR
  41      =1  #define TOPICON_COLOR                   DEFAULT_COLOR
  42      =1  #define NO_ICON_COLOR                   NIL
  43      =1  
  44      =1  #define DESC_X                                  2
  45      =1  #define DESC_X_NO_ICON                  0
  46      =1  #define DESC_COLOR                              DEFAULT_COLOR
  47      =1  
  48      =1  //#define CURSOR_START                  0
  49      =1  
  50      =1  #define ITEMSTARTX                              0
  51      =1  #define TITLESTARTX                             0
  52      =1  
  53      =1  
  54      =1  #define BAR_NUM_RADIX                   10
  55      =1  #define NUM_RADIX                               10
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 88  

  56      =1  
  57      =1  //===================================================================
  58      =1  // OSD Menu Icon define.
  59      =1  //
  60      =1  #define COLORFONT                               COLORFONT_START+0x100
  61      =1  
  62      =1  
  63      =1  CODE BYTE UTIL_ICON[]={ RAMFONT, COLORFONT+0x18,        COLORFONT+0x1b, 0}; 
  64      =1  CODE BYTE INPUT_ICON[]={        RAMFONT, COLORFONT+0x12,        COLORFONT+0x15, 0};
  65      =1  CODE BYTE TV_ICON[]={           RAMFONT, COLORFONT+0x0c,        COLORFONT+0x0f, 0};
  66      =1  CODE BYTE VIDEO_ICON[]={        RAMFONT, COLORFONT+0x00,        COLORFONT+0x03, 0};
  67      =1  CODE BYTE SDCARD_ICON[]={       RAMFONT, COLORFONT+0x06,        COLORFONT+0x09, 0};
  68      =1  CODE BYTE SCANSDCARD_ICON[]={   RAMFONT, COLORFONT+0x24,        COLORFONT+0x27, 0};
  69      =1  CODE BYTE PC_ADJ_ICON[]={       RAMFONT, 0x01,  0x02,                                           0};
  70      =1  CODE BYTE NoSDCard_ICON[]={     RAMFONT, COLORFONT+0x1e,        COLORFONT+0x21, 0};
  71      =1  CODE BYTE SDCardOverWrite_ICON[]={      RAMFONT, COLORFONT+0x2A,        COLORFONT+0x2D, 0};
  72      =1  /*
  73      =1  #define UTIL_ICON                               COLORFONT+0x18, COLORFONT+0x1b 
  74      =1  #define INPUT_ICON                              COLORFONT+0x12, COLORFONT+0x15
  75      =1  #define TV_ICON                                 COLORFONT+0x0c, COLORFONT+0x0f
  76      =1  #define VIDEO_ICON                              COLORFONT+0x00, COLORFONT+0x03
  77      =1  #define AUDIO_ICON                              COLORFONT+0x06, COLORFONT+0x09
  78      =1  #define PC_ADJ_ICON                             0x118,  0x119
  79      =1  
  80      =1  
  81      =1  #define INFO_ICON                               0x21,   0x20
  82      =1  #define WIDE_ICON                               0x102,  0x103
  83      =1  #define SRCSEL_ICON                             0x104,  0x105
  84      =1  #define SATU_ICON                               0x114,  0x115
  85      =1  #define HUE_ICON                                0x110,  0x111
  86      =1  #define SHARP_ICON                              0x112,  0x113
  87      =1  #define RESET_ICON                              0x10c,  0x10d
  88      =1  #define BRIGHTNESS_ICON                 0x10,   0x11
  89      =1  #define CONTRAST_ICON                   0x0e,   0x0f
  90      =1  #define PC_COLOR_ICON                   0x10e,  0x10f
  91      =1  #define PC_CLOCK_ICON                   0x17,   0x18
  92      =1  #define PC_PHASE_ICON                   0x19,   0x1a
  93      =1  #define PC_VPOS_ICON                    0x0a,   0x0b
  94      =1  #define PC_HPOS_ICON                    0x0c,   0x0d
  95      =1  */
  96      =1  
  97      =1  //==================================================================================
  98      =1  //Common
  99      =1  CODE BYTE NumberOnly[]= {0};
 100      =1  CODE BYTE DefaultBar[]= {0};
 101      =1  
 102      =1  //==========================================================================
 103      =1  //  Menu Structure define
 104      =1  //
 105      =1  #define INPUTSELECT_H   3
 106      =1  CODE BYTE InputSelectMenu[]=
 107      =1          {
 108      =1                                  MENU_WIDTH,             INPUTSELECT_H,
 109      =1                                  TITLE_COLOR,
 110      =1                                  CURSOR_COLOR,
 111      =1  };
 112      =1  
 113      =1  #ifdef fullcode
           =1 CODE struct DefineMenu DMINPUTSELECT[]={
           =1                 {       {0},                                                                                    Str_Composite,
           =1                         NIL,    NIL,    
           =1                         NO_ICON_COLOR,
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 89  

           =1                         DESC_COLOR,
           =1                         0,
           =1                         ACTION,                 NO,
           =1                         CHANGE_TO_COMPOSITE,
           =1                 },
           =1         #ifdef SUPPORT_SVIDEO
           =1                 {       {0},                                                                                    Str_Svideo,
           =1                         NIL,    NIL,    
           =1                         NO_ICON_COLOR,
           =1                         DESC_COLOR,
           =1                         0,
           =1                         ACTION,                 NO,
           =1                         CHANGE_TO_SVIDEO,
           =1                 },
           =1         #endif
           =1         #ifdef SUPPORT_COMPONENT
           =1                 {       {0},                                                                                    Str_Component,
           =1                         NIL,    NIL,    
           =1                         NO_ICON_COLOR,
           =1                         DESC_COLOR,
           =1                         0,
           =1                         ACTION,                 NO,
           =1                         CHANGE_TO_COMPONENT,
           =1                 },
           =1         #endif
           =1         #ifdef SUPPORT_DTV
           =1                 {       {0},                                                                                    Str_Dtv,
           =1                         NIL,    NIL,    
           =1                         NO_ICON_COLOR,
           =1                         DESC_COLOR,
           =1                         0,
           =1                         ACTION,                 NO,
           =1                         CHANGE_TO_DTV,
           =1                 },
           =1         #endif
           =1         #ifdef SUPPORT_PC
           =1                 {       {0},                                                                                    Str_Pc,
           =1                         NIL,    NIL,    
           =1                         NO_ICON_COLOR,
           =1                         DESC_COLOR,
           =1                         0,
           =1                         ACTION,                 NO,
           =1                         CHANGE_TO_PC,
           =1                 },
           =1         #endif
           =1         #ifdef SUPPORT_DIGITALVGA
           =1                 {       {0},                                                                                    Str_DigitalVGA,
           =1                         NIL,    NIL,    
           =1                         NO_ICON_COLOR,
           =1                         DESC_COLOR,
           =1                         0,
           =1                         ACTION,                 NO,
           =1                         CHANGE_TO_DIGITALVGA,
           =1                 },
           =1         #endif
           =1                 {       {0},                                                                                            0,//Terminator
           =1                         0,                              0,              
           =1                         NIL,
           =1                         NIL,
           =1                         0,
           =1                         0,                              0,
           =1                 },
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 90  

           =1 };
           =1 #define INFORMATION_H   4
           =1 CODE BYTE InformationMenu[]=
           =1 {
           =1                         MENU_WIDTH,             
           =1                         INFORMATION_H,
           =1                         TITLE_COLOR,
           =1                         CURSOR_COLOR,
           =1 };
           =1 
           =1 CODE struct DefineMenu DMINFORMATION[]=
           =1 {
           =1                 {       
           =1                         {0},                                                                                    
           =1                         Str_Version,
           =1                         NIL,    
           =1                         NIL,    
           =1                         NO_ICON_COLOR,
           =1                         DESC_COLOR,
           =1                         0,
           =1                         NIL,                    
           =1                         NO,
           =1                         NIL,
           =1                 },
           =1                 {       
           =1                         {0},                                                                                            0,//Terminator
           =1                         0,                              0,              
           =1                         NIL,
           =1                         NIL,
           =1                         0,
           =1                         0,                              0,
           =1                 },
           =1 };
           =1 
           =1 
           =1 #endif
 216      =1  #ifdef SUPPORT_SVIDEO
           =1 #define ADD_SVIDEO              1
           =1 #else
 219      =1  #define ADD_SVIDEO              0
 220      =1  #endif
 221      =1  
 222      =1  #ifdef SUPPORT_COMPONENT
           =1 #define ADD_COMPONENT   1
           =1 #else
 225      =1  #define ADD_COMPONENT   0
 226      =1  #endif
 227      =1  
 228      =1  #ifdef SUPPORT_PC
 229      =1  #define ADD_PC                  1
 230      =1  #else
           =1 #define ADD_PC                  0
           =1 #endif
 233      =1  
 234      =1  #ifdef SUPPORT_TV
           =1 #define ADD_TV                  1
           =1 #else
 237      =1  #define ADD_TV                  0
 238      =1  #endif
 239      =1  
 240      =1  #ifdef SUPPORT_DTV
           =1 #define ADD_DTV                 1
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 91  

           =1 #else
 243      =1  #define ADD_DTV                 0
 244      =1  #endif
 245      =1  
 246      =1  #define MAX_SUPPORT             (2 + ADD_SVIDEO+ ADD_COMPONENT + ADD_PC + ADD_TV + ADD_DTV)     // +1 default CVBS
 247      =1  #define INPUTCTRL_H             MAX_SUPPORT
 248      =1  
 249      =1  
 250      =1  CODE BYTE InputSourceMenu[]=
 251      =1                          {       //3,
 252      =1                                  MENU_WIDTH,             INPUTCTRL_H,
 253      =1                                  TITLE_COLOR,
 254      =1                                  CURSOR_COLOR,
 255      =1  };
 256      =1  
 257      =1  
 258      =1  #ifdef SUPPORT_RS485
           =1 /*-----------------------------------------------------*/ 
           =1 /* 3hOSD --> DISPLAY -->RS485-->*/ 
           =1 /*-----------------------------------------------------*/ 
           =1 #define RS485SELECT_H  2                                  
           =1 CODE BYTE RS485SelectMenu[]={                                    
           =1     MENU_WIDTH,                                                  
           =1     RS485SELECT_H,          
           =1     TITLE_COLOR,                                                 
           =1     CURSOR_COLOR,};                                              
           =1 /*------------------------------*/                                             
           =1 /*     FORMATSD OSD Menu       */                                             
           =1 /*------------------------------*/                                             
           =1 CODE struct DefineMenu RS485SELECT[]={                                       
           =1                                                                      
           =1                {   {0},                     //ICONm                       
           =1             Str_CAMNumber,             //"Display"r               
           =1             NIL,                     //WID                         
           =1             NIL,                     //UID                         
           =1             NO_ICON_COLOR,           //ICONFlag                   
           =1             DESC_COLOR,              //rFlag                   
           =1             0,                       //eOSDe(ThOSD)
           =1             NUMBER,             //eOSDA(r)
           =1             NO,                                                 
           =1             //CAMOSDONOFF,             //@(^W@)         
           =1             CAMNumberChoice,             //@(^W@)     
           =1             NumberOnly,//DefaultBar      //Ryan@979715       
           =1             //ONOFFChoiceString,       //                         
           =1         },                                                            
           =1 
           =1         {   {0},                     //ICONm                       
           =1             Str_Pelco,            //"DISTANCE GAUGE"r               
           =1             NIL,                     //WID                         
           =1             NIL,                     //UID                         
           =1             NO_ICON_COLOR,           //ICONFlag                   
           =1             DESC_COLOR,              //rFlag                   
           =1             0,                       //eOSDe(ThOSD)
           =1             ENUM_STRING,             //eOSDA(r) 
           =1             NO,                                                 
           =1            // GAUGEChoice,             //@(^W@)      
           =1             PelcoChoice,             //@(^W@)    
           =1             PDChoiceString,       //                         
           =1         },   
           =1 
           =1         {   {0},                     //ICONm                       
           =1             Str_Baud_rate,            //"DISTANCE GAUGE"r               
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 92  

           =1             NIL,                     //WID                         
           =1             NIL,                     //UID                         
           =1             NO_ICON_COLOR,           //ICONFlag                   
           =1             DESC_COLOR,              //rFlag                   
           =1             0,                       //eOSDe(ThOSD)
           =1             ENUM_STRING,             //eOSDA(r) 
           =1             NO,                                                 
           =1            // GAUGEChoice,             //@(^W@)      
           =1             Baud_rateChoice,             //@(^W@)    
           =1             bpsChoiceString,       //                         
           =1         },  
           =1         
           =1         {       {0},                                     //ICONm                                        
           =1                 Str_CameraOSD,                   //"RETRUN"r                        
           =1                 NIL,                                     //WID                                                  
           =1                 NIL,                                     //UID                                                  
           =1                 NO_ICON_COLOR,                   //ICONFlag                                    
           =1                 DESC_COLOR,                      //rFlag                                    
           =1                 0,                                               //eOSDe(ThOSD)        
           =1                 ACTION,                                  //eOSDA    Abel Test        
           =1                 NO,                                                                                                        
           =1                 CameraOSD,                               //@(^W@)                        
           =1         },
           =1 
           =1       {   {0},                     //ICONm             
           =1           Str_RETURN,              //"RETRUN"r     
           =1           NIL,                     //WID               
           =1           NIL,                     //UID               
           =1           NO_ICON_COLOR,           //ICONFlag         
           =1           DESC_COLOR,              //rFlag         
           =1           0,                       //eOSDe(ThO
           =1           ACTION,                  //eOSDA    Abel T
           =1           NO,                                             
           =1           TOHIGHMENU//@(^W@)     
           =1       },                                                  
           =1                                                            
           =1       {   {0},                                       
           =1           0,//Terminator   
           =1           0,               
           =1           0,               
           =1           NIL,             
           =1           NIL,             
           =1           0,               
           =1           0,               
           =1           0,               
           =1       },                     
           =1 };
           =1 #endif
 352      =1  
 353      =1  CODE struct DefineMenu DMINPUTSOURCE[]={
 354      =1          /////////////>>>>>>>>>>>>>>>>>>>>>>>andy AWT8.4 980811
 355      =1              {   {0},                     //ICONm                                          
 356      =1              Str_Auto_Day_Night,      //"Auto Day & Night"r 
 357      =1              NIL,                     //WID                     
 358      =1              NIL,                     //UID                                                     
 359      =1              NO_ICON_COLOR,           //ICONFlag                                                       
 360      =1              DESC_COLOR,              //rFlag                                                       
 361      =1              0,                       //eOSDe(ThOSD)                                           
 362      =1              ENUM_STRING,             //eOSDA(r)
 363      =1              NO, 
 364      =1              DayChoice,               //@(^W@)                         
 365      =1              ONOFFChoiceString,       //                                              
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 93  

 366      =1          },                                                                   
 367      =1  
 368      =1                                                            
 369      =1          {   {0},                     //ICONm                       
 370      =1              Str_DISPLAY,             //"Display"r               
 371      =1              NIL,                     //WID                         
 372      =1              NIL,                     //UID                         
 373      =1              NO_ICON_COLOR,           //ICONFlag                   
 374      =1              DESC_COLOR,              //rFlag                   
 375      =1              0,                       //eOSDe(ThOSD)
 376      =1              ENUM_STRING,             //eOSDA(r)
 377      =1              NO,                                                 
 378      =1              CAMOSDONOFF,             //@(^W@)         
 379      =1              ONOFFChoiceString,       //                         
 380      =1          },      
 381      =1  #ifdef AWT
 382      =1          {   {0},                     //ICONm                       
 383      =1              Str_DVR_DISPLAY,             //"Display"r               
 384      =1              NIL,                     //WID                         
 385      =1              NIL,                     //UID                         
 386      =1              NO_ICON_COLOR,           //ICONFlag                   
 387      =1              DESC_COLOR,              //rFlag                   
 388      =1              0,                       //eOSDe(ThOSD)
 389      =1              ENUM_STRING,             //eOSDA(r)
 390      =1              NO,                                                 
 391      =1              DVRDisplay,             //@(^W@)         
 392      =1              ONOFFChoiceString,       //                         
 393      =1          },      
 394      =1  #endif
 395      =1          {   {0},                     //ICONm                       
 396      =1              Str_DISTANCE,            //"DISTANCE GAUGE"r               
 397      =1              NIL,                     //WID                         
 398      =1              NIL,                     //UID                         
 399      =1              NO_ICON_COLOR,           //ICONFlag                   
 400      =1              DESC_COLOR,              //rFlag                   
 401      =1              0,                       //eOSDe(ThOSD)
 402      =1              ENUM_STRING,             //eOSDA(r) 
 403      =1              NO,                                                 
 404      =1              GAUGEChoice,             //@(^W@)         
 405      =1              ONOFFChoiceString,       //                         
 406      =1          },
 407      =1          {   
 408      =1              {0},                     //ICONm                       
 409      =1              Str_OSD_LOCK,            //"OSD LOCK"r               
 410      =1              NIL,                     //WID                         
 411      =1              NIL,                     //UID                         
 412      =1              NO_ICON_COLOR,           //ICONFlag                   
 413      =1              DESC_COLOR,              //rFlag                   
 414      =1              0,                       //eOSDe(ThOSD)
 415      =1              ENUM_STRING,             //eOSDA(r) 
 416      =1              NO,                                                 
 417      =1              OsdLockChoice,             //@(^W@)         
 418      =1              ONOFFChoiceString,       //                         
 419      =1          },
 420      =1   #ifdef AWT       
 421      =1          {        {0},                                     //ICONm                                       
 422      =1                           Str_PRIORITY,                    //"PRIORITY"r                           
 423      =1                           NIL,                                     //WID                                                 
 424      =1                           NIL,                                     //UID                                                 
 425      =1                           NO_ICON_COLOR,                   //ICONFlag                                   
 426      =1                           DESC_COLOR,                      //rFlag                                   
 427      =1                           0,                                       //eOSDe(ThOSD)
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 94  

 428      =1                           ENUM_STRING,                     //eOSDA(r) 
 429      =1                           NO,                                                                                             
 430      =1                           PRIORITYChoice,                          //@(^W@)             
 431      =1                           ONOFFChoiceString,       //                                             
 432      =1              },    
 433      =1  #endif                  
 434      =1  #ifdef SUPPORT_RS485
           =1                 {       {0},                                     //ICONm                                        
           =1                     Str_RS485,                   //"RETRUN"r                        
           =1                     NIL,                                          //WID                               
           =1                     NIL,                                          //UID                               
           =1                     NO_ICON_COLOR,                //ICONFlag                 
           =1                     DESC_COLOR,                   //rFlag                 
           =1                     RS485SELECT,                   //eOSDe(ThOSD)     
           =1                     OSDMENU,//CHOICEMENU,                       //eOSDA                              
           =1                     NO,                                                                                  
           =1                     0,//INPUTSELECTION,                    //<william-961004-ver1.41>                              
           =1                    RS485SelectMenu         //@Flag                              
           =1                 },
           =1 #endif
 448      =1                          
 449      =1                  {   
 450      =1              {0},                     //ICONm                     
 451      =1              Str_RETURN,              //"RETRUN"r             
 452      =1              NIL,                     //WID                       
 453      =1              NIL,                     //UID                       
 454      =1              NO_ICON_COLOR,           //ICONFlag                 
 455      =1              DESC_COLOR,              //rFlag                 
 456      =1              0,                       //eOSDe(ThOSD)     
 457      =1              ACTION,                  //eOSDA(]w@)     
 458      =1              NO,                                                     
 459      =1              TOHIGHMENU               //@(^W@)             
 460      =1          },             
 461      =1  
 462      =1                  //<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<andy AWT8.4 980811
 463      =1          
 464      =1                  #if 0 
           =1                 {       {0},                                                                                    Str_Input,
           =1                         NIL,    NIL,    
           =1                         NO_ICON_COLOR,
           =1                         DESC_COLOR,
           =1                         DMINPUTSELECT,
           =1                         CHOICEMENU,                     NO,
           =1                         INPUTSELECTION,
           =1                         InputSelectMenu
           =1                 },
           =1 
           =1                 {       {0},                                                                            Str_Information,
           =1                         NIL,    NIL,    
           =1                         NO_ICON_COLOR,
           =1                         DESC_COLOR,
           =1                         0,
           =1                         ACTION,         NO,
           =1                         DISP_INFO ,
           =1                 },
           =1                 #endif
 484      =1                  {       {0},                                                                                            0,//Terminator
 485      =1                          0,                              0,              
 486      =1                          NIL,
 487      =1                          NIL,
 488      =1                          0,
 489      =1                          0,                              0,
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 95  

 490      =1                  },
 491      =1  };
 492      =1  //----------------------------------------------------------------------------------
 493      =1  //----------------------------------------------------------------------------------
 494      =1  //----------------------------------------------------------------------------------
 495      =1  
 496      =1  //----------------------------------------------------------------------------------
 497      =1  #define         UTILITY_H                       4
 498      =1  /*CODE BYTE SleepTimerNumber[]=
 499      =1                          {//0,           
 500      =1                          UTILITY_H+1,    MENU_WIDTH,             
 501      =1                          BACK_COLOR,             
 502      =1                          NUM_RADIX,              NUM_COLOR,
 503      =1                          0};*/
 504      =1  #if 0                   
           =1 CODE BYTE UtilityMenu[]=
           =1                         {
           =1                         MENU_WIDTH,             UTILITY_H,
           =1                         TITLE_COLOR,    
           =1                         CURSOR_COLOR,
           =1 };
           =1 
           =1 CODE struct DefineMenu DMUtility[]={
           =1                 {       {0},                                                                                    Str_SleepTimer,
           =1                         NIL,    NIL,    
           =1                         NO_ICON_COLOR,
           =1                         DESC_COLOR,
           =1                         0,      
           =1                         NUMBER, NO,
           =1                         SLEEP_TIMER,
           =1                         NumberOnly
           =1                 },
           =1 #ifdef WIDE_SCREEN
           =1                 {       {0},                                                                            Str_WideScreen,
           =1                         NIL,    NIL,    
           =1                         NO_ICON_COLOR,
           =1                         DESC_COLOR,
           =1                         0,
           =1                         ENUM_STRING,            NO,
           =1                         WIDESCREEN,
           =1                         WideScreenChoice
           =1                 },
           =1 #endif // WIDE_SCREEN
           =1 #ifdef SUPPORT_OSDPOSITIONMOVE
           =1                 {       {0},                                                                            Str_OSDPosition,
           =1                         NIL,    NIL,    
           =1                         NO_ICON_COLOR,
           =1                         DESC_COLOR,
           =1                         0,
           =1                         ENUM_STRING,            NO,
           =1                         OSDPOSITIONMODE,
           =1                         OsdPositionModeChoice
           =1                 },
           =1 #endif
           =1                 {       {0},                                                                                    Str_OSDLang,
           =1                         NIL,    NIL,    
           =1                         NO_ICON_COLOR,
           =1                         DESC_COLOR,
           =1                         0,      
           =1                         ENUM_STRING,                    NO,
           =1                         OSDLANG,
           =1                         OSDLangString,
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 96  

           =1                 },
           =1                 {       {0},                                                                    Str_Reset,
           =1                         NIL,    NIL,    
           =1                         NO_ICON_COLOR,
           =1                         DESC_COLOR,
           =1                         0,
           =1                         ACTION,                 NO,
           =1                         RESET_VIDEOVALUE
           =1                 },
           =1                 {       {0},                                                                                            0,//Terminator
           =1                         0,                              0,              
           =1                         NIL,
           =1                         NIL,
           =1                         0,
           =1                         0,                              0,
           =1                 },
           =1 #endif          
 569      =1  
 570      =1  /*-----------------------------------------------------*/ 
 571      =1  /* 3hOSD ---> EXIT --->FWUpdate                                              */ 
 572      =1  /*-----------------------------------------------------*/ 
 573      =1  #define FWUpdateSELECT_H  2                                  
 574      =1  CODE BYTE FWUpdateSelectMenu[]={                                    
 575      =1      MENU_WIDTH,                                                  
 576      =1      FWUpdateSELECT_H,          
 577      =1      TITLE_COLOR,                                                 
 578      =1      CURSOR_COLOR,};                                              
 579      =1  /*------------------------------*/                                             
 580      =1  /*     FWUpdate OSD Menu       */                                             
 581      =1  /*------------------------------*/                                             
 582      =1  CODE struct DefineMenu FWUpdateSELECT[]={                                       
 583      =1                                                                       
 584      =1          {       {0},                                                            
 585      =1                  Str_NO,
 586      =1                          NIL,                                     //WID                                                  
 587      =1                          NIL,                                     //UID                                                  
 588      =1                          NO_ICON_COLOR,                   //ICONFlag                                    
 589      =1                          DESC_COLOR,                      //rFlag                                    
 590      =1                          0,                                               //eOSDe(ThOSD)        
 591      =1                          ACTION,                                  //eOSDA    Abel Test        
 592      =1                          NO,                                                                                                        
 593      =1                          TOHIGHMENU ,     //@(^W@)       
 594      =1  
 595      =1          },     
 596      =1          
 597      =1          {   {0},                 //ICONm     
 598      =1                  Str_YES,
 599      =1                      NIL,                                           //WID                                              
 600      =1                      NIL,                                           //UID                                              
 601      =1                      NO_ICON_COLOR,                 //ICONFlag                                        
 602      =1                      DESC_COLOR,                    //rFlag                                        
 603      =1                      0,                                     //eOSDe(ThOSD)            
 604      =1                      ACTION,                                //eOSDA        Abel Test                
 605      =1                      NO,                                                                                                          
 606      =1                      FirmwareUpdate,        //@(^W@)                                   
 607      =1         },
 608      =1                                                                         
 609      =1         {   {0},                                       
 610      =1            0,//Terminator   
 611      =1            0,               
 612      =1            0,               
 613      =1            NIL,             
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 97  

 614      =1            NIL,             
 615      =1            0,               
 616      =1            0,               
 617      =1            0,               
 618      =1         },                   
 619      =1  };
 620      =1  //#ifdef SUPPORT_SDCARD 
 621      =1  /*-----------------------------------------------------*/ 
 622      =1  /* 4hOSD --> EXIT -->FORMAT SD CARD-->Change Password*/ 
 623      =1  /*-----------------------------------------------------*/ 
 624      =1  #define ChangePasswordSELECT_H  2                                  
 625      =1  CODE BYTE ChangePasswordSelectMenu[]={                                    
 626      =1      MENU_WIDTH,                                                  
 627      =1      ChangePasswordSELECT_H,          
 628      =1      TITLE_COLOR,                                                 
 629      =1      CURSOR_COLOR,};                                              
 630      =1  /*------------------------------*/                                             
 631      =1  /*     FORMATSD OSD Menu       */                                             
 632      =1  /*------------------------------*/                                             
 633      =1  CODE struct DefineMenu ChangePasswordSELECT[]={                                       
 634      =1                                                                       
 635      =1          {       {0},                                                            
 636      =1                  Str_FirstNumber,
 637      =1                  NIL,    
 638      =1                  NIL,    
 639      =1                  NO_ICON_COLOR,
 640      =1                  DESC_COLOR,
 641      =1                  0,
 642      =1                  NUMBER,                 
 643      =1                  NO,
 644      =1                  FirstNumber,
 645      =1                  DefaultBar
 646      =1          },     
 647      =1          
 648      =1          {   {0},                 //ICONm                                      
 649      =1              Str_SecondNumber,            //"CAMA"r                               
 650      =1                  NIL,    
 651      =1                  NIL,    
 652      =1                  NO_ICON_COLOR,
 653      =1                  DESC_COLOR,
 654      =1                  0,
 655      =1                  NUMBER,                 
 656      =1                  NO,
 657      =1                  SecondNumber,
 658      =1                  DefaultBar        
 659      =1         },
 660      =1                          
 661      =1         {        {0},                                                            
 662      =1                  Str_ThridNumber,
 663      =1                  NIL,    
 664      =1                  NIL,    
 665      =1                  NO_ICON_COLOR,
 666      =1                  DESC_COLOR,
 667      =1                  0,
 668      =1                  NUMBER,                 
 669      =1                  NO,
 670      =1                  ThridNumber,
 671      =1                  DefaultBar
 672      =1         }, 
 673      =1  
 674      =1             {    {0},                                                            
 675      =1                          Str_FourthNumber,
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 98  

 676      =1                          NIL,    
 677      =1                          NIL,    
 678      =1                          NO_ICON_COLOR,
 679      =1                          DESC_COLOR,
 680      =1                          0,
 681      =1                          NUMBER,                 
 682      =1                          NO,
 683      =1                          FourthNumber,
 684      =1                          DefaultBar
 685      =1              }, 
 686      =1                  
 687      =1                  {       {0},                                     //ICONm                                        
 688      =1                          Str_ChangePassword,                      //"RETRUN"r                        
 689      =1                          NIL,                                     //WID                                                  
 690      =1                          NIL,                                     //UID                                                  
 691      =1                          NO_ICON_COLOR,                   //ICONFlag                                    
 692      =1                          DESC_COLOR,                      //rFlag                                    
 693      =1                          0,                                               //eOSDe(ThOSD)        
 694      =1                          ACTION,                                  //eOSDA    Abel Test        
 695      =1                          NO,                                                                                                        
 696      =1                          ChangePassword ,                                 //@(^W@)                        
 697      =1                  },
 698      =1  
 699      =1  
 700      =1        {   {0},                     //ICONm             
 701      =1            Str_RETURN,              //"RETRUN"r     
 702      =1            NIL,                     //WID               
 703      =1            NIL,                     //UID               
 704      =1            NO_ICON_COLOR,           //ICONFlag         
 705      =1            DESC_COLOR,              //rFlag         
 706      =1            0,                       //eOSDe(ThO
 707      =1            ACTION,                  //eOSDA    Abel T
 708      =1            NO,                                             
 709      =1            TOHIGHMENU//@(^W@)     
 710      =1        },                                                  
 711      =1                                                             
 712      =1        {   {0},                                       
 713      =1            0,//Terminator   
 714      =1            0,               
 715      =1            0,               
 716      =1            NIL,             
 717      =1            NIL,             
 718      =1            0,               
 719      =1            0,               
 720      =1            0,               
 721      =1        },                     
 722      =1  };
 723      =1  
 724      =1  
 725      =1  /*-----------------------------------------------------*/ 
 726      =1  /* 3hOSD ---> EXIT --->FORMAT SD CARD                                                */ 
 727      =1  /*-----------------------------------------------------*/ 
 728      =1  #define FORMATSDSELECT_H  2                                  
 729      =1  CODE BYTE FORMATSDSelectMenu[]={                                    
 730      =1      MENU_WIDTH,                                                  
 731      =1      FORMATSDSELECT_H,          
 732      =1      TITLE_COLOR,                                                 
 733      =1      CURSOR_COLOR,};                                              
 734      =1  /*------------------------------*/                                             
 735      =1  /*     FORMATSD OSD Menu       */                                             
 736      =1  /*------------------------------*/                                             
 737      =1  CODE struct DefineMenu FORMATSDSELECT[]={                                       
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 99  

 738      =1                                                                       
 739      =1          {       {0},                                                            
 740      =1                  Str_FirstNumber,
 741      =1                  NIL,    
 742      =1                  NIL,    
 743      =1                  NO_ICON_COLOR,
 744      =1                  DESC_COLOR,
 745      =1                  0,
 746      =1                  NUMBER,                 
 747      =1                  NO,
 748      =1                  FirstNumber,
 749      =1                  DefaultBar
 750      =1          },     
 751      =1          
 752      =1          {   {0},                 //ICONm                                      
 753      =1              Str_SecondNumber,            //"CAMA"r                               
 754      =1                  NIL,    
 755      =1                  NIL,    
 756      =1                  NO_ICON_COLOR,
 757      =1                  DESC_COLOR,
 758      =1                  0,
 759      =1                  NUMBER,                 
 760      =1                  NO,
 761      =1                  SecondNumber,
 762      =1                  DefaultBar        
 763      =1         },
 764      =1                          
 765      =1         {        {0},                                                            
 766      =1                  Str_ThridNumber,
 767      =1                  NIL,    
 768      =1                  NIL,    
 769      =1                  NO_ICON_COLOR,
 770      =1                  DESC_COLOR,
 771      =1                  0,
 772      =1                  NUMBER,                 
 773      =1                  NO,
 774      =1                  ThridNumber,
 775      =1                  DefaultBar
 776      =1         }, 
 777      =1  
 778      =1             {    {0},                                                            
 779      =1                          Str_FourthNumber,
 780      =1                          NIL,    
 781      =1                          NIL,    
 782      =1                          NO_ICON_COLOR,
 783      =1                          DESC_COLOR,
 784      =1                          0,
 785      =1                          NUMBER,                 
 786      =1                          NO,
 787      =1                          FourthNumber,
 788      =1                          DefaultBar
 789      =1              }, 
 790      =1  
 791      =1                  {       {0},                                     //ICONm                                        
 792      =1                          Str_FormatSD,                    //"RETRUN"r                        
 793      =1                          NIL,                                     //WID                                                  
 794      =1                          NIL,                                     //UID                                                  
 795      =1                          NO_ICON_COLOR,                   //ICONFlag                                    
 796      =1                          DESC_COLOR,                      //rFlag                                    
 797      =1                          0,                                               //eOSDe(ThOSD)        
 798      =1                          ACTION,                                  //eOSDA    Abel Test        
 799      =1                          NO,                                                                                                        
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 100 

 800      =1                          FormatSD ,                               //@(^W@)                        
 801      =1                  },
 802      =1                  
 803      =1                  {       {0},                                     //ICONm                                        
 804      =1                          Str_ChangePassword,                      //"RETRUN"r                        
 805      =1                      NIL,                                          //WID                               
 806      =1                      NIL,                                          //UID                               
 807      =1                      NO_ICON_COLOR,                //ICONFlag                 
 808      =1                      DESC_COLOR,                   //rFlag                 
 809      =1                      ChangePasswordSELECT,                  //eOSDe(ThOSD)     
 810      =1                      OSDMENU,//CHOICEMENU,                       //eOSDA                              
 811      =1                      NO,                                                                                  
 812      =1                      0,//INPUTSELECTION,                    //<william-961004-ver1.41>                              
 813      =1                      ChangePasswordSelectMenu       //@Flag                              
 814      =1                  },
 815      =1  
 816      =1                  
 817      =1  
 818      =1        {   {0},                     //ICONm             
 819      =1            Str_RETURN,              //"RETRUN"r     
 820      =1            NIL,                     //WID               
 821      =1            NIL,                     //UID               
 822      =1            NO_ICON_COLOR,           //ICONFlag         
 823      =1            DESC_COLOR,              //rFlag         
 824      =1            0,                       //eOSDe(ThO
 825      =1            ACTION,                  //eOSDA    Abel T
 826      =1            NO,                                             
 827      =1            TOHIGHMENU//@(^W@)     
 828      =1        },                                                  
 829      =1                                                             
 830      =1        {   {0},                                       
 831      =1            0,//Terminator   
 832      =1            0,               
 833      =1            0,               
 834      =1            NIL,             
 835      =1            NIL,             
 836      =1            0,               
 837      =1            0,               
 838      =1            0,               
 839      =1        },                     
 840      =1  };
 841      =1  //#endif//              #ifdef SUPPORT_SDCARD   
 842      =1  
 843      =1  CODE BYTE UtilityMenu[]={                                                             
 844      =1      MENU_WIDTH,                                                                       
 845      =1      UTILITY_H,                                                                        
 846      =1      TITLE_COLOR,                                                                      
 847      =1      CURSOR_COLOR,};                                                                                       
             -                                                  
 848      =1                  
 849      =1  CODE struct DefineMenu DMUtility[]={
 850      =1  
 851      =1                                             
 852      =1  
 853      =1  #ifdef SUPPORT_SDCARD             
 854      =1                    {   {0},                                         //ICONm                                            
 855      =1                            Str_ManualRecordStart,                   //"RETRUN"r                            
 856      =1                            NIL,                                     //WID                                              
 857      =1                            NIL,                                     //UID                                              
 858      =1                            NO_ICON_COLOR,                   //ICONFlag                                        
 859      =1                            DESC_COLOR,                      //rFlag                                        
 860      =1                            0,                                       //eOSDe(ThOSD)            
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 101 

 861      =1                            ACTION,                                  //eOSDA        Abel Test                
 862      =1                            NO,                                                                                                            
 863      =1                            ManualRecordStart ,      //@(^W@)                            
 864      =1                    },
 865      =1                    
 866      =1                    {   {0},                                         //ICONm                                            
 867      =1                            Str_ManualRecordStop,                    //"RETRUN"r                            
 868      =1                            NIL,                                     //WID                                              
 869      =1                            NIL,                                     //UID                                              
 870      =1                            NO_ICON_COLOR,                   //ICONFlag                                        
 871      =1                            DESC_COLOR,                      //rFlag                                        
 872      =1                            0,                                       //eOSDe(ThOSD)            
 873      =1                            ACTION,                                  //eOSDA        Abel Test                
 874      =1                            NO,                                                                                                            
 875      =1                            ManualRecordStop ,       //@(^W@)                            
 876      =1                    },
 877      =1                    
 878      =1                    {   {0},                                         //ICONm                                            
 879      =1                            Str_Snapshot,                    //"RETRUN"r                            
 880      =1                            NIL,                                     //WID                                              
 881      =1                            NIL,                                     //UID                                              
 882      =1                            NO_ICON_COLOR,                   //ICONFlag                                        
 883      =1                            DESC_COLOR,                      //rFlag                                        
 884      =1                            0,                                       //eOSDe(ThOSD)            
 885      =1                            ACTION,                                  //eOSDA        Abel Test                
 886      =1                            NO,                                                                                                            
 887      =1                            Snapshot ,                       //@(^W@)                            
 888      =1                    },
 889      =1  
 890      =1                    {   {0},                                         //ICONm                                            
 891      =1                            Str_FormatSD,                    //"RETRUN"r                            
 892      =1                            NIL,                                    //WID                               
 893      =1                            NIL,                                    //UID                               
 894      =1                            NO_ICON_COLOR,                  //ICONFlag                 
 895      =1                            DESC_COLOR,                     //rFlag                 
 896      =1                            FORMATSDSELECT,                  //eOSDe(ThOSD)     
 897      =1                            OSDMENU,//CHOICEMENU,                         //eOSDA                              
 898      =1                            NO,                                                                                    
 899      =1                            0,//INPUTSELECTION,                      //<william-961004-ver1.41>                              
 900      =1                            FORMATSDSelectMenu       //@Flag                            
 901      =1                    },
 902      =1  
 903      =1                    {   {0},                                         //ICONm                                            
 904      =1                            Str_FirmwareUpdate,              //"RETRUN"r                            
 905      =1                            NIL,                                    //WID                               
 906      =1                            NIL,                                    //UID                               
 907      =1                            NO_ICON_COLOR,                  //ICONFlag                 
 908      =1                            DESC_COLOR,                     //rFlag                 
 909      =1                            FWUpdateSELECT,                  //eOSDe(ThOSD)     
 910      =1                            OSDMENU,//CHOICEMENU,                         //eOSDA                              
 911      =1                            NO,                                                                                    
 912      =1                            0,//INPUTSELECTION,                      //<william-961004-ver1.41>                              
 913      =1                            FWUpdateSelectMenu       //@Flag             
 914      =1                    },
 915      =1  
 916      =1  #endif            
 917      =1                    {   {0},                                         //ICONm                                            
 918      =1                            Str_RECALL,                      //"RETRUN"r                            
 919      =1                            NIL,                                     //WID                                              
 920      =1                            NIL,                                     //UID                                              
 921      =1                            NO_ICON_COLOR,                   //ICONFlag                                        
 922      =1                            DESC_COLOR,                      //rFlag                                        
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 102 

 923      =1                            0,                                       //eOSDe(ThOSD)            
 924      =1                            ACTION,                                  //eOSDA        Abel Test                
 925      =1                            NO,                                                                                                            
 926      =1                            RESET_VIDEOVALUE ,       //@(^W@)                            
 927      =1                    },
 928      =1  
 929      =1            {   {0},                     //ICONm                        
 930      =1                Str_EXIT,                //"RETRUN"r                
 931      =1                NIL,                     //WID                          
 932      =1                NIL,                     //UID                          
 933      =1                NO_ICON_COLOR,           //ICONFlag                    
 934      =1                DESC_COLOR,              //rFlag                    
 935      =1                0,                       //eOSDe(ThOSD)        
 936      =1                ACTION,                  //eOSDA    Abel Test        
 937      =1                NO,                                                        
 938      =1                EXITMENU ,               //@(^W@)                
 939      =1            },        
 940      =1  
 941      =1  #if 0         
           =1           {   {0},                     //ICONm                        
           =1               Str_SPACE,                //"RETRUN"r                
           =1               NIL,                     //WID                          
           =1               NIL,                     //UID                          
           =1               NO_ICON_COLOR,           //ICONFlag                    
           =1               DESC_COLOR,              //rFlag                    
           =1               0,                       //eOSDe(ThOSD)        
           =1               TEXT_STR,                  //eOSDA    Abel Test        
           =1               NO,                                                        
           =1               EXITMENU ,               //@(^W@)                
           =1           },   
           =1         
           =1           {   {0},                     //ICONm                        
           =1               Str_VER,                //"RETRUN"r                
           =1               NIL,                     //WID                          
           =1               NIL,                     //UID                          
           =1               NO_ICON_COLOR,           //ICONFlag                    
           =1               VER_COLOR,              //rFlag                    
           =1               0,                       //eOSDe(ThOSD)        
           =1               TEXT_STR,                  //eOSDA    Abel Test        
           =1               NO,                                                        
           =1               EXITMENU ,               //@(^W@)                
           =1           },          
           =1 #endif      
 966      =1            { {0},                                                                      
 967      =1              0,//Terminator                                                            
 968      =1              0,                                                                        
 969      =1              0,                                                                        
 970      =1              NIL,                                                                      
 971      =1              NIL,                                                                      
 972      =1              0,                                                                        
 973      =1              0,                                                                        
 974      =1              0,                                                                        
 975      =1            },   
 976      =1  
 977      =1  };
 978      =1   #ifdef AWT  
 979      =1  //#ifdef SUPPORT_SDCARD 
 980      =1  /*-----------------------------------------------------*/ 
 981      =1  /* |hOSD ---> SDCARD --->DATE TIME--->DaylightSaving--->TimeBegines*/ 
 982      =1  /*-----------------------------------------------------*/ 
 983      =1  #define StandardTimeBeginesSELECT_H  5                                  
 984      =1  CODE BYTE StandardTimeBeginesSelectMenu[]={                                    
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 103 

 985      =1      MENU_WIDTH,                                                  
 986      =1      StandardTimeBeginesSELECT_H,          
 987      =1      TITLE_COLOR,                                                 
 988      =1      CURSOR_COLOR,};                                              
 989      =1  /*------------------------------*/                                             
 990      =1  /*     DateTimeSET OSD Menu       */                                             
 991      =1  /*------------------------------*/                                             
 992      =1  CODE struct DefineMenu StandardTimeBeginesSELECT[]={                                       
 993      =1                                                                       
 994      =1          {       {0},                                                            
 995      =1                  Str_Month,
 996      =1                  NIL,    
 997      =1                  NIL,    
 998      =1                  NO_ICON_COLOR,
 999      =1                  DESC_COLOR,
1000      =1                  0,
1001      =1                  NUMBER,                 
1002      =1                  NO,
1003      =1                  StandardTimeBeginesMonth,
1004      =1                  DefaultBar
1005      =1          },     
1006      =1          
1007      =1          {   {0},                 //ICONm                                      
1008      =1             Str_Week,            //"CAMA"r                               
1009      =1             NIL,                 //WID                                        
1010      =1             NIL,                 //UID                                        
1011      =1             NO_ICON_COLOR,       //ICONFlag                                  
1012      =1             DESC_COLOR,          //rFlag                                  
1013      =1             0,
1014      =1             ENUM_STRING,         //eOSDA    Abel Test 
1015      =1             NO,                                             
1016      =1             StandardTimeBeginesWeek,           //@(^W@)         
1017      =1             TimeBeginesWeekChoiceString    //                         
1018      =1         },
1019      =1                          
1020      =1         {        {0},                                                            
1021      =1                  Str_Time,
1022      =1                  NIL,    
1023      =1                  NIL,    
1024      =1                  NO_ICON_COLOR,
1025      =1                  DESC_COLOR,
1026      =1                  0,
1027      =1                  NUMBER,                 
1028      =1                  NO,
1029      =1                  StandardTimeBeginesTime,
1030      =1                  DefaultBar
1031      =1      }, 
1032      =1  
1033      =1  
1034      =1  
1035      =1        {   {0},                     //ICONm             
1036      =1            Str_RETURNAPPLY,              //"RETRUN"r     
1037      =1            NIL,                     //WID               
1038      =1            NIL,                     //UID               
1039      =1            NO_ICON_COLOR,           //ICONFlag         
1040      =1            DESC_COLOR,              //rFlag         
1041      =1            0,                       //eOSDe(ThO
1042      =1            ACTION,                  //eOSDA    Abel T
1043      =1            NO,                                             
1044      =1            DATETIMEApply               //@(^W@)     
1045      =1        },                                                  
1046      =1                                                             
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 104 

1047      =1        {   {0},                                       
1048      =1            0,//Terminator   
1049      =1            0,               
1050      =1            0,               
1051      =1            NIL,             
1052      =1            NIL,             
1053      =1            0,               
1054      =1            0,               
1055      =1            0,               
1056      =1        },                   
1057      =1  };
1058      =1  
1059      =1  
1060      =1  /*-----------------------------------------------------*/ 
1061      =1  /* |hOSD ---> SDCARD --->DATE TIME--->DaylightSaving--->TimeBegines*/ 
1062      =1  /*-----------------------------------------------------*/ 
1063      =1  #define TimeBeginesSELECT_H  5                                  
1064      =1  CODE BYTE TimeBeginesSelectMenu[]={                                    
1065      =1      MENU_WIDTH,                                                  
1066      =1      TimeBeginesSELECT_H,          
1067      =1      TITLE_COLOR,                                                 
1068      =1      CURSOR_COLOR,};                                              
1069      =1  /*------------------------------*/                                             
1070      =1  /*     DateTimeSET OSD Menu       */                                             
1071      =1  /*------------------------------*/                                             
1072      =1  CODE struct DefineMenu TimeBeginesSELECT[]={                                       
1073      =1                                                                       
1074      =1          {       {0},                                                            
1075      =1                  Str_Month,
1076      =1                  NIL,    
1077      =1                  NIL,    
1078      =1                  NO_ICON_COLOR,
1079      =1                  DESC_COLOR,
1080      =1                  0,
1081      =1                  NUMBER,                 
1082      =1                  NO,
1083      =1                  TimeBeginesMonth,
1084      =1                  DefaultBar
1085      =1          },     
1086      =1          
1087      =1         {   {0},                 //ICONm                                      
1088      =1            Str_Week,            //"CAMA"r                               
1089      =1            NIL,                 //WID                                        
1090      =1            NIL,                 //UID                                        
1091      =1            NO_ICON_COLOR,       //ICONFlag                                  
1092      =1            DESC_COLOR,          //rFlag                                  
1093      =1            0,
1094      =1            ENUM_STRING,         //eOSDA    Abel Test 
1095      =1            NO,                                             
1096      =1            TimeBeginesWeek,           //@(^W@)         
1097      =1            TimeBeginesWeekChoiceString    //                         
1098      =1        },
1099      =1                          
1100      =1          {       {0},                                                            
1101      =1                  Str_Time,
1102      =1                  NIL,    
1103      =1                  NIL,    
1104      =1                  NO_ICON_COLOR,
1105      =1                  DESC_COLOR,
1106      =1                  0,
1107      =1                  NUMBER,                 
1108      =1                  NO,
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 105 

1109      =1                  TimeBeginesTime,
1110      =1                  DefaultBar
1111      =1          }, 
1112      =1  
1113      =1  
1114      =1  
1115      =1        {   {0},                     //ICONm             
1116      =1            Str_RETURNAPPLY,              //"RETRUN"r     
1117      =1            NIL,                     //WID               
1118      =1            NIL,                     //UID               
1119      =1            NO_ICON_COLOR,           //ICONFlag         
1120      =1            DESC_COLOR,              //rFlag         
1121      =1            0,                       //eOSDe(ThO
1122      =1            ACTION,                  //eOSDA    Abel T
1123      =1            NO,                                             
1124      =1            DATETIMEApply               //@(^W@)     
1125      =1        },                                                  
1126      =1                                                             
1127      =1        {   {0},                                       
1128      =1            0,//Terminator   
1129      =1            0,               
1130      =1            0,               
1131      =1            NIL,             
1132      =1            NIL,             
1133      =1            0,               
1134      =1            0,               
1135      =1            0,               
1136      =1        },                   
1137      =1  };
1138      =1  
1139      =1  
1140      =1  /*-----------------------------------------------------*/ 
1141      =1  /* ThOSD ---> SDCARD --->DATE TIME--->DaylightSaving*/ 
1142      =1  /*-----------------------------------------------------*/ 
1143      =1  #define DaylightSavingSELECT_H  5                                  
1144      =1  CODE BYTE DaylightSavingSelectMenu[]={                                    
1145      =1      MENU_WIDTH,                                                  
1146      =1      DaylightSavingSELECT_H,          
1147      =1      TITLE_COLOR,                                                 
1148      =1      CURSOR_COLOR,};                                              
1149      =1  /*------------------------------*/                                             
1150      =1  /*     DateTimeSET OSD Menu       */                                             
1151      =1  /*------------------------------*/                                             
1152      =1  CODE struct DefineMenu DaylightSavingSELECT[]={                                       
1153      =1        {   {0},                 //ICONm                                      
1154      =1            Str_DaylightSaving,            //"CAMA"r                               
1155      =1            NIL,                 //WID                                        
1156      =1            NIL,                 //UID                                        
1157      =1            NO_ICON_COLOR,       //ICONFlag                                  
1158      =1            DESC_COLOR,          //rFlag                                  
1159      =1            0,
1160      =1            ENUM_STRING,         //eOSDA    Abel Test 
1161      =1            NO,                                             
1162      =1            DaylightSaving,           //@(^W@)         
1163      =1            DaylightSavingChoiceString    //                         
1164      =1        },                                                                     
1165      =1         
1166      =1            {   {0},                                        //ICONm                     
1167      =1                    Str_TimeBegines,                        //"MIRRO"r                     
1168      =1                    NIL,                                    //WID                               
1169      =1                    NIL,                                    //UID                               
1170      =1                    NO_ICON_COLOR,                  //ICONFlag                 
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 106 

1171      =1                    DESC_COLOR,                     //rFlag                 
1172      =1                    TimeBeginesSELECT,               //eOSDe(ThOSD)     
1173      =1                    OSDMENU,//CHOICEMENU,                         //eOSDA                              
1174      =1                    NO,                                                                                    
1175      =1                    0,//INPUTSELECTION,                      //<william-961004-ver1.41>                              
1176      =1                    TimeBeginesSelectMenu            //@Flag                     
1177      =1            }, 
1178      =1  
1179      =1            {   {0},                                        //ICONm                     
1180      =1                    Str_Standard,                   //"MIRRO"r                     
1181      =1                    NIL,                                    //WID                               
1182      =1                    NIL,                                    //UID                               
1183      =1                    NO_ICON_COLOR,                  //ICONFlag                 
1184      =1                    DESC_COLOR,                     //rFlag                 
1185      =1                    StandardTimeBeginesSELECT,               //eOSDe(ThOSD)     
1186      =1                    OSDMENU,//CHOICEMENU,                         //eOSDA                              
1187      =1                    NO,                                                                                    
1188      =1                    0,//INPUTSELECTION,                      //<william-961004-ver1.41>                              
1189      =1                    StandardTimeBeginesSelectMenu            //@Flag                     
1190      =1            },            
1191      =1    
1192      =1                          
1193      =1  
1194      =1        {   {0},                     //ICONm             
1195      =1            Str_RETURNAPPLY,              //"RETRUN"r     
1196      =1            NIL,                     //WID               
1197      =1            NIL,                     //UID               
1198      =1            NO_ICON_COLOR,           //ICONFlag         
1199      =1            DESC_COLOR,              //rFlag         
1200      =1            0,                       //eOSDe(ThO
1201      =1            ACTION,                  //eOSDA    Abel T
1202      =1            NO,                                             
1203      =1            DATETIMEApply               //@(^W@)     
1204      =1        },                                                  
1205      =1                                                             
1206      =1        {   {0},                                       
1207      =1            0,//Terminator   
1208      =1            0,               
1209      =1            0,               
1210      =1            NIL,             
1211      =1            NIL,             
1212      =1            0,               
1213      =1            0,               
1214      =1            0,               
1215      =1        },                   
1216      =1  };
1217      =1  #endif
1218      =1  
1219      =1  /*-----------------------------------------------------*/ 
1220      =1  /*         ThOSD ---> SDCARD --->RECORDMODE               */ 
1221      =1  /*-----------------------------------------------------*/ 
1222      =1  #define RecordSELECT_H  5                                  
1223      =1  CODE BYTE RecordSelectMenu[]={                                    
1224      =1      MENU_WIDTH,                                                  
1225      =1      RecordSELECT_H,          //ThOSD ---> UTILITY --->Input   
1226      =1      TITLE_COLOR,                                                 
1227      =1      CURSOR_COLOR,};                                              
1228      =1  /*------------------------------*/                                             
1229      =1  /*     CAMSELECT OSD Menu       */                                             
1230      =1  /*------------------------------*/                                             
1231      =1  CODE struct DefineMenu RECORDSELECT[]={                                       
1232      =1        {   {0},                 //ICONm                                      
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 107 

1233      =1            Str_RecordMode,            //"CAMA"r                               
1234      =1            NIL,                 //WID                                        
1235      =1            NIL,                 //UID                                        
1236      =1            NO_ICON_COLOR,       //ICONFlag                                  
1237      =1            DESC_COLOR,          //rFlag                                  
1238      =1            0,
1239      =1            ENUM_STRING,         //eOSDA    Abel Test 
1240      =1            NO,                                             
1241      =1            RecordMode,           //@(^W@)         
1242      =1            RecordModeChoiceString    //                         
1243      =1        },                                                                       
1244      =1                                                                                 
1245      =1        {   {0},                 //ICONm                                      
1246      =1            Str_RecordLength,            //"CAMB"r                               
1247      =1            NIL,                 //WID                                        
1248      =1            NIL,                 //UID                                        
1249      =1            NO_ICON_COLOR,       //ICONFlag                                  
1250      =1            DESC_COLOR,          //rFlag                                  
1251      =1            0,
1252      =1            ENUM_STRING,         //eOSDA    Abel Test 
1253      =1            NO,                                             
1254      =1            RecordLength,         //@(^W@)         
1255      =1            RecordLengthChoiceString    //                         
1256      =1        },                                                                       
1257      =1                                                                                 
1258      =1        {   {0},                 //ICONm                                      
1259      =1            Str_PreAlarmLength,            //"CAMC"r                               
1260      =1            NIL,                 //WID                                        
1261      =1            NIL,                 //UID                                        
1262      =1            NO_ICON_COLOR,       //ICONFlag                                  
1263      =1            DESC_COLOR,          //rFlag                                  
1264      =1            0,
1265      =1            ENUM_STRING,         //eOSDA    Abel Test 
1266      =1            NO,                                             
1267      =1            PreAlarmLength,         //@(^W@)         
1268      =1            PreAlarmLengthChoiceString    //                         
1269      =1        },                                                                       
1270      =1                                                                                 
1271      =1         {  {0},                 //ICONm                                       
1272      =1            Str_PostAlarmLength,            //"CAMR"r                                
1273      =1            NIL,                 //WID                                         
1274      =1            NIL,                 //UID                                         
1275      =1            NO_ICON_COLOR,       //ICONFlag                                   
1276      =1            DESC_COLOR,          //rFlag                                   
1277      =1            0,
1278      =1            ENUM_STRING,         //eOSDA    Abel Test 
1279      =1            NO,                                                 
1280      =1            PostAlarmLength,         //@(^W@)         
1281      =1            PostAlarmLengthChoiceString    //                         
1282      =1        },                                                                       
1283      =1                      
1284      =1              {   {0},                     //ICONm                                          
1285      =1              Str_Str_OverWrite,      //"Auto Day & Night"r 
1286      =1              NIL,                     //WID                     
1287      =1              NIL,                     //UID                                                     
1288      =1              NO_ICON_COLOR,           //ICONFlag                                                       
1289      =1              DESC_COLOR,              //rFlag                                                       
1290      =1              0,                       //eOSDe(ThOSD)                                           
1291      =1              ENUM_STRING,             //eOSDA(r)
1292      =1              NO, 
1293      =1              OverWrite,               //@(^W@)                         
1294      =1              ONOFFChoiceString1,       //                                              
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 108 

1295      =1          },     
1296      =1  
1297      =1        {  {0},                 //ICONm                                       
1298      =1            Str_AudioRecord,            //"CAMR"r                                
1299      =1            NIL,                 //WID                                         
1300      =1            NIL,                 //UID                                         
1301      =1            NO_ICON_COLOR,       //ICONFlag                                   
1302      =1            DESC_COLOR,          //rFlag                                   
1303      =1            0,
1304      =1            ENUM_STRING,         //eOSDA    Abel Test 
1305      =1            NO,                                                 
1306      =1            AudioRecord,         //@(^W@)         
1307      =1            AudioRecordChoiceString    //                         
1308      =1        }, 
1309      =1  
1310      =1  
1311      =1        {   {0},                     //ICONm             
1312      =1            Str_RETURNAPPLY,              //"RETRUN"r     
1313      =1            NIL,                     //WID               
1314      =1            NIL,                     //UID               
1315      =1            NO_ICON_COLOR,           //ICONFlag         
1316      =1            DESC_COLOR,              //rFlag         
1317      =1            0,                       //eOSDe(ThO
1318      =1            ACTION,                  //eOSDA    Abel T
1319      =1            NO,                                             
1320      =1            DVRParamApply               //@(^W@)     
1321      =1        },                                                  
1322      =1                                                             
1323      =1        {   {0},                                       
1324      =1            0,//Terminator   
1325      =1            0,               
1326      =1            0,               
1327      =1            NIL,             
1328      =1            NIL,             
1329      =1            0,               
1330      =1            0,               
1331      =1            0,               
1332      =1        },                   
1333      =1  };
1334      =1  
1335      =1  /*-----------------------------------------------------*/ 
1336      =1  /*         ThOSD ---> SDCARD --->DATE TIME                     */ 
1337      =1  /*-----------------------------------------------------*/ 
1338      =1  #define DateTimeSELECT_H  5                                  
1339      =1  CODE BYTE DateTimeSelectMenu[]={                                    
1340      =1      MENU_WIDTH,                                                  
1341      =1      DateTimeSELECT_H,          
1342      =1      TITLE_COLOR,                                                 
1343      =1      CURSOR_COLOR,};                                              
1344      =1  /*------------------------------*/                                             
1345      =1  /*     DateTimeSET OSD Menu       */                                             
1346      =1  /*------------------------------*/                                             
1347      =1  CODE struct DefineMenu DateTimeSELECT[]={                                       
1348      =1          {       {0},                                                            
1349      =1                  Str_Year,
1350      =1                  NIL,    
1351      =1                  NIL,    
1352      =1                  NO_ICON_COLOR,
1353      =1                  DESC_COLOR,
1354      =1                  0,
1355      =1                  NUMBER,                 NO,
1356      =1                  Year,
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 109 

1357      =1                  DefaultBar
1358      =1          },                                                                     
1359      =1         
1360      =1          {       {0},                                                            
1361      =1                  Str_Month,
1362      =1                  NIL,    
1363      =1                  NIL,    
1364      =1                  NO_ICON_COLOR,
1365      =1                  DESC_COLOR,
1366      =1                  0,
1367      =1                  NUMBER,                 NO,
1368      =1                  Month,
1369      =1                  DefaultBar
1370      =1          }, 
1371      =1          
1372      =1             {    {0},                                                            
1373      =1                  Str_Day,
1374      =1                  NIL,    
1375      =1                  NIL,    
1376      =1                  NO_ICON_COLOR,
1377      =1                  DESC_COLOR,
1378      =1                  0,
1379      =1                  NUMBER,                 NO,
1380      =1                  Day,
1381      =1                  DefaultBar
1382      =1          },   
1383      =1         
1384      =1          {       {0},                                                            
1385      =1                  Str_Hour,
1386      =1                  NIL,    
1387      =1                  NIL,    
1388      =1                  NO_ICON_COLOR,
1389      =1                  DESC_COLOR,
1390      =1                  0,
1391      =1                  NUMBER,                 NO,
1392      =1                  Hour,
1393      =1                  DefaultBar
1394      =1          },
1395      =1         
1396      =1          {       {0},                                                            
1397      =1                  Str_Minute,
1398      =1                  NIL,    
1399      =1                  NIL,    
1400      =1                  NO_ICON_COLOR,
1401      =1                  DESC_COLOR,
1402      =1                  0,
1403      =1                  NUMBER,                 NO,
1404      =1                  Minute,
1405      =1                  DefaultBar
1406      =1          },
1407      =1          
1408      =1                  {       {0},                                                            
1409      =1                          Str_TimeZone,
1410      =1                          NIL,    
1411      =1                          NIL,    
1412      =1                          NO_ICON_COLOR,
1413      =1                          DESC_COLOR,
1414      =1                          0,
1415      =1                          ENUM_STRING,            NO,
1416      =1                          TimeZone,
1417      =1                          TimeZoneChoiceString
1418      =1                  },
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 110 

1419      =1  
1420      =1  
1421      =1        {   {0},                     //ICONm             
1422      =1            Str_RETURNAPPLY,              //"RETRUN"r     
1423      =1            NIL,                     //WID               
1424      =1            NIL,                     //UID               
1425      =1            NO_ICON_COLOR,           //ICONFlag         
1426      =1            DESC_COLOR,              //rFlag         
1427      =1            0,                       //eOSDe(ThO
1428      =1            ACTION,                  //eOSDA    Abel T
1429      =1            NO,                                             
1430      =1            DATETIMEApply                         //@(^W@)     
1431      =1        },                                                  
1432      =1                                                             
1433      =1        {   {0},                                       
1434      =1            0,//Terminator   
1435      =1            0,               
1436      =1            0,               
1437      =1            NIL,             
1438      =1            NIL,             
1439      =1            0,               
1440      =1            0,               
1441      =1            0,               
1442      =1        },                   
1443      =1  };
1444      =1  
1445      =1  
1446      =1  
1447      =1  //----------------------------------------------------------------------------------
1448      =1  
1449      =1  #define         SDCARD_H                        4
1450      =1  CODE BYTE SDCARDMenu[]=
1451      =1                          {//3,
1452      =1                          MENU_WIDTH,             SDCARD_H,
1453      =1                          TITLE_COLOR,
1454      =1                          CURSOR_COLOR,    
1455      =1  };
1456      =1  
1457      =1  
1458      =1  
1459      =1  
1460      =1  CODE struct DefineMenu SDCARD[]={
1461      =1  
1462      =1              {   {0},                    //ICONm             
1463      =1              Str_RecordMode,             //"MIRRO"r             
1464      =1              NIL,                    //WID               
1465      =1              NIL,                    //UID               
1466      =1              NO_ICON_COLOR,          //ICONFlag         
1467      =1              DESC_COLOR,             //rFlag         
1468      =1              RECORDSELECT,            //eOSDe(ThOSD)     
1469      =1              OSDMENU,//CHOICEMENU,             //eOSDA                  
1470      =1              NO,                                            
1471      =1              0,//INPUTSELECTION,              //<william-961004-ver1.41>                  
1472      =1              RecordSelectMenu         //@Flag             
1473      =1          },
1474      =1          
1475      =1                  {       {0},                                                                                    
1476      =1                          Str_Resolution,
1477      =1                          NIL,    
1478      =1                          NIL,    
1479      =1                          NO_ICON_COLOR,
1480      =1                          DESC_COLOR,
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 111 

1481      =1                          0,
1482      =1                          ENUM_STRING,
1483      =1                          NO,
1484      =1                          Resolution,
1485      =1                          ResolutionChoiceString
1486      =1                  },
1487      =1                  
1488      =1                  {       {0},                                                                                    
1489      =1                          Str_FPS,
1490      =1                          NIL,    
1491      =1                          NIL,    
1492      =1                          NO_ICON_COLOR,
1493      =1                          DESC_COLOR,
1494      =1                          0,
1495      =1                          ENUM_STRING,
1496      =1                          NO,
1497      =1                          FPS,
1498      =1                          FPSChoiceString
1499      =1                  },
1500      =1                  
1501      =1                  {       {0},                                                                                    
1502      =1                          Str_Quality,
1503      =1                          NIL,    
1504      =1                          NIL,    
1505      =1                          NO_ICON_COLOR,
1506      =1                          DESC_COLOR,
1507      =1                          0,
1508      =1                          ENUM_STRING,
1509      =1                          NO,
1510      =1                          Quality,
1511      =1                          QualityChoiceString
1512      =1                  },
1513      =1  
1514      =1          {   {0},                    //ICONm             
1515      =1              Str_DateTime,             //"MIRRO"r             
1516      =1              NIL,                    //WID               
1517      =1              NIL,                    //UID               
1518      =1              NO_ICON_COLOR,          //ICONFlag         
1519      =1              DESC_COLOR,             //rFlag         
1520      =1              DateTimeSELECT,            //eOSDe(ThOSD)     
1521      =1              OSDMENU,//CHOICEMENU,             //eOSDA                  
1522      =1              NO,                                            
1523      =1              0,//INPUTSELECTION,              //<william-961004-ver1.41>                  
1524      =1              DateTimeSelectMenu         //@Flag             
1525      =1          }, 
1526      =1   #ifdef AWT  
1527      =1                  {   {0},                    //ICONm             
1528      =1              Str_DaylightSaving,             //"MIRRO"r             
1529      =1              NIL,                    //WID               
1530      =1              NIL,                    //UID               
1531      =1              NO_ICON_COLOR,          //ICONFlag         
1532      =1              DESC_COLOR,             //rFlag         
1533      =1              DaylightSavingSELECT,            //eOSDe(ThOSD)     
1534      =1              OSDMENU,//CHOICEMENU,             //eOSDA                  
1535      =1              NO,                                            
1536      =1              0,//INPUTSELECTION,              //<william-961004-ver1.41>                  
1537      =1              DaylightSavingSelectMenu         //@Flag             
1538      =1          }, 
1539      =1  #endif                  
1540      =1  
1541      =1  
1542      =1                  {   {0},                     //ICONm                     
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 112 

1543      =1              Str_RETURNAPPLY,              //"RETRUN"r             
1544      =1              NIL,                     //WID                       
1545      =1              NIL,                     //UID                       
1546      =1              NO_ICON_COLOR,           //ICONFlag                 
1547      =1              DESC_COLOR,              //rFlag                 
1548      =1              0,                       //eOSDe(ThOSD)     
1549      =1              ACTION,                  //eOSDA    Abel Test     
1550      =1              NO,                                                     
1551      =1              DVRParamApply // EXITMENU , //@(^W@)             
1552      =1          },  
1553      =1          
1554      =1                  {       {0},                                                                                            0,//Terminator
1555      =1                          0,                              0,              
1556      =1                          NIL,
1557      =1                          NIL,
1558      =1                          0,
1559      =1                          0,                              0,
1560      =1                  },
1561      =1  };
1562      =1  //#endif                //#ifdef SUPPORT_SDCARD 
1563      =1  #if 0
           =1 /*-----------------------------------------------------*/ 
           =1 /*             GhOSD ---> AUDIO                    */ 
           =1 /*-----------------------------------------------------*/ 
           =1 #define     SOUND_H        2                                                        
           =1 CODE BYTE SoundMenu[]={//3,                                                          
           =1     MENU_WIDTH,                                                                      
           =1     SOUND_H,                                                                         
           =1     TITLE_COLOR,                                                                     
           =1     CURSOR_COLOR,};                                                                  
           =1                                                                                      
           =1 CODE struct DefineMenu DMSound[]={                                                   
           =1         {   {0},                     //ICONm                                      
           =1             Str_Volume,              //r                                      
           =1             NIL,                     //WID                                        
           =1             NIL,                     //UID                                        
           =1             NO_ICON_COLOR,           //ICONFlag                                  
           =1             DESC_COLOR,              //rFlag                                  
           =1             0,                                                                       
           =1             BAR,                                                                     
           =1             NO,                                                                      
           =1             AUDIO_VOLUME,            //                                              
           =1             DefaultBar                                                               
           =1         },                                                                           
           =1                                                                                      
           =1         {   {0},                     //ICONm                     
           =1             Str_RETURN,              //"RETRUN"r             
           =1             NIL,                     //WID                       
           =1             NIL,                     //UID                       
           =1             NO_ICON_COLOR,           //ICONFlag                 
           =1             DESC_COLOR,              //rFlag                 
           =1             0,                       //eOSDe(ThOSD)     
           =1             ACTION,                  //eOSDA    Abel Test     
           =1             NO,                                                     
           =1             TOHIGHMENU // EXITMENU , //@(^W@)             
           =1         },                                                          
           =1                                                                                      
           =1         {   {0},                                                
           =1             0,//Terminator       
           =1             0,              
           =1             0,                                                       
           =1             NIL,                                                                     
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 113 

           =1             NIL,                                                                     
           =1             0,                                                                       
           =1             0,              
           =1             0,                                                       
           =1         },                                                                           
           =1 };     
           =1 
           =1 #endif
1613      =1  #if 0
           =1 //----------------------------------------------------------------------------------
           =1 #define PCCOLOR_H                               4
           =1 CODE BYTE PCColorTempMenu[]=
           =1                         {//3,
           =1                         MENU_WIDTH,             PCCOLOR_H,      
           =1                         TITLE_COLOR,
           =1                         CURSOR_COLOR,
           =1 };
           =1 
           =1 
           =1 CODE struct DefineMenu DMPCColor[]={
           =1                 {       {0},                                                                                            Str_ColorTemp,
           =1                         NIL,    NIL,    
           =1                         NO_ICON_COLOR,
           =1                         DESC_COLOR,
           =1                         0,      
           =1                         ENUM_STRING,                    NO,
           =1                         PC_COLOR_TEMP,
           =1                         ModeChoice,
           =1                 },
           =1                 {       {0},                                                                                            Str_Red,
           =1                         NIL,                    NIL,    
           =1                         NO_ICON_COLOR,
           =1                         DESC_COLOR,
           =1                         0,
           =1                         BAR,    NO,
           =1                         PC_COLOR_R,
           =1                         DefaultBar
           =1                 },
           =1                 {       {0},                                                                                            Str_Green,
           =1                         NIL,                    NIL,    
           =1                         NO_ICON_COLOR,
           =1                         DESC_COLOR,
           =1                         0,
           =1                         BAR,    NO,
           =1                         PC_COLOR_G,
           =1                         DefaultBar
           =1                 },
           =1                 {       {0},                                                                                            Str_Blue,
           =1                         NIL,                    NIL,    
           =1                         NO_ICON_COLOR,
           =1                         DESC_COLOR,
           =1                         0,
           =1                         BAR,    NO,
           =1                         PC_COLOR_B,
           =1                         DefaultBar
           =1                 },
           =1                 {       {0},                                                                                            0,//Terminator
           =1                         0,                              0,              
           =1                         NIL,
           =1                         NIL,
           =1                         0,
           =1                         0,                              0,
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 114 

           =1                 },
           =1 };
           =1 #endif
1670      =1  //============================================================================================
1671      =1  
1672      =1  //============================================================================================
1673      =1  //Picture
1674      =1  #define         USER_PICTURE_H          5
1675      =1  CODE BYTE UserPictureMenuType[]=
1676      =1                          {
1677      =1                          MENU_WIDTH,             USER_PICTURE_H,
1678      =1                          TITLE_COLOR,
1679      =1                          CURSOR_COLOR,
1680      =1  };
1681      =1  
1682      =1  CODE struct DefineMenu DMUserPicture[]={
1683      =1                  {       {0},                                                                                            0,//Terminator
1684      =1                          0,                              0,              
1685      =1                          NIL,
1686      =1                          NIL,
1687      =1                          0,
1688      =1                          0,                              0,
1689      =1                  },
1690      =1  };
1691      =1  
1692      =1  #define         PICTURE_H               4
1693      =1  CODE BYTE PictureMenu[]=
1694      =1                          {//3,
1695      =1                          MENU_WIDTH,             PICTURE_H,
1696      =1                          TITLE_COLOR,
1697      =1                          CURSOR_COLOR,
1698      =1  };
1699      =1  
1700      =1  CODE struct DefineMenu DMPicture[]={
1701      =1          #if 0
           =1                 {       {0},                                                                                            Str_Picture,
           =1                         NIL,    NIL,    
           =1                         NO_ICON_COLOR,
           =1                         DESC_COLOR,
           =1                         0,      
           =1                         ENUM_STRING,                    NO,
           =1                         VIDEO_MODE,
           =1                         ModeChoice,
           =1                 },
           =1         #endif
1712      =1                  {       {0},                                                            Str_Brightness,
1713      =1                          NIL,    NIL,    
1714      =1                          NO_ICON_COLOR,
1715      =1                          DESC_COLOR,
1716      =1                          0,
1717      =1                          NUMBER, 
1718      =1                          NO,
1719      =1                          VIDEO_BRIGHTNESS,
1720      =1                          DefaultBar
1721      =1                  },
1722      =1  
1723      =1                  {       {0},                                                            Str_Contrast,
1724      =1                          NIL,    NIL,    
1725      =1                          NO_ICON_COLOR,
1726      =1                          DESC_COLOR,
1727      =1                          0,
1728      =1                          NUMBER, 
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 115 

1729      =1                          NO,
1730      =1                          VIDEO_CONTRAST,
1731      =1                          DefaultBar
1732      =1                  },
1733      =1  
1734      =1                  {       {0},                                                                    Str_Saturation,
1735      =1                          NIL,    NIL,    
1736      =1                          NO_ICON_COLOR,
1737      =1                          DESC_COLOR,
1738      =1                          0,      
1739      =1                          NUMBER, 
1740      =1                          NO,
1741      =1                          VIDEO_SATURATION,
1742      =1                          DefaultBar
1743      =1                  },
1744      =1                  {       {0},                                                                            Str_Hue,
1745      =1                          NIL,    NIL,    
1746      =1                          NO_ICON_COLOR,
1747      =1                          DESC_COLOR,
1748      =1                          0,      
1749      =1                          NUMBER, 
1750      =1                          NO,
1751      =1                          VIDEO_HUE,
1752      =1                          DefaultBar
1753      =1                  },
1754      =1                  {       {0},                                                                    Str_Sharpness,
1755      =1                          NIL,    NIL,    
1756      =1                          NO_ICON_COLOR,
1757      =1                          DESC_COLOR,
1758      =1                          0,      
1759      =1                          NUMBER, 
1760      =1                          NO,
1761      =1                          VIDEO_SHARPNESS,
1762      =1                          DefaultBar
1763      =1                  },
1764      =1          {   
1765      =1              {0},                     //ICONm                     
1766      =1              Str_RETURN,              //"RETRUN"r             
1767      =1              NIL,                     //WID                       
1768      =1              NIL,                     //UID                       
1769      =1              NO_ICON_COLOR,           //ICONFlag                 
1770      =1              DESC_COLOR,              //rFlag                 
1771      =1              0,                       //eOSDe(ThOSD)     
1772      =1              ACTION,                  //eOSDA(]w@)     
1773      =1              NO,                                                     
1774      =1              TOHIGHMENU               //@(^W@)             
1775      =1          },                           
1776      =1                  
1777      =1  
1778      =1  
1779      =1  
1780      =1                  #if 0
           =1                 {       {0},                                                                    Str_Backlight,
           =1                         NIL,    NIL,    
           =1                         NO_ICON_COLOR,
           =1                         DESC_COLOR,
           =1                         0,      
           =1                         BAR,    NO,
           =1                         VIDEO_BACKLIGHT,
           =1                         DefaultBar
           =1                 },
           =1         #endif
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 116 

1791      =1                  {       {0},                                                                                            0,//Terminator
1792      =1                          0,                              0,              
1793      =1                          NIL,
1794      =1                          NIL,
1795      =1                          0,
1796      =1                          0,                              0,
1797      =1                  },
1798      =1  };
1799      =1  
1800      =1  /*-----------------------------------------------------*/ 
1801      =1  /*         ThOSD ---> CAMERA --->MIRROR            */ 
1802      =1  /*-----------------------------------------------------*/ 
1803      =1  #define CAMSELECT_H  5                                  
1804      =1  CODE BYTE CAMSelectMenu[]={                                    
1805      =1      MENU_WIDTH,                                                  
1806      =1      CAMSELECT_H,          //ThOSD ---> UTILITY --->Input   
1807      =1      TITLE_COLOR,                                                 
1808      =1      CURSOR_COLOR,};                                              
1809      =1  /*------------------------------*/                                             
1810      =1  /*     CAMSELECT OSD Menu       */                                             
1811      =1  /*------------------------------*/                                             
1812      =1  CODE struct DefineMenu DMCAMSELECT[]={                                       
1813      =1        {   {0},                 //ICONm                                      
1814      =1            Str_CAMA,            //"CAMA"r                               
1815      =1            NIL,                 //WID                                        
1816      =1            NIL,                 //UID                                        
1817      =1            NO_ICON_COLOR,       //ICONFlag                                  
1818      =1            DESC_COLOR,          //rFlag                                  
1819      =1            0,
1820      =1            ENUM_STRING,         //eOSDA    Abel Test 
1821      =1            NO,                                             
1822      =1            CAMAONOFF,           //@(^W@)         
1823      =1            ONOFFChoiceString    //                         
1824      =1        },                                                                       
1825      =1                                                                                 
1826      =1        {   {0},                 //ICONm                                      
1827      =1            Str_CAMB,            //"CAMB"r                               
1828      =1            NIL,                 //WID                                        
1829      =1            NIL,                 //UID                                        
1830      =1            NO_ICON_COLOR,       //ICONFlag                                  
1831      =1            DESC_COLOR,          //rFlag                                  
1832      =1            0,
1833      =1            ENUM_STRING,         //eOSDA    Abel Test 
1834      =1            NO,                                             
1835      =1            CAMBONOFF,         //@(^W@)         
1836      =1            ONOFFChoiceString    //                         
1837      =1        },                                                                       
1838      =1                                                                                 
1839      =1        {   {0},                 //ICONm                                      
1840      =1            Str_CAMC,            //"CAMC"r                               
1841      =1            NIL,                 //WID                                        
1842      =1            NIL,                 //UID                                        
1843      =1            NO_ICON_COLOR,       //ICONFlag                                  
1844      =1            DESC_COLOR,          //rFlag                                  
1845      =1            0,
1846      =1            ENUM_STRING,         //eOSDA    Abel Test 
1847      =1            NO,                                             
1848      =1            CAMCONOFF,         //@(^W@)         
1849      =1            ONOFFChoiceString    //                         
1850      =1        },                                                                       
1851      =1                                                                                 
1852      =1         {  {0},                 //ICONm                                       
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 117 

1853      =1            Str_CAMR,            //"CAMR"r                                
1854      =1            NIL,                 //WID                                         
1855      =1            NIL,                 //UID                                         
1856      =1            NO_ICON_COLOR,       //ICONFlag                                   
1857      =1            DESC_COLOR,          //rFlag                                   
1858      =1            0,
1859      =1            ENUM_STRING,         //eOSDA    Abel Test 
1860      =1            NO,                                                 
1861      =1            CAMRONOFF,         //@(^W@)         
1862      =1            ONOFFChoiceString    //                         
1863      =1        },                                                                       
1864      =1                      
1865      =1  
1866      =1        {   {0},                     //ICONm             
1867      =1            Str_RETURN,              //"RETRUN"r     
1868      =1            NIL,                     //WID               
1869      =1            NIL,                     //UID               
1870      =1            NO_ICON_COLOR,           //ICONFlag         
1871      =1            DESC_COLOR,              //rFlag         
1872      =1            0,                       //eOSDe(ThO
1873      =1            ACTION,                  //eOSDA    Abel T
1874      =1            NO,                                             
1875      =1            TOHIGHMENU               //@(^W@)     
1876      =1        },                                                  
1877      =1                                                             
1878      =1        {   {0},                                       
1879      =1            0,//Terminator   
1880      =1            0,               
1881      =1            0,               
1882      =1            NIL,             
1883      =1            NIL,             
1884      =1            0,               
1885      =1            0,               
1886      =1            0,               
1887      =1        },                   
1888      =1  };
1889      =1  
1890      =1  
1891      =1  /*-----------------------------------------------------*/ 
1892      =1  /*         ThOSD ---> CAMERA --->TRIGGER            */ 
1893      =1  /*-----------------------------------------------------*/ 
1894      =1  #define TRIGGERSELECT_H  5                                  
1895      =1  CODE BYTE TRIGGERSelectMenu[]={                                    
1896      =1      MENU_WIDTH,                                                  
1897      =1      TRIGGERSELECT_H,          //ThOSD ---> UTILITY --->Input   
1898      =1      TITLE_COLOR,                                                 
1899      =1      CURSOR_COLOR,};                                              
1900      =1  /*------------------------------*/                                             
1901      =1  /*     TRIGGERSELECT OSD Menu       */                                             
1902      =1  /*------------------------------*/                                             
1903      =1  CODE struct DefineMenu DMTRIGGERSELECT[]={  
1904      =1  #if 0
           =1          {   {0},                     //ICONm                        
           =1             Str_DIR_IMAGE,           //"Dir Image"r               
           =1             NIL,                     //WID                          
           =1             NIL,                     //UID                          
           =1             NO_ICON_COLOR,           //ICONFlag                    
           =1             DESC_COLOR,              //rFlag                    
           =1             0,                       //eOSDe(ThOSD)        
           =1             ENUM_STRING,//ACTION,    //eOSDA(r)        
           =1             NO,               
           =1             IMAGEChoice,             //@(^W@) 
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 118 

           =1             IMAGEString, 
           =1         },                                                             
           =1 #endif
1918      =1  
1919      =1        {   {0},                 //ICONm                                      
1920      =1            Str_DIR_IMAGE_CAMA,            //"CAMA"r                               
1921      =1            NIL,                 //WID                                        
1922      =1            NIL,                 //UID                                        
1923      =1            NO_ICON_COLOR,       //ICONFlag                                  
1924      =1            DESC_COLOR,          //rFlag                                  
1925      =1            0,
1926      =1            ENUM_STRING,         //eOSDA    Abel Test 
1927      =1            NO,                                             
1928      =1            IMAGE_A_Choice,           //@(^W@)         
1929      =1            IMAGE_A_String//                         
1930      =1        },                                                                       
1931      =1                                                                                 
1932      =1        {   {0},                 //ICONm                                      
1933      =1            Str_DIR_IMAGE_CAMB,            //"CAMB"r                               
1934      =1            NIL,                 //WID                                        
1935      =1            NIL,                 //UID                                        
1936      =1            NO_ICON_COLOR,       //ICONFlag                                  
1937      =1            DESC_COLOR,          //rFlag                                  
1938      =1            0,
1939      =1            ENUM_STRING,         //eOSDA    Abel Test 
1940      =1            NO,                                             
1941      =1            IMAGE_B_Choice,         //@(^W@)         
1942      =1            IMAGE_B_String//                         
1943      =1        },                                                                       
1944      =1                                                                                 
1945      =1        {   {0},                 //ICONm                                      
1946      =1            Str_DIR_IMAGE_CAMC,            //"CAMC"r                               
1947      =1            NIL,                 //WID                                        
1948      =1            NIL,                 //UID                                        
1949      =1            NO_ICON_COLOR,       //ICONFlag                                  
1950      =1            DESC_COLOR,          //rFlag                                  
1951      =1            0,
1952      =1            ENUM_STRING,         //eOSDA    Abel Test 
1953      =1            NO,                                             
1954      =1            IMAGE_C_Choice,         //@(^W@)         
1955      =1            IMAGE_C_String//                         
1956      =1        }, 
1957      =1  
1958      =1          {   {0},                     //ICONm                        
1959      =1              Str_REAR_SETUP,          //"Rear Setup"r               
1960      =1              NIL,                     //WID                          
1961      =1              NIL,                     //UID                          
1962      =1              NO_ICON_COLOR,           //ICONFlag                    
1963      =1              DESC_COLOR,              //rFlag                    
1964      =1              0,                       //eOSDe(ThOSD)
1965      =1              ENUM_STRING,//ACTION,    //eOSDA(r)     
1966      =1              NO,                                                 
1967      =1              REARChoice,              //@(^W@)         
1968      =1              REARString,                                        
1969      =1          },                                                                
1970      =1                      
1971      =1          {   {0},                     //ICONm                        
1972      =1              Str_TriggerVGA,          //"Rear Setup"r               
1973      =1              NIL,                     //WID                          
1974      =1              NIL,                     //UID                          
1975      =1              NO_ICON_COLOR,           //ICONFlag                    
1976      =1              DESC_COLOR,              //rFlag                    
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 119 

1977      =1              0,                       //eOSDe(ThOSD)
1978      =1              ENUM_STRING,//ACTION,    //eOSDA(r)     
1979      =1              NO,                                                 
1980      =1              TriggerVGA,              //@(^W@)         
1981      =1              ONOFFChoiceString,                                        
1982      =1          },    
1983      =1  
1984      =1  
1985      =1        {   {0},                     //ICONm             
1986      =1            Str_RETURN,              //"RETRUN"r     
1987      =1            NIL,                     //WID               
1988      =1            NIL,                     //UID               
1989      =1            NO_ICON_COLOR,           //ICONFlag         
1990      =1            DESC_COLOR,              //rFlag         
1991      =1            0,                       //eOSDe(ThO
1992      =1            ACTION,                  //eOSDA    Abel T
1993      =1            NO,                                             
1994      =1            TOHIGHMENU               //@(^W@)     
1995      =1        },                                                  
1996      =1                                                             
1997      =1        {   {0},                                       
1998      =1            0,//Terminator   
1999      =1            0,               
2000      =1            0,               
2001      =1            NIL,             
2002      =1            NIL,             
2003      =1            0,               
2004      =1            0,               
2005      =1            0,               
2006      =1        },                   
2007      =1  };
2008      =1  
2009      =1  /*-----------------------------------------------------*/  
2010      =1  /*             GhOSD ---> CAMERA                   */  
2011      =1  /*-----------------------------------------------------*/  
2012      =1  #define     CAMERA_H   5 //  5 
2013      =1  
2014      =1  CODE BYTE CAMERAMenu[]={                          
2015      =1      MENU_WIDTH,                                            
2016      =1      CAMERA_H,                                           
2017      =1      TITLE_COLOR,                                           
2018      =1      CURSOR_COLOR,};                                        
2019      =1                                                             
2020      =1  CODE struct DefineMenu DMCAMERA[]={                   
2021      =1          {   {0},                    //ICONm             
2022      =1              Str_MIRROR,             //"MIRRO"r             
2023      =1              NIL,                    //WID               
2024      =1              NIL,                    //UID               
2025      =1              NO_ICON_COLOR,          //ICONFlag         
2026      =1              DESC_COLOR,             //rFlag         
2027      =1              DMCAMSELECT,            //eOSDe(ThOSD)     
2028      =1              OSDMENU,//CHOICEMENU,             //eOSDA                  
2029      =1              NO,                                            
2030      =1              0,//INPUTSELECTION,              //<william-961004-ver1.41>                  
2031      =1              InputSelectMenu         //@Flag             
2032      =1          },                                                 
2033      =1  #ifdef AWT
2034      =1          {   {0},                    //ICONm             
2035      =1              Str_TriggerSet,             //"MIRRO"r             
2036      =1              NIL,                    //WID               
2037      =1              NIL,                    //UID               
2038      =1              NO_ICON_COLOR,          //ICONFlag         
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 120 

2039      =1              DESC_COLOR,             //rFlag         
2040      =1              DMTRIGGERSELECT,            //eOSDe(ThOSD)     
2041      =1              OSDMENU,//CHOICEMENU,             //eOSDA                  
2042      =1              NO,                                            
2043      =1              0,//INPUTSELECTION,              //<william-961004-ver1.41>                  
2044      =1              InputSelectMenu         //@Flag             
2045      =1          },   
2046      =1  #else
           =1          {   {0},                     //ICONm                        
           =1             Str_DIR_IMAGE,           //"Dir Image"r               
           =1             NIL,                     //WID                          
           =1             NIL,                     //UID                          
           =1             NO_ICON_COLOR,           //ICONFlag                    
           =1             DESC_COLOR,              //rFlag                    
           =1             0,                       //eOSDe(ThOSD)        
           =1             ENUM_STRING,//ACTION,    //eOSDA(r)        
           =1             NO,               
           =1             IMAGEChoice,             //@(^W@) 
           =1             IMAGEString, 
           =1         },                                                             
           =1 
           =1         {   {0},                     //ICONm                        
           =1             Str_REAR_SETUP,          //"Rear Setup"r               
           =1             NIL,                     //WID                          
           =1             NIL,                     //UID                          
           =1             NO_ICON_COLOR,           //ICONFlag                    
           =1             DESC_COLOR,              //rFlag                    
           =1             0,                       //eOSDe(ThOSD)
           =1             ENUM_STRING,//ACTION,    //eOSDA(r)     
           =1             NO,                                                 
           =1             REARChoice,              //@(^W@)         
           =1             REARString,                                        
           =1         },    
           =1 #endif
2073      =1                  
2074      =1          {   {0},                    //ICONm                                           
2075      =1              Str_JUMP,               //"JUMP"r                             
2076      =1              NIL,                    //WID                                             
2077      =1              NIL,                    //UID                                             
2078      =1              NO_ICON_COLOR,          //ICONFlag                                       
2079      =1              DESC_COLOR,             //rFlag        
2080      =1              0,                      //eOSDe(ThOSD) 
2081      =1              ENUM_STRING,            //eOSDA    Abel Test 
2082      =1              NO,                                                 
2083      =1              JUMPChoice,             //@(^W@)         
2084      =1              JUMPString                                        
2085      =1          },            
2086      =1       //V1.1 03/19/07 simonsung    
2087      =1  
2088      =1          {   {0},                    //ICONm                    
2089      =1              Str_CAM_OUT,            //"CAM OUT"r             
2090      =1              NIL,                    //WID                      
2091      =1              NIL,                    //UID                      
2092      =1              NO_ICON_COLOR,          //ICONFlag                
2093      =1              DESC_COLOR,             //rFlag                
2094      =1              0,                      //eOSDe(ThOSD)    
2095      =1              ENUM_STRING,            //eOSDA    Abel Test 
2096      =1              NO,                                                 
2097      =1              CAMOUTChoice,           //@(^W@)         
2098      =1              CAMOUTString,                                        
2099      =1          },                   
2100      =1  
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 121 

2101      =1          {   {0},                    //ICONm                    
2102      =1              Str_SEQ_TIME_STEP,      //"SEQ TIME STEP"r             
2103      =1              NIL,                    //WID                      
2104      =1              NIL,                    //UID                      
2105      =1              NO_ICON_COLOR,          //ICONFlag                
2106      =1              DESC_COLOR,             //rFlag            
2107      =1              0,                      //eOSDe(ThOSD)     
2108      =1              NUMBER,                    //eOSDA(Bar)          
2109      =1              NO,                                                     
2110      =1              STIME_STEP,             //@(^W@)              
2111      =1              DefaultBar              //r                                
2112      =1          },                   
2113      =1          
2114      =1          {   {0},                     //ICONm                  
2115      =1              Str_RETURN,              //"RETRUN"r           
2116      =1              NIL,                     //WID                    
2117      =1              NIL,                     //UID                    
2118      =1              NO_ICON_COLOR,           //ICONFlag              
2119      =1              DESC_COLOR,              //rFlag              
2120      =1              0,                       //eOSDe(ThOSD)  
2121      =1              ACTION,                  //eOSDA    Abel Test             
2122      =1              NO,                                                 
2123      =1              TOHIGHMENU // EXITMENU , //@(^W@)                             
2124      =1          },                                           
2125      =1                                  
2126      =1          {   {0},                                           
2127      =1              0,//Terminator                                 
2128      =1              0,                                             
2129      =1              0,                                             
2130      =1              NIL,                                           
2131      =1              NIL,                                           
2132      =1              0,                                             
2133      =1              0,                                             
2134      =1              0,                                             
2135      =1          },                                                 
2136      =1  };                                                        
2137      =1  
2138      =1  
2139      =1  
2140      =1  
2141      =1  
2142      =1  
2143      =1  //----------------------------------------------------------------------------------
2144      =1  CODE BYTE TVMainMenu[]=
2145      =1                          {//4,
2146      =1                          TOPMENU_WIDTH,          TOPMENU_HEIGHT,
2147      =1                          NIL,
2148      =1                          DEFAULT_COLOR,
2149      =1  };
2150      =1  CODE struct DefineMenu DMMainMenu[]={
2151      =1  
2152      =1              {   
2153      =1                          TV_ICON,                //DisplayICON                         
2154      =1              0,//Str_Picture,           //r                    
2155      =1              NIL,                       //WID        
2156      =1              NIL,                       //UID                        
2157      =1              TOPICON_COLOR,             //ICONFlag(ON)                          
2158      =1              NIL,                       //rFlag(OFF)                          
2159      =1              DMPicture,                 //eOSDe(GhOSD)                         
2160      =1              OSDMENU,                   //eOSDA   
2161      =1              NO,                                
2162      =1              VIDEOPICTURE,                                      
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 122 

2163      =1              PictureMenu                                        
2164      =1          },
2165      =1  
2166      =1                          
2167      =1                  {       INPUT_ICON,                                                                     
2168      =1                      0,
2169      =1                          NIL,    
2170      =1                          NIL,    
2171      =1                          TOPICON_COLOR,
2172      =1                          NIL,
2173      =1                          DMINPUTSOURCE,
2174      =1                          OSDMENU,                NO,
2175      =1                          0,
2176      =1                          InputSourceMenu
2177      =1                  },
2178      =1                  {       VIDEO_ICON,                                                             
2179      =1                      0,
2180      =1                          NIL,    
2181      =1                          NIL,    
2182      =1                          TOPICON_COLOR,
2183      =1                          NIL,
2184      =1                          DMCAMERA,
2185      =1                          OSDMENU,                NO,
2186      =1                          VIDEOPICTURE,
2187      =1                          CAMERAMenu
2188      =1                  },
2189      =1  #ifdef SUPPORT_SDCARD
2190      =1                  {       SDCARD_ICON,                                                            
2191      =1                          0,
2192      =1                          NIL,    NIL,    
2193      =1                          TOPICON_COLOR,
2194      =1                          NIL,
2195      =1                          SDCARD,
2196      =1                          OSDMENU,                NO,
2197      =1                          0,
2198      =1                          SDCARDMenu
2199      =1                  },
2200      =1  #endif
2201      =1                  {       UTIL_ICON,                                                                              
2202      =1                      0,
2203      =1                          NIL,    NIL,    
2204      =1                          TOPICON_COLOR,
2205      =1                          NIL,
2206      =1                          DMUtility,
2207      =1                          OSDMENU,                NO,
2208      =1                          0,
2209      =1                          UtilityMenu
2210      =1                  },
2211      =1                  {       0,                                                                                              0,//Terminator
2212      =1                          0,                              0,              
2213      =1                          NIL,
2214      =1                          NIL,
2215      =1                          0,
2216      =1                          0,                              0,
2217      =1                  },
2218      =1  };
2219      =1  
2220      =1  //----------------------------------------------------------------------------------
2221      =1  CODE struct DefineMenu DefaultMenu[]={
2222      =1  ////    WORD                                            Icon[ICON_BUF_SZ];
2223      =1  //  CODE_P      BYTE                            *Icon;
2224      =1  //      CODE_P  BYTE                            **Desc;
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 123 

2225      =1  //      BYTE                                            PreFnId, 
2226      =1  //                                                              PostFnId;
2227      =1  //      BYTE                                            IconColor;                      //NIL: not to display icon
2228      =1  //      BYTE                                            DescColor;                      //NIL: not to display desc. (IconColor==NIL && DescColor==NIL)->Last Item
2229      =1  //      CODE_P struct DefineMenu        *Child;
2230      =1  //      BYTE                                            Type;                           // MENU, CHOICEMENU, BAR, NUMBER, TIME, ACTION, YESNO
2231      =1  //      BYTE                                            ActiveWithCursor;
2232      =1  //      BYTE                                            Id;
2233      =1  //      CODE_P BYTE                                     *TypeData;      //MenuType, BarType, NumType,,,
2234      =1                  {       0,                                                                              0,
2235      =1                          NIL,    NIL,    
2236      =1                          ICON_COLOR,
2237      =1                          NIL,
2238      =1                          DMMainMenu,
2239      =1                          OSDMENU,                NO,
2240      =1                          0,
2241      =1                          TVMainMenu
2242      =1                  },
2243      =1                  {       0,                                                                                              0,//Terminator
2244      =1                          0,                              0,              
2245      =1                          NIL,
2246      =1                          NIL,
2247      =1                          0,
2248      =1                          0,                              0,
2249      =1                  },
2250      =1  };
2251      =1  
2252      =1  
2253      =1  //#endif
2254      =1  
2255      =1  
2256      =1  //============================================================================================
2257      =1  #ifdef SUPPORT_PC
2258      =1  
2259      =1  //----------------------------------------------------------------------------------
2260      =1  #define         PCUTILITY_H                     3
2261      =1  CODE BYTE PCUtilityMenu[]=
2262      =1                          {//3,
2263      =1                          MENU_WIDTH,             PCUTILITY_H,
2264      =1                          TITLE_COLOR,
2265      =1                          CURSOR_COLOR,
2266      =1  };
2267      =1  
2268      =1  CODE struct DefineMenu DMPCUtility[]={
2269      =1  #if 0   
           =1                 {       {0},                                                                    Str_AutoAdjust,
           =1                         NIL,            NIL,    
           =1                         NO_ICON_COLOR,
           =1                         DESC_COLOR,
           =1                         0,
           =1                         ACTION,NO,
           =1                         AUTOADJUST
           =1                 },
           =1                 {       {0},                                                                    Str_AutoColor,
           =1                         NIL,            NIL,    
           =1                         NO_ICON_COLOR,
           =1                         DESC_COLOR,
           =1                         0,
           =1                         ACTION,NO,
           =1                         PCCOLORADJUST
           =1                 },
           =1                 #if 0
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 124 

           =1 #ifdef WIDE_SCREEN
           =1                 {       {0},                                                                            Str_WideScreen,
           =1                         NIL,    NIL,    
           =1                         NO_ICON_COLOR,
           =1                         DESC_COLOR,
           =1                         0,
           =1                         ENUM_STRING,            NO,
           =1                         WIDESCREEN,
           =1                         WideScreenChoice
           =1                 },
           =1 #endif // WIDE_SCREEN
           =1 #ifdef SUPPORT_OSDPOSITIONMOVE
           =1                 {       {0},                                                                            Str_OSDPosition,
           =1                         NIL,    NIL,    
           =1                         NO_ICON_COLOR,
           =1                         DESC_COLOR,
           =1                         0,
           =1                         ENUM_STRING,            NO,
           =1                         OSDPOSITIONMODE,
           =1                         OsdPositionModeChoice
           =1                 },
           =1 #endif
           =1                 {       {0},                                                                            Str_OSDLang,
           =1                         NIL,    NIL,    
           =1                         NO_ICON_COLOR,
           =1                         DESC_COLOR,
           =1                         0,      
           =1                         ENUM_STRING,                    NO,
           =1                         OSDLANG,
           =1                         OSDLangString,
           =1                 },
           =1         #endif  
           =1                 {       {0},                                                                    Str_RECALL,
           =1                         NIL,    NIL,    
           =1                         NO_ICON_COLOR,
           =1                         DESC_COLOR,
           =1                         0,
           =1                         ACTION,                 NO,
           =1                         RESET_PCVALUE
           =1                 },
           =1 
           =1                 {       {0},                                     //ICONm                                        
           =1                         Str_EXIT,                                //"RETRUN"r                        
           =1                         NIL,                                     //WID                                                  
           =1                         NIL,                                     //UID                                                  
           =1                         NO_ICON_COLOR,                   //ICONFlag                                    
           =1                         DESC_COLOR,                      //rFlag                                    
           =1                         0,                                               //eOSDe(ThOSD)        
           =1                         ACTION,                                  //eOSDA    Abel Test        
           =1                         NO,                                                                                                        
           =1                         EXITMENU ,                               //@(^W@)                        
           =1                 },        
           =1 
           =1 
           =1                 {       {0},                                                                                            0,//Terminator
           =1                         0,                              0,              
           =1                         NIL,
           =1                         NIL,
           =1                         0,
           =1                         0,                              0,
           =1                 },
           =1 #endif          
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 125 

2349      =1  
2350      =1  
2351      =1                  {       {0},                                     //ICONm                                        
2352      =1                          Str_RECALL,                      //"RETRUN"r                        
2353      =1                          NIL,                                     //WID                                                  
2354      =1                          NIL,                                     //UID                                                  
2355      =1                          NO_ICON_COLOR,                   //ICONFlag                                    
2356      =1                          DESC_COLOR,                      //rFlag                                    
2357      =1                          0,                                               //eOSDe(ThOSD)        
2358      =1                          ACTION,                                  //eOSDA    Abel Test        
2359      =1                          NO,                                                                                                        
2360      =1                          RESET_PCVALUE ,          //@(^W@)                        
2361      =1                  },
2362      =1  
2363      =1                  {       {0},                                     //ICONm                                        
2364      =1                          Str_ManualRecordStart,                   //"RETRUN"r                        
2365      =1                          NIL,                                     //WID                                                  
2366      =1                          NIL,                                     //UID                                                  
2367      =1                          NO_ICON_COLOR,                   //ICONFlag                                    
2368      =1                          DESC_COLOR,                      //rFlag                                    
2369      =1                          0,                                               //eOSDe(ThOSD)        
2370      =1                          ACTION,                                  //eOSDA    Abel Test        
2371      =1                          NO,                                                                                                        
2372      =1                          ManualRecordStart ,              //@(^W@)                        
2373      =1                  },
2374      =1  
2375      =1                  {       {0},                                     //ICONm                                        
2376      =1                          Str_ManualRecordStop,                    //"RETRUN"r                        
2377      =1                          NIL,                                     //WID                                                  
2378      =1                          NIL,                                     //UID                                                  
2379      =1                          NO_ICON_COLOR,                   //ICONFlag                                    
2380      =1                          DESC_COLOR,                      //rFlag                                    
2381      =1                          0,                                               //eOSDe(ThOSD)        
2382      =1                          ACTION,                                  //eOSDA    Abel Test        
2383      =1                          NO,                                                                                                        
2384      =1                          ManualRecordStop ,               //@(^W@)                        
2385      =1                  },
2386      =1  
2387      =1                  {       {0},                                     //ICONm                                        
2388      =1                          Str_Snapshot,                    //"RETRUN"r                        
2389      =1                          NIL,                                     //WID                                                  
2390      =1                          NIL,                                     //UID                                                  
2391      =1                          NO_ICON_COLOR,                   //ICONFlag                                    
2392      =1                          DESC_COLOR,                      //rFlag                                    
2393      =1                          0,                                               //eOSDe(ThOSD)        
2394      =1                          ACTION,                                  //eOSDA    Abel Test        
2395      =1                          NO,                                                                                                        
2396      =1                          Snapshot ,                               //@(^W@)                        
2397      =1                  },
2398      =1  
2399      =1                  {       {0},                                     //ICONm                                        
2400      =1                          Str_EXIT,                                //"RETRUN"r                        
2401      =1                          NIL,                                     //WID                                                  
2402      =1                          NIL,                                     //UID                                                  
2403      =1                          NO_ICON_COLOR,                   //ICONFlag                                    
2404      =1                          DESC_COLOR,                      //rFlag                                    
2405      =1                          0,                                               //eOSDe(ThOSD)        
2406      =1                          ACTION,                                  //eOSDA    Abel Test        
2407      =1                          NO,                                                                                                        
2408      =1                          EXITMENU ,                               //@(^W@)                        
2409      =1                  },                
2410      =1                  
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 126 

2411      =1                  {       {0},                                     //ICONm                                        
2412      =1                          Str_SPACE,                                //"RETRUN"r                            
2413      =1                          NIL,                                     //WID                                                  
2414      =1                          NIL,                                     //UID                                                  
2415      =1                          NO_ICON_COLOR,                   //ICONFlag                                    
2416      =1                          DESC_COLOR,                      //rFlag                                    
2417      =1                          0,                                               //eOSDe(ThOSD)        
2418      =1                          TEXT_STR,                                  //eOSDA        Abel Test                
2419      =1                          NO,                                                                                                        
2420      =1                          EXITMENU ,                               //@(^W@)                        
2421      =1                  },       
2422      =1            
2423      =1                  {       {0},                                     //ICONm                                        
2424      =1                          Str_VER,                                //"RETRUN"r                                
2425      =1                          NIL,                                     //WID                                                  
2426      =1                          NIL,                                     //UID                                                  
2427      =1                          NO_ICON_COLOR,                   //ICONFlag                                    
2428      =1                          VER_COLOR,                              //rFlag                                    
2429      =1                          0,                                               //eOSDe(ThOSD)        
2430      =1                          TEXT_STR,                                  //eOSDA        Abel Test                
2431      =1                          NO,                                                                                                        
2432      =1                          EXITMENU ,                               //@(^W@)                        
2433      =1                  },                      
2434      =1          
2435      =1                  { {0},                                                                                                                                          
2436      =1                    0,//Terminator                                                                                                                        
2437      =1                    0,                                                                                                                                            
2438      =1                    0,                                                                                                                                            
2439      =1                    NIL,                                                                                                                                          
2440      =1                    NIL,                                                                                                                                          
2441      =1                    0,                                                                                                                                            
2442      =1                    0,                                                                                                                                            
2443      =1                    0,                                                                                                                                            
2444      =1                  },      
2445      =1  
2446      =1  };
2447      =1  
2448      =1  
2449      =1  //----------------------------------------------------------------------------------
2450      =1  #define         PCPICTURE_H             6
2451      =1  CODE BYTE PCPictureMenu[]=
2452      =1                          {//3,
2453      =1                          MENU_WIDTH,             PCPICTURE_H,
2454      =1                          TITLE_COLOR,
2455      =1                          CURSOR_COLOR,
2456      =1  };
2457      =1  
2458      =1  CODE struct DefineMenu DMPCPicture[]={
2459      =1                  {       {0},                                                            Str_Brightness,
2460      =1                          NIL,    NIL,    
2461      =1                          NO_ICON_COLOR,
2462      =1                          DESC_COLOR,
2463      =1                          0,
2464      =1                          NUMBER,                 NO,
2465      =1                          PANEL_BRIGHTNESS,
2466      =1                          DefaultBar
2467      =1                  },
2468      =1                  {       {0},                                                            Str_Contrast,
2469      =1                          NIL,    NIL,    
2470      =1                          NO_ICON_COLOR,
2471      =1                          DESC_COLOR,
2472      =1                          0,
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 127 

2473      =1                          NUMBER,                 NO,
2474      =1                          PANEL_CONTRAST,
2475      =1                          DefaultBar
2476      =1                  },
2477      =1                  {       {0},                                                                    Str_HPosition,
2478      =1                          NIL,    NIL,    
2479      =1                          NO_ICON_COLOR,
2480      =1                          DESC_COLOR,
2481      =1                          0,
2482      =1                          NUMBER, NO,
2483      =1                          PC_HPOS,
2484      =1                          DefaultBar
2485      =1                  },
2486      =1                  {       {0},                                                                    Str_VPosition,
2487      =1                          NIL,    NIL,    
2488      =1                          NO_ICON_COLOR,
2489      =1                          DESC_COLOR,
2490      =1                          0,
2491      =1                          NUMBER, NO,
2492      =1                          PC_VPOS,
2493      =1                          DefaultBar
2494      =1                  },
2495      =1                  #if 0
           =1                 {       {0},                                                            Str_Phase,
           =1                         NIL,    NIL,    
           =1                         NO_ICON_COLOR,
           =1                         DESC_COLOR,
           =1                         0,
           =1                         NUMBER, NO,
           =1                         PC_PHASE,
           =1                         NumberOnly
           =1                 },
           =1                 {       {0},                                                            Str_Clock,
           =1                         NIL,    NIL,    
           =1                         NO_ICON_COLOR,
           =1                         DESC_COLOR,
           =1                         0,
           =1                         NUMBER, NO,
           =1                         PC_CLOCK,
           =1                         NumberOnly
           =1                 },
           =1                 #endif
2515      =1  
2516      =1                  {       {0},                                                                    Str_AutoAdjust,
2517      =1                          NIL,            NIL,    
2518      =1                          NO_ICON_COLOR,
2519      =1                          DESC_COLOR,
2520      =1                          0,
2521      =1                          ACTION,NO,
2522      =1                          AUTOADJUST
2523      =1                  },
2524      =1                  {       {0},                                                                    Str_AutoColor,
2525      =1                          NIL,            NIL,    
2526      =1                          NO_ICON_COLOR,
2527      =1                          DESC_COLOR,
2528      =1                          0,
2529      =1                          ACTION,NO,
2530      =1                          PCCOLORADJUST
2531      =1                  },
2532      =1  
2533      =1                  
2534      =1          {   {0},                     //ICONm                  
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 128 

2535      =1              Str_RETURN,              //"RETRUN"r           
2536      =1              NIL,                     //WID                    
2537      =1              NIL,                     //UID                    
2538      =1              NO_ICON_COLOR,           //ICONFlag              
2539      =1              DESC_COLOR,              //rFlag              
2540      =1              0,                       //eOSDe(ThOSD)  
2541      =1              ACTION,                  //eOSDA    Abel Test             
2542      =1              NO,                                                 
2543      =1              TOHIGHMENU // EXITMENU , //@(^W@)                             
2544      =1          },  
2545      =1  
2546      =1                  
2547      =1                  {       {0},                                                                                            0,//Terminator
2548      =1                          0,                              0,              
2549      =1                          NIL,
2550      =1                          NIL,
2551      =1                          0,
2552      =1                          0,                              0,
2553      =1                  },
2554      =1  };
2555      =1  
2556      =1  //----------------------------------------------------------------------------------
2557      =1  CODE BYTE PCMainMenu[]=
2558      =1                          {//4,
2559      =1                          TOPMENU_WIDTH,          TOPMENU_HEIGHT,         
2560      =1                          NIL,
2561      =1                          DEFAULT_COLOR,
2562      =1  };
2563      =1  
2564      =1  CODE struct DefineMenu DMPCMenuList[]={
2565      =1  
2566      =1                  {       {TV_ICON},                                                                      
2567      =1                          0,//Str_Picture,
2568      =1                          NIL,    
2569      =1                          NIL,    
2570      =1                          TOPICON_COLOR,
2571      =1                          NIL,
2572      =1                          DMPCPicture,
2573      =1                          OSDMENU,                NO,
2574      =1                          0,
2575      =1                          PCPictureMenu
2576      =1                  },
2577      =1  
2578      =1                  {       {INPUT_ICON},                                                                   
2579      =1                          0,//Str_Input,
2580      =1                          NIL,    NIL,    
2581      =1                          TOPICON_COLOR,
2582      =1                          NIL,
2583      =1                          DMINPUTSOURCE,
2584      =1                          OSDMENU,                NO,
2585      =1                          0,
2586      =1                          InputSourceMenu
2587      =1                  },
2588      =1                  
2589      =1                  {       VIDEO_ICON,                                                             
2590      =1                      0,
2591      =1                          NIL,    
2592      =1                          NIL,    
2593      =1                          TOPICON_COLOR,
2594      =1                          NIL,
2595      =1                          DMCAMERA,
2596      =1                          OSDMENU,                NO,
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 129 

2597      =1                          VIDEOPICTURE,
2598      =1                          CAMERAMenu
2599      =1                  },
2600      =1  
2601      =1  #ifdef SUPPORT_SDCARD          
2602      =1                  {       {SDCARD_ICON},                                                                          
2603      =1                          0,
2604      =1                          NIL,    NIL,    
2605      =1                          TOPICON_COLOR,
2606      =1                          NIL,
2607      =1                          SDCARD,
2608      =1                          OSDMENU,                NO,
2609      =1                          0,
2610      =1                          SDCARDMenu
2611      =1                  },
2612      =1  #endif  //#ifdef SUPPORT_SDCARD                 
2613      =1  
2614      =1                  {       UTIL_ICON,                                                                              
2615      =1                      0,
2616      =1                          NIL,    NIL,    
2617      =1                          TOPICON_COLOR,
2618      =1                          NIL,
2619      =1                          DMUtility,//DMPCUtility,
2620      =1                          OSDMENU,                NO,
2621      =1                          0,
2622      =1                          UtilityMenu//PCUtilityMenu
2623      =1                  },
2624      =1                  {       {0},                                                                                            0,//Terminator
2625      =1                          0,                              0,              
2626      =1                          NIL,
2627      =1                          NIL,
2628      =1                          0,
2629      =1                          0,                              0,
2630      =1                  },
2631      =1  };
2632      =1  
2633      =1  
2634      =1  //----------------------------------------------------------------------------------
2635      =1  CODE struct DefineMenu PCMenu[]={
2636      =1                  //{     icon,                                                                           desc,
2637      =1                  //      PreFn,  PostFn, 
2638      =1                  //  IconColor,
2639      =1                  //  DescColor,
2640      =1                  //      *chd,
2641      =1                  //  type,               DispWithCursor          
2642      =1                  //      *typedata
2643      =1                  //},
2644      =1                  {       0,                                      0,
2645      =1                          NIL,    NIL,    
2646      =1                          ICON_COLOR,
2647      =1                          NIL,
2648      =1                          DMPCMenuList,           OSDMENU,                NO,
2649      =1                          0,
2650      =1                          PCMainMenu
2651      =1                  },
2652      =1                  {       {0},                                                                                            0,//Terminator
2653      =1                          0,                              0,              
2654      =1                          NIL,
2655      =1                          NIL,
2656      =1                          0,
2657      =1                          0,                              0,
2658      =1                  },
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 130 

2659      =1  };
2660      =1  
2661      =1  //----------------------------------------------------------------------------------
2662      =1  
2663      =1  #ifdef E_Wintek
           =1 
           =1 CODE struct DefineMenu ChinesePicture[]={
           =1                 {       {0},                                                            
           =1                         Str_Brightness2,
           =1                         NIL,    NIL,    
           =1                         NO_ICON_COLOR,
           =1                         DESC_COLOR,
           =1                         0,
           =1                         NUMBER, 
           =1                         NO,
           =1                         VIDEO_BRIGHTNESS,
           =1                         DefaultBar
           =1                 },
           =1 
           =1                 {       {0},                                                            
           =1                         Str_Contrast2,
           =1                         NIL,    NIL,    
           =1                         NO_ICON_COLOR,
           =1                         DESC_COLOR,
           =1                         0,
           =1                         NUMBER, 
           =1                         NO,
           =1                         VIDEO_CONTRAST,
           =1                         DefaultBar
           =1                 },
           =1 
           =1                 {       {0},                                                                    
           =1                         Str_Saturation2,
           =1                         NIL,    NIL,    
           =1                         NO_ICON_COLOR,
           =1                         DESC_COLOR,
           =1                         0,      
           =1                         NUMBER, 
           =1                         NO,
           =1                         VIDEO_SATURATION,
           =1                         DefaultBar
           =1                 },
           =1                                 
           =1                 {   
           =1                     {0},                     //ICONm                     
           =1                     Str_RETURN2,              //"RETRUN"r             
           =1                     NIL,                     //WID                       
           =1                     NIL,                     //UID                       
           =1                     NO_ICON_COLOR,           //ICONFlag                 
           =1                     DESC_COLOR,              //rFlag                 
           =1                     0,                       //eOSDe(ThOSD)     
           =1                     ACTION,                  //eOSDA(]w@)     
           =1                     NO,                                                     
           =1                     TOHIGHMENU               //@(^W@)             
           =1                 },                           
           =1                 
           =1 
           =1 
           =1 
           =1                 #if 0
           =1                 {       {0},                                                                    Str_Backlight,
           =1                         NIL,    NIL,    
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 131 

           =1                         NO_ICON_COLOR,
           =1                         DESC_COLOR,
           =1                         0,      
           =1                         BAR,    NO,
           =1                         VIDEO_BACKLIGHT,
           =1                         DefaultBar
           =1                 },
           =1         #endif
           =1                 {       {0},                                                                                            0,//Terminator
           =1                         0,                              0,              
           =1                         NIL,
           =1                         NIL,
           =1                         0,
           =1                         0,                              0,
           =1                 },
           =1 };
           =1 
           =1 CODE struct DefineMenu ChineseUtility[]={
           =1 
           =1             {   {0},                     //ICONm                                          
           =1             Str_Auto_Day_Night2,      //"Auto Day & Night"r 
           =1             NIL,                     //WID                     
           =1             NIL,                     //UID                                                     
           =1             NO_ICON_COLOR,           //ICONFlag                                                       
           =1             DESC_COLOR,              //rFlag                                                       
           =1             0,                       //eOSDe(ThOSD)                                           
           =1             ENUM_STRING,             //eOSDA(r)
           =1             NO, 
           =1             DayChoice,               //@(^W@)                         
           =1             ONOFFChineseChoiceString,       //                                              
           =1         },    
           =1 
           =1           {   {0},                     //ICONm                        
           =1             Str_DIR_IMAGE2,           //"Dir Image"r               
           =1             NIL,                     //WID                          
           =1             NIL,                     //UID                          
           =1             NO_ICON_COLOR,           //ICONFlag                    
           =1             DESC_COLOR,              //rFlag                    
           =1             0,                       //eOSDe(ThOSD)        
           =1             ENUM_STRING,//ACTION,    //eOSDA(r)        
           =1             NO,               
           =1             IMAGEChoice,             //@(^W@) 
           =1             IMAGEChineseString, 
           =1         },                                                             
           =1 
           =1         {   {0},                     //ICONm                        
           =1             Str_REAR_SETUP2,          //"Rear Setup"r               
           =1             NIL,                     //WID                          
           =1             NIL,                     //UID                          
           =1             NO_ICON_COLOR,           //ICONFlag                    
           =1             DESC_COLOR,              //rFlag                    
           =1             0,                       //eOSDe(ThOSD)
           =1             ENUM_STRING,//ACTION,    //eOSDA(r)     
           =1             NO,                                                 
           =1             REARChoice,              //@(^W@)         
           =1             REARString,                                        
           =1         },    
           =1 
           =1         {   {0},                    //ICONm                                           
           =1             Str_JUMP2,               //"JUMP"r                             
           =1             NIL,                    //WID                                             
           =1             NIL,                    //UID                                             
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 132 

           =1             NO_ICON_COLOR,          //ICONFlag                                       
           =1             DESC_COLOR,             //rFlag        
           =1             0,                      //eOSDe(ThOSD) 
           =1             ENUM_STRING,            //eOSDA    Abel Test 
           =1             NO,                                                 
           =1             JUMPChoice,             //@(^W@)         
           =1             JUMPChineseString                                        
           =1         }, 
           =1         
           =1           {
           =1                 {0},                                       //ICONm                                            
           =1                   Str_RECALL2,                     //"RETRUN"r                            
           =1                   NIL,                                     //WID                                              
           =1                   NIL,                                     //UID                                              
           =1                   NO_ICON_COLOR,                   //ICONFlag                                        
           =1                   DESC_COLOR,                      //rFlag                                        
           =1                   0,                                       //eOSDe(ThOSD)            
           =1                   ACTION,                                  //eOSDA        Abel Test                
           =1                   NO,                                                                                                            
           =1                   RESET_USERVALUE,         //@(^W@)                            
           =1           },
           =1 
           =1           {   {0},                     //ICONm                        
           =1               Str_EXIT2,                //"RETRUN"r                
           =1               NIL,                     //WID                          
           =1               NIL,                     //UID                          
           =1               NO_ICON_COLOR,           //ICONFlag                    
           =1               DESC_COLOR,              //rFlag                    
           =1               0,                       //eOSDe(ThOSD)        
           =1               ACTION,                  //eOSDA    Abel Test        
           =1               NO,                                                        
           =1               EXITMENU ,               //@(^W@)                
           =1           },        
           =1 
           =1 #if 0         
           =1           {   {0},                     //ICONm                        
           =1               Str_SPACE,                //"RETRUN"r                
           =1               NIL,                     //WID                          
           =1               NIL,                     //UID                          
           =1               NO_ICON_COLOR,           //ICONFlag                    
           =1               DESC_COLOR,              //rFlag                    
           =1               0,                       //eOSDe(ThOSD)        
           =1               TEXT_STR,                  //eOSDA    Abel Test        
           =1               NO,                                                        
           =1               EXITMENU ,               //@(^W@)                
           =1           },   
           =1         
           =1           {   {0},                     //ICONm                        
           =1               Str_VER,                //"RETRUN"r                
           =1               NIL,                     //WID                          
           =1               NIL,                     //UID                          
           =1               NO_ICON_COLOR,           //ICONFlag                    
           =1               VER_COLOR,              //rFlag                    
           =1               0,                       //eOSDe(ThOSD)        
           =1               TEXT_STR,                  //eOSDA    Abel Test        
           =1               NO,                                                        
           =1               EXITMENU ,               //@(^W@)                
           =1           },          
           =1 #endif      
           =1           { {0},                                                                      
           =1             0,//Terminator                                                            
           =1             0,                                                                        
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 133 

           =1             0,                                                                        
           =1             NIL,                                                                      
           =1             NIL,                                                                      
           =1             0,                                                                        
           =1             0,                                                                        
           =1             0,                                                                        
           =1           },   
           =1 };
           =1 
           =1 CODE struct DefineMenu ChineseMenuList[]={
           =1 
           =1             {   
           =1              TV_ICON,                //DisplayICON                         
           =1             0,//Str_Picture,           //r                    
           =1             NIL,                       //WID        
           =1             NIL,                       //UID                        
           =1             TOPICON_COLOR,             //ICONFlag(ON)                          
           =1             NIL,                       //rFlag(OFF)                          
           =1             ChinesePicture,                 //eOSDe(GhOSD)                         
           =1             OSDMENU,                   //eOSDA   
           =1             NO,                                
           =1             VIDEOPICTURE,                                      
           =1             PictureMenu                                        
           =1         },
           =1 
           =1                 {       UTIL_ICON,                                                                              
           =1                     0,
           =1                         NIL,    NIL,    
           =1                         TOPICON_COLOR,
           =1                         NIL,
           =1                         ChineseUtility,//DMPCUtility,
           =1                         OSDMENU,                NO,
           =1                         0,
           =1                         UtilityMenu//PCUtilityMenu
           =1                 },
           =1                 
           =1                 {       {0},                                                                                            0,//Terminator
           =1                         0,                              0,              
           =1                         NIL,
           =1                         NIL,
           =1                         0,
           =1                         0,                              0,
           =1                 },
           =1 
           =1 };
           =1 
           =1 
           =1 CODE struct DefineMenu ChineseMenu[]={
           =1                 //{     icon,                                                                           desc,
           =1                 //      PreFn,  PostFn, 
           =1                 //  IconColor,
           =1                 //  DescColor,
           =1                 //      *chd,
           =1                 //  type,               DispWithCursor          
           =1                 //      *typedata
           =1                 //},
           =1                 {       0,                                      0,
           =1                         NIL,    NIL,    
           =1                         ICON_COLOR,
           =1                         NIL,
           =1                         ChineseMenuList,                OSDMENU,                NO,
           =1                         0,
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 134 

           =1                         PCMainMenu
           =1                 },
           =1                 {       {0},                                                                                            0,//Terminator
           =1                         0,                              0,              
           =1                         NIL,
           =1                         NIL,
           =1                         0,
           =1                         0,                              0,
           =1                 },
           =1 };
           =1 
           =1 CODE struct DefineMenu ChinesePCPicture[]={
           =1                 {       {0},                                                            
           =1                         Str_Brightness2,
           =1                         NIL,    NIL,    
           =1                         NO_ICON_COLOR,
           =1                         DESC_COLOR,
           =1                         0,
           =1                         NUMBER,                 NO,
           =1                         PANEL_BRIGHTNESS,
           =1                         DefaultBar
           =1                 },
           =1                 
           =1                 {       {0},                                                            
           =1                         Str_Contrast2,
           =1                         NIL,    NIL,    
           =1                         NO_ICON_COLOR,
           =1                         DESC_COLOR,
           =1                         0,
           =1                         NUMBER,                 NO,
           =1                         PANEL_CONTRAST,
           =1                         DefaultBar
           =1                 },
           =1 
           =1                 {       {0},                                                                    
           =1                         Str_AutoAdjust2,
           =1                         NIL,            NIL,    
           =1                         NO_ICON_COLOR,
           =1                         DESC_COLOR,
           =1                         0,
           =1                         ACTION,NO,
           =1                         AUTOADJUST
           =1                 },
           =1                 
           =1              {   {0},                     //ICONm                  
           =1                  Str_RETURN2,              //"RETRUN"r           
           =1                  NIL,                     //WID                    
           =1                  NIL,                     //UID                    
           =1                  NO_ICON_COLOR,           //ICONFlag              
           =1                  DESC_COLOR,              //rFlag              
           =1                  0,                       //eOSDe(ThOSD)  
           =1                  ACTION,                  //eOSDA    Abel Test             
           =1                  NO,                                                 
           =1                  TOHIGHMENU // EXITMENU , //@(^W@)                             
           =1              },  
           =1 
           =1                 
           =1                 {       {0},                                                                                            0,//Terminator
           =1                         0,                              0,              
           =1                         NIL,
           =1                         NIL,
           =1                         0,
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 135 

           =1                         0,                              0,
           =1                 },
           =1 };
           =1 
           =1 CODE struct DefineMenu ChinesePCMenuList[]={
           =1 
           =1                 {       {TV_ICON},                                                                      
           =1                         0,//Str_Picture,
           =1                         NIL,    
           =1                         NIL,    
           =1                         TOPICON_COLOR,
           =1                         NIL,
           =1                         ChinesePCPicture,
           =1                         OSDMENU,                NO,
           =1                         0,      
           =1                         PictureMenu
           =1                 },
           =1                         
           =1 
           =1                 {       UTIL_ICON,                                                                              
           =1                     0,
           =1                         NIL,    NIL,    
           =1                         TOPICON_COLOR,
           =1                         NIL,
           =1                         ChineseUtility,//DMPCUtility,
           =1                         OSDMENU,                NO,
           =1                         0,
           =1                         UtilityMenu//PCUtilityMenu
           =1                 },
           =1                 {       {0},                                                                                            0,//Terminator
           =1                         0,                              0,              
           =1                         NIL,
           =1                         NIL,
           =1                         0,
           =1                         0,                              0,
           =1                 },
           =1 };
           =1 
           =1 CODE struct DefineMenu ChinesePCMenu[]={
           =1                 //{     icon,                                                                           desc,
           =1                 //      PreFn,  PostFn, 
           =1                 //  IconColor,
           =1                 //  DescColor,
           =1                 //      *chd,
           =1                 //  type,               DispWithCursor          
           =1                 //      *typedata
           =1                 //},
           =1                 {       0,                                      0,
           =1                         NIL,    NIL,    
           =1                         ICON_COLOR,
           =1                         NIL,
           =1                         ChinesePCMenuList,              OSDMENU,                NO,
           =1                         0,
           =1                         PCMainMenu
           =1                 },
           =1                 {       {0},                                                                                            0,//Terminator
           =1                         0,                              0,              
           =1                         NIL,
           =1                         NIL,
           =1                         0,
           =1                         0,                              0,
           =1                 },
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 136 

           =1 };
           =1 #endif
3033      =1  #endif
3034      =1  
 102          #include "OSDOper.c"
   1      =1  #include "Config.h"
   1      =2  /*****************************************************************************/
   2      =2  /*                           System Configurations                           */
   3      =2  /*                                                      rev 0.10 include auto test                                               */
   4      =2  // 0.11 change DTV, PC input initial download data correct for Charge Pump
   5      =2  // 0.12 correct phase measurement routine '>>3'
   6      =2  // 0.13 enable function for SPI control... only EXT MCU case
   7      =2  // 0.14 corrected PC measurement......
   8      =2  // 0.0a test function only for CVBS, SVIDEO
   9      =2  // 0.15 corrected DTV scaler setting for panel resolutions
  10      =2  // 0.0b panel for AND 640x480 TICON panel
  11      =2  // 0.16 corrected COMPONENT scaler setting for panel resolutions        11/21/2007
  12      =2  // 0.0c automatic chip test
  13      =2  // 0.17 add monitor function, osd grid for writing grid
  14      =2  // 0.18 add component, dtv pc for analogpanel, 12/06/2007
  15      =2  // 0.19 correct pal input for CES, 12/20/2007
  16      =2  // 0.1a CCFL control, 12/28/2007
  17      =2  // 0.19 Multi Grid for Banking on Internal MCU  01/17/2008
  18      =2  // 0.20 CCFL contol for backlight brightness    01/21/2008
  19      =2  // 0.21 CCFL contol for backlight brightness    01/25/2008
  20      =2  // 0.22 phase setting 02/07/2008
  21      =2  // 0.221 display input correction 04/03/2008
  22      =2  // 0.23 PC, DTV mode, no signal display
  23      =2  // 0.24 PC Auto Color adjustment
  24      =2  // 0.25 revised PC Auto Clock adjustment - find divide number and phase
  25      =2  // 0.26 Digital RGB for TW8826
  26      =2  // 0.27 Correct LVDS control                                    08/22/2008
  27      =2  // 0.28 Add WSVGA resolution                                    10/23/2008
  28      =2  // 0.29 Add NEW GRID                                                    11/14/2008
  29      =2  // 0.30 Fix DTV input                                                   12/10/2008
  30      =2  // 0.31 Add 1080i23, 24, 25A, 25B                               01/20/2009
  31      =2  // 0.32 TCON setting FIX all mode                               01/22/2009
  32      =2  // 0.33 autodetect is auto on/off by dip sw1    02/02/2009
  33      =2  // 0.34 Fix autocolor function and clamp position 02/08/2009
  34      =2  /*****************************************************************************/
  35      =2  #ifndef __CONFIG_H__
           =2 #define __CONFIG_H__
           =2 
           =2 //#define INTERNAL_MCU -- defined by Project Compiler session
           =2 
           =2 
           =2 //-----------------------------------------------------------------------------
           =2 //              Firmware Version
           =2 //-----------------------------------------------------------------------------
           =2 #define FWVER                   0x140                   // Rev 0.14
           =2 //-----------------------------------------------------------------------------
           =2 //              Compiler
           =2 //-----------------------------------------------------------------------------
           =2 #define KEILC                                           // Keil C 5.0
           =2 //-----------------------------------------------------------------------------
           =2 //              MPU Clock
           =2 //-----------------------------------------------------------------------------
           =2 #ifndef INTERNAL_MCU
           =2 //#define CLOCK_11M                                     // 11.0592MHz
           =2 #define CLOCK_22M                                       // 22.1184MHz
           =2 #else                                                           // INTERNAL_MCU
           =2 #define CLOCK_27M                                       // 27MHz
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 137 

           =2 #define REG_START_ADDRESS       0xc000          // register start 0xc000, for page0, 0xc100-page1 
           =2 #endif
           =2 //-----------------------------------------------------------------------------
           =2 //              TW88 Version
           =2 //-----------------------------------------------------------------------------
           =2 #define TW8816
           =2 //-----------------------------------------------------------------------------
           =2 //              Options for Backlight control
           =2 //-----------------------------------------------------------------------------
           =2 //#define       BACKLIGHT_CCFL
           =2 //#define       BACKLIGHT_LED
           =2 #define BACKLIGHT_PWM
           =2 
           =2 //-----------------------------------------------------------------------------
           =2 //              Panel Resolution
           =2 //-----------------------------------------------------------------------------
           =2 // ---- Select Default Panel
           =2 //
           =2 //#define UXGA                                          // 1600 x 1200
           =2 //#define SXGA                                          // 1280 x 1024
           =2 //#define XGA  // 1024 x 768
           =2 #ifdef XGA
           =2         #define LVDS                                    
           =2         #define PWIDTH  1024
           =2         #define PHEIGHT 768
           =2 #endif
           =2 //#define SVGA                                          //  800 x 600
           =2 //#define VGA                                           //  640 x 480
           =2 #ifdef VGA
           =2         #define PWIDTH  640
           =2         #define PHEIGHT 480
           =2         //#define       HITACHI_640_B_160               //--> 640 x 160
           =2         #define AND_640_480
           =2 #endif
           =2 //#define WXGA                                          // 1280 x 768 (15:9) // 1366 x 768 (16:9)
           =2 #ifdef WXGA
           =2     //#define WX_SHARP_LQ106K1LA
           =2         #define PWIDTH  1280
           =2         #define PHEIGHT 768
           =2 #endif
           =2 //#define WSVGA                                         // 1024 x 600   *** only video mode
           =2 #ifdef WSVGA
           =2         #define PWIDTH  1024
           =2         #define PHEIGHT 600
           =2         #define UNIDEN_1024_600
           =2 #endif
           =2 #define WVGA                                            //  800 x 480
           =2 #ifdef WVGA
           =2         #define PWIDTH  800
           =2         #define PHEIGHT 600//480
           =2         // If WVGA, you have to select panel.
           =2         //#define AU_10INCH
           =2         //#define WVGA_TPO
           =2         //#define SAMSUNG_10INCH
           =2         //#define SAMSUNG_TICONLESS_10INCH
           =2         //#define SHARP_TICONLESS_7INCH
           =2         #define AU_TICONLESS_7INCH
           =2         //#define INNOLUX_AT080TN03
           =2         //#define AU_TICONLESS_7INCH_CCFL
           =2         //#define CMO                   // CHIMEI panel
           =2         //#define AU_TICONLESS_10INCH
           =2         //#define HITACHI_T01
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 138 

           =2         //#define HITACHI_TX23D12
           =2         //#define HITACHI_TX18D24
           =2         //#define HITACHI_TX18D16
           =2         //#define TMD_LTA070A320F
           =2         //#define TMD_LTA080B
           =2 #endif  //WVGA
           =2 //#define HVGA                                          //  480 x 320
           =2 //#define QVGA                                          //  320 x 240   *** only video mode
           =2 #ifdef QVGA
           =2         #define PWIDTH  320
           =2         #define PHEIGHT 240
           =2         //#define HITACHI_TX09D73
           =2         //#define AU_DELTARGB
           =2         //#define SHARP_LQ050Q5DR01
           =2         //#define SHARP_LQ035
           =2         //#define       TMD
           =2 #endif
           =2 
           =2 //#define WQVGA                                         //  480 x 234   *** only video mode
           =2 #ifdef WQVGA
           =2         #define PWIDTH  480
           =2         #define PHEIGHT 240
           =2         // If WQVGA, you have to select panel   
           =2     #define ANALOG_7INCH
           =2         //#define       PWIDTH  400
           =2         //#define PHEIGHT       240
           =2         //#define SHARP_LQ043T3DX02             //  400 x 237
           =2         //#define LG_ANALOG
           =2         //#define TMD_ANALOG                            //TMD_LTA05B352A
           =2         //#define       T_51945GD                               // Optorex Panel
           =2 #endif  // WQVGA
           =2 
           =2 //if LVDS pannel disable TICONLESS
           =2 
           =2 //-----------------------------------------------------------------------------
           =2 //---- Add Support One more panel with DIPSW#1
           =2 //---- Ex. Add Analog AU 7" Panel with Default Panel for evalution
           =2 //#define ADD_ANALOGPANEL               // Added Analog panel(AU7") from default set panel(expect WQVGA) with DIP #1 sw
             -itch.(DIP#1=L:ANALOG, H:DEFAULT)
           =2                                                         // It can't support WQVGA and ADD_ANALOGPANEL same time!!
           =2         //#define ADD_ANALOG_7INCH
           =2         //#define ADD_TMD_LTA05B352A
           =2                                                                         
           =2 //---- Support Wide panel function
           =2 #if (defined WXGA) || (defined WSVGA) || (defined WVGA) || (defined WQVGA)
           =2 #define WIDE_SCREEN                             // Can support 4 display mode, i.e. Normal, Wide, Full, Zoom
           =2 #endif                                                          // Tested panasonic WVGA panel.
           =2 
           =2 //-----------------------------------------------------------------------------
           =2 //              Panel Vendor Specific
           =2 //-----------------------------------------------------------------------------
           =2 
           =2 //-----------------------------------------------------------------------------
           =2 //              TV Tuner
           =2 //-----------------------------------------------------------------------------
           =2 #define PHILIPS                         0
           =2 #define ALPS                            1               // ALPS, LG
           =2 #define TEMIC                           2
           =2 #define TVAVA                           3
           =2 #define LGTUNER                         4
           =2 #define SAMSUNGMUTITUNER        5
           =2 
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 139 

           =2 #define TVTunerDevice           4
           =2 //-----------------------------------------------------------------------------
           =2 //              IR Remote Controller Type
           =2 //-----------------------------------------------------------------------------
           =2 //#define REMO_RC5                                      // RC5 style
           =2 #define TECHWELL_REMOCON
           =2 //#define REMO_NEC                                      // NEC style
           =2 //#define PHILIPS_REMOCON // New remocon 
           =2 
           =2 
           =2 //-----------------------------------------------------------------------------
           =2 //              I2C Device Access Address Mapping
           =2 //-----------------------------------------------------------------------------
           =2 
           =2 #define EEPROMI2CAddress        0xa0    // EEPROM (24C16)
           =2 #define TW88I2CAddress          0x8a    // TW880x
           =2 
           =2 #define MSPI2CAddress           0x80    // MSP
           =2 
           =2 //-----------------------------------------------------------------------------
           =2 //              Options for Possible Inputs
           =2 //-----------------------------------------------------------------------------
           =2 #define         AWT
           =2 //#define       E_Wintek 
           =2 //#define SUPPORT_SVIDEO                     //andy Awt 20090914
           =2 //#define SUPPORT_COMPONENT                     // support component analog to decoder//andy Awt 20090914
           =2 
           =2 //#define SUPPORT_DTV                           // support DTV input through component( to ADC ).//andy Awt 20090914
           =2 #define SUPPORT_PC                              // support PC function
           =2 //#define SUPPORT_DVI                           // support DVI input
           =2 #define SUPPORT_SDCARD
           =2 
           =2 //#define SUPPORT_RS485
           =2 
           =2 //-----------------------------------------------------------------------------
           =2 //              Options for Possible Standards
           =2 //              Default:NTSC
           =2 //-----------------------------------------------------------------------------
           =2 #define SUPPORT_PAL                     
           =2 #define SUPPORT_SECAM
           =2 #define SUPPORT_NTSC4           
           =2 #define SUPPORT_PALM    
           =2 #define SUPPORT_PALN            
           =2 #define SUPPORT_PAL60           
           =2 
           =2 
           =2 //#define ID_CHECK_BY_FW                        // in Video mode, check input system ID by firmware
           =2 
           =2 //-----------------------------------------------------------------------------
           =2 //              Options for Debugging/Release
           =2 //-----------------------------------------------------------------------------
           =2 //#define SUPPORT_PATTERN                       // support LCD test pattern
           =2 
           =2 
           =2 #ifndef WQVGA
           =2         #ifndef QVGA
           =2 #define SUPPORT_OSDPOSITIONMOVE
           =2         #endif
           =2 #endif
           =2 
           =2 #define SERIAL                                  // include serial communication routines
           =2 
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 140 

           =2 //#define SUPPORT_DEBUG                         // Support to use Read & Write in debug OSD Window by remocon.
           =2 
           =2 //#define DEBUG                                         // include debug information
           =2 #ifdef DEBUG
           =2         //#define DEBUG_MAIN
           =2         //#define DEBUG_TIME
           =2         //#define DEBUG_KEYREMO
           =2         //#define DEBUG_TW88
           =2         //#define DEBUG_DECODER
           =2         //#define DEBUG_I2C
           =2         //#define DEBUG_EEP
           =2         //#define DEBUG_OSD
           =2         //#define DEBUG_AUDIO
           =2         //#define DEBUG_SETPANEL
           =2         //#define DEBUG_DTV
           =2         #define DEBUG_PC
           =2         //#define DEBUG_PC_MEAS
           =2         #define DEBUG_PC_COLOR
           =2         //#define DEBUG_COMPONENT
           =2         //#define DEBUG_BANK
           =2         //#define DEBUG_PAUSE
           =2         //#define DEBUG_MCU
           =2 #endif
           =2 
           =2 #define AUTOCALC_PC                                     // in PC mode, Enable Auto Calcuration
           =2 //#define SUPPORT_USERCOLORFROMTXT      // Use color setting of text file in Color mode=USER MODE which is as B
             -rightness(Reg10), Contast(Reg11),
           =2                                                                         //    Sat_U(Reg13),Sat_V(Reg14),Sharpness(Reg12,Reg78)                                                                  
           =2 //#define SUPPORT_GAMMA
           =2 
           =2 //#define CHIP_MANUAL_TEST                      // DIPSW#1
           =2 
           =2 #ifndef INTERNAL_MCU
           =2 //#define NO_INITIALIZE                         // After Power switch turn on with DIP SW4 Enable(Low), or pressed MENU button 
             -for internal MCU
           =2                                     //     micom works to access only I2C bus by serial command.
           =2 #endif
           =2 
           =2 //#define SUPPORT_KRS_OSDDEMO           // For KRS Company Demo 
           =2 //#define SUPPORT_LINE_OSDDEMO
           =2 
           =2 //-----------------------------------------------------------------------------
           =2 //              Special Features
           =2 //-----------------------------------------------------------------------------
           =2 
           =2 #ifndef INTERNAL_MCU
           =2 //#define       SUPPORT_DELTA_RGB
           =2 #endif
           =2 #define SUPPORT_SELECTKEY                       // choose the keymap of using select key or left,right key.
           =2 //-----------------------------------------------------------------------------
           =2 #endif  //__CONFIG_H__
   2      =1  
   3      =1  #include "typedefs.h"
   1      =2  #ifndef __TYPEDEFS__
           =2 #define __TYPEDEFS__
           =2 
           =2 
           =2 #define DATA            data
           =2 #define PDATA           pdata
           =2 #define IDATA           data
           =2 #define CODE            code
           =2 #define CODE_P
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 141 

           =2 #define PDATA_P
           =2 #define IDATA_P
           =2 #define DATA_P
           =2 
           =2 #define INTERRUPT( num, name ) name() interrupt num
           =2 
           =2 #define _between(x, a, b)       (a<=x && x<=b)
           =2 #define _swap(a, b)                     { a^=b; b^=a; a^=b; }
           =2 
           =2 typedef unsigned char   Register;
           =2 typedef unsigned char   BYTE;
           =2 typedef unsigned short  WORD;
           =2 typedef unsigned long   DWORD;
           =2 
           =2 #define TRUE    1
           =2 #define FALSE   0
           =2 
           =2 //VInputStdDetectMode
           =2 #define AUTO    0
           =2 
           =2 //VInputStd
           =2 #define NTSC    1                       
           =2 #define PAL             2
           =2 #define SECAM   3
           =2 #define NTSC4   4
           =2 #define PALM    5
           =2 #define PALN    6
           =2 #define PAL60   7
           =2 
           =2 #define MAXINPUTSTD     PAL60+1 // 
           =2 
           =2 #define UNKNOWN 0xfe
           =2 #define NOINPUT 0       //0xff
           =2 
           =2 
           =2 
           =2 
           =2 #define NIL                     0xff
           =2 
           =2 enum SourceModeTypeEnum
           =2 {       
           =2         AVMode,            // 0
           =2         VGAMode,       // 1
           =2         CAM_D,         // 2
           =2         CAM_A,         // 3
           =2         CAM_B,         // 4
           =2         CAM_C,         // 5
           =2         CAM_R,         // 6
           =2         CAM_AB,        // 7
           =2         CAM_CR,        // 8
           =2         CAM_AR,        // 9
           =2         CAM_RB,        // 10
           =2         CAM_AC,        // 11
           =2         CAM_CB,        // 12
           =2         CAM_RAB_T,     // 13
           =2         CAM_RAB_H,     // 14
           =2 
           =2         CAM_QUAD,      // 15
           =2         CAM_ABR_T3,    // 16
           =2         CAM_ABR_T4,    // 17
           =2         SEQ,           // 18
           =2         CAM_BA,                 //19
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 142 

           =2         
           =2         CAM_BC,
           =2         CAM_BR,
           =2         CAM_CA,
           =2         CAM_ABC,
           =2         CAM_ABR,
           =2         CAM_ACR,
           =2         CAM_BAC,
           =2         CAM_BAR,
           =2         CAM_BCR,
           =2         CAM_CAB,
           =2         CAM_CAR,
           =2         CAM_CBR,        
           =2         CAM_NUM
           =2 };
           =2 
           =2 typedef unsigned char SourceModeType;
           =2 
           =2 #endif  /* __TYPEDEFS__ */
   4      =1  #include "main.h"
   1      =2  #ifndef __MAIN__
           =2 #define __MAIN__
           =2 
           =2 #define ON                                      1
           =2 #define OFF                                     0
           =2 //#define Hs_debug
           =2 //#define       DVR
           =2 
           =2 //================= DIP SW Definition =========================================
           =2 ///#define PIXEL_SINGLE         P0_0
           =2 #define DIP_PANEL_SWITCH        P0_0    // Samsung(0) // Sharp-Noticon(1)
           =2 #define DIP_AUTO_DETECT         P0_1
           =2 #define DIP_EDGE_ENHANCE        P0_2
           =2 #define DIP_BW_STRETCH          P0_3
           =2 
           =2 #define Panel_Enable()          P4=P4|0x08 //andy 980908
           =2 #define Panel_Disable()                 P4=P4&0xf7
           =2 
           =2 #define SetBacklight()      P4=P4|0x04
           =2 #define clrBacklight()      P4=P4&0xfb
           =2 
           =2 
           =2 //InputSelection
           =2 struct struct_IdName {
           =2         BYTE    Id;
           =2         BYTE    Name[16];
           =2 };
           =2 
           =2 #define CH_TW2835              1
           =2 #define CH_CAMD                2
           =2 #define CH_AV                  3
           =2 #define PC                                         7
           =2 #define ChineseDefaultMenu   8
           =2 
           =2 #define SVIDEO                          2
           =2 #define COMPONENT                       3
           =2 //#define ANALOGDTV                     4
           =2 #define DTV                                     4
           =2 #define TV                                      5
           =2 #define SCART                           6
           =2 
           =2 #define DIGITALVGA                      8
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 143 

           =2 
           =2 #define AIRTV                           0 //9
           =2 #define CABLETV                         1 //0xa
           =2 
           =2 
           =2 #define TVTUNER                         0xd             //10
           =2 #define MUTE                            1       
           =2 #define MENU                            2       
           =2 #define TVVOL                           4       
           =2 #define CC                                      8       
           =2 #define INPUTINFO                       0x10
           =2 #define PCINFO                          0x20
           =2 #define GAUGEINFO           0x40
           =2 //#define RATINGINFO                    0x40
           =2 #define TVCHN                           0x80
           =2 //#define MUTE                          0x40
           =2 
           =2 #define YPBPR_480i                      0
           =2 #define YPBPR_576i                      1
           =2 #define YPBPR_480p                      2
           =2 #define YPBPR_576p                      3
           =2 #define YPBPR_1080i                     4
           =2 #define YPBPR_720p                      5
           =2 #define YPBPR_720p50            6
           =2 
           =2 
           =2 //--------------------------- P0 Define -----------------------------
           =2 #define SEL_MIX                 P0_6    // 
           =2 //--------------------------- P1 Define -----------------------------
           =2 #define SEL_DVI                 P3_5    //LJY062001             
           =2 
           =2 #define TW88HWReset                     P3_4    //LJY001010 //LJY000721
           =2 #define PowerUp             P1_4
           =2 //======================= CDS Control ================================= 
           =2 #define CDS_CTRL           P1_5
           =2 extern BYTE     SelectModeType;
           =2 extern BYTE InputSelection;
           =2 extern BYTE SEQTime;
           =2 extern BYTE     Priority;
           =2 extern BYTE AutoDayNight;
           =2 extern BYTE PowerFlag;
           =2 
           =2 BYTE keyIn(void);
           =2 void TimerForRemocon(void);
           =2 void TimerForTick(void);
           =2 void DisableRemoconInt(void);
           =2 BYTE SetSupport_remocon(BYTE newd);
           =2 
           =2 void delay(BYTE cnt);
           =2 
           =2 BYTE RS_ready(void);
           =2 BYTE RS_rx(void);
           =2 void RS_tx(BYTE tx_buf);
           =2 
           =2 BYTE RS2_rx(void);
           =2 void RS2_tx(BYTE tx_buf);
           =2 
           =2 void NewLine(void);
           =2 void PutsP(PDATA_P BYTE *ptr);
           =2 #ifdef Hs_debug
           =2 void MonWriteI2C(BYTE addr, BYTE index, BYTE val);
           =2 BYTE MonReadI2C(BYTE addr, BYTE index);
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 144 

           =2 #endif
           =2 BYTE Asc1Bin(BYTE asc);
           =2 BYTE Asc2Bin(PDATA_P BYTE *s);
           =2 
           =2 void I2CDeviceInitialize( CODE_P BYTE *RegSet);
           =2 
           =2 //void RestartSystemClock(WORD clock_hm);
           =2 WORD GetTime_ms(void);
           =2 BYTE GetTime_H(void);
           =2 BYTE GetTime_M(void);
           =2 void ChangeTime_H( char add );
           =2 void ChangeTime_M( char add );
           =2 //WORD GetWakeupTime(void);
           =2 //void SetWakeupTime(WORD wtime);
           =2 
           =2 
           =2 //WORD GetOffTime(void);
           =2 //void SetOffTime(WORD wtime);
           =2 //BYTE GetSleepTimer(void);
           =2 //void SetSleepTimer(BYTE stime);
           =2 WORD DiffTime_ms( WORD stime, WORD etime );
           =2 //void SetLastBlockedTime(void);
           =2 void SetLastCCTime(void);                               //ljy010904...CC_FIX_CLEAR_ON_TIME
           =2 
           =2 void SetOSDLastKeyInTime(void);
           =2 WORD GetOSDLastKeyInTime(void);
           =2 WORD GetIVF(void);
           =2 DWORD GetIHF(void);
           =2 BYTE ReadVInputSTD(void);
           =2 void SetVInputStd(BYTE newd);
           =2 BYTE GetVInputStd(void);
           =2 BYTE GetInputSelection(void);
           =2 #ifdef ADD_ANALOGPANEL
           =2 BYTE IsAnalogOn(void);
           =2 #endif
           =2 void InitVideoData(BYTE src);
           =2 void ChangeVInputStdDetectMode(BYTE val);
           =2 BYTE GetVInputStdInx(void);
           =2 
           =2 void MonWriteI2Cn_(BYTE addr, BYTE *val, BYTE cnt) ;
           =2 
           =2 ///void Usage(void);
           =2 #ifdef Hs_debug
           =2         void Prompt(void);
           =2 #endif
           =2 void DebugKeyIn(BYTE ikey);
           =2 void DVIPowerDown(bit flag);
           =2 void PowerDown_XTAL(bit flag);
           =2 
           =2 void ChangeInput(BYTE newsel);
           =2 
           =2 
           =2 void WaitPowerOn(void);
           =2 void PowerOff(void);
           =2 BYTE GetNextInputSelection(void);
           =2 
           =2 BYTE WantToStopTVScan(void);
           =2 
           =2 //BYTE IsTW8801(void);
           =2 //BYTE IsTW8803(void);
           =2 //BYTE ConvertVideoVSAT(BYTE reg);
           =2 
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 145 

           =2 BYTE IsNoInput(void);
           =2 void LoadEEPROM (void);
           =2 void Hs_InitVars(void);
           =2 void AdjustAutoDayNight(BYTE val);
           =2 void ACCPowerControl(void);
           =2 struct RegisterInfo
           =2 {
           =2    int  Min;
           =2    int  Max;
           =2    int  Default;
           =2 };
           =2 struct LongRegisterInfo
           =2 {
           =2    WORD Min;
           =2    WORD Max;
           =2    WORD Default;
           =2 };
           =2 
           =2 #endif  // __MAIN__
   5      =1  #include "i2c.h"
   1      =2  #ifndef __I2C_H__
           =2 #define __I2C_H__
           =2 
           =2 
           =2 void I2CReadByte3(BYTE *);
           =2 void I2CRead8Byte(BYTE *);
           =2 #if 0
           =2 void I2CReadByteMSP(BYTE addr, BYTE index, BYTE *pd, BYTE cnt);
           =2 #endif
           =2 BYTE I2CWriteByte2(BYTE);
           =2 BYTE I2CWriteByte3(BYTE*);
           =2 BYTE I2CWrite8Byte(BYTE *);
           =2 
           =2 void I2CStart(void);
           =2 void I2CWriteData(BYTE value);
           =2 BYTE I2CReadData(void);
           =2 #if 0
           =2 BYTE I2CReadDataWithACK(void);
           =2 #endif
           =2 void I2CStop(void);
           =2 void I2Cdelay(void);
           =2 
           =2 
           =2 #define WriteTW88(a,b)          WriteI2C(TW88I2CAddress, a, b)
           =2 #define ReadTW88(a)                     ReadI2C(TW88I2CAddress, a)
           =2 
           =2 BYTE WriteTW88_Wait     (BYTE, BYTE);
           =2 void WriteADC           (BYTE, BYTE);
           =2 BYTE ReadADC            (BYTE);
           =2 BYTE ReadADC_TW88(BYTE index);
           =2 void WriteADC_TW88(BYTE index, BYTE dat);
           =2 
           =2 void WriteEEP           (WORD, BYTE);
           =2 BYTE ReadEEP            (WORD);
           =2 
           =2 
           =2 BYTE ReadI2C            (BYTE addr, BYTE index);
           =2 void WriteI2C           (BYTE addr, BYTE index, BYTE val);
           =2 
           =2 void WriteI2Cn_(BYTE addr, BYTE *val, BYTE cnt);
           =2 void WriteI2Cn (BYTE addr, BYTE index, BYTE *val, BYTE cnt);
           =2 void WriteI2CnD(BYTE addr, BYTE index, BYTE val, BYTE cnt);
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 146 

           =2 
           =2 void ReadI2Cmn(BYTE addr, BYTE wcnt, BYTE rcnt, BYTE *rwdata);
           =2 
           =2 #define         WriteADC(a,b)   WriteADC_TW88(a,b)
           =2 #define         ReadADC(a)              ReadADC_TW88(a)
           =2 
           =2 #endif  /* __I2C_H__ */
   6      =1  #include "Tw88.h"
   1      =2  #ifndef __TW88__
           =2 #define __TW88__
           =2 
           =2 #include "main.h"
           =2 
           =2 //Value for register 0x44
           =2 //#define DECODER_YCbCr         0x08            //xxxx bbxx
           =2 //#define RGB_RGB                               0x0C
           =2 
           =2 #define TW88_FPLL0                      0xf9
           =2 #define TW88_FPLL1                      0xfa
           =2 #define TW88_FPLL2                      0xfb
           =2 #define TW88_FSS                        0xfc
           =2 #define TW88_FSS_PD                     0xfd
           =2 #define TW88_PLL_DIV            0xfe
           =2 
           =2 //#define TW88_XSCALE                   0x5d
           =2 //#define TW88_YSCALE                   0x5e
           =2 
           =2 #define TW88_XUSCALELO          0x60
           =2 #define TW88_XDSCALELO          0x61
           =2 #define TW88_YUSCALELO          0x62
           =2 #define TW88_XYSCALEHI          0x63
           =2 #define TW88_XUSCALEFINE        0x69
           =2 #define TW88_YUSCALEFINE        0x6a
           =2 
           =2 //Power Mgt
           =2 #define POWER_OFF                       0
           =2 #define POWER_STANDBY           1
           =2 #define POWER_SUSPEND           2
           =2 #define POWER_ON                        3
           =2 
           =2 //void TWChipsDetect(void);
           =2 void SetAutoDetectStd(void);
           =2 void ClearAutoDetectStd(BYTE);
           =2 void I2CDeviceInitialize( CODE_P BYTE *RegSet);
           =2 
           =2 
           =2 //0x63.. Register Group
           =2 #define GROUP_YCbCr                     0x40
           =2 #define GROUP_RGB                       0
           =2 #define SelectPanelAttrRegGroup(A)                              WriteTW88(0x70, (ReadTW88(0x70) & 0xbf) | A)
           =2 
           =2 //#if defined TW8801 || defined TW8803
           =2 #define FB_MAIN         2
           =2 #define FB_NORMAL       1
           =2 #define FB_RGB          0
           =2 //void SetFBmode( BYTE mode );
           =2 //#endif // TW8801
           =2 
           =2 
           =2 //=============================================================================
           =2 //                                   LCD Functions   
           =2 //=============================================================================
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 147 

           =2 BYTE GetLCDPowerState(void);
           =2 void SetLCDPowerState(BYTE dat);
           =2 
           =2 BYTE IsFreeRun(void);
           =2 void PanelFreeRun(BYTE on);
           =2 void PanelBlack(BYTE on);
           =2 
           =2 void PanelMute(BYTE on);
           =2 
           =2 void LCDPowerON(BYTE mute); 
           =2 void LCDPowerOFF(void);
           =2 #ifdef Hs_debug
           =2 void LCDPower(void);
           =2 #endif
           =2 void DPMSmodeOFF(void);
           =2 void DPMSmodeON(void);
           =2 //=============================================================================
           =2 //                              Get PC Parameter Functions   
           =2 //=============================================================================
           =2 void GetInitPanelAttribute1(void);
           =2 //void GetInitPanelAttribute2(void);
           =2 void DefaultPanelAttributeForVideo(void);
           =2 void SetPVR(WORD pvr);
           =2 void SetPHR(WORD phr);
           =2 WORD GetPVR(void);
           =2 WORD GetPHR(void);
           =2 WORD GetHPN(void);
           =2 WORD GetVPN(void);
           =2 
           =2 //WORD GetVactive(void);
           =2 
           =2 WORD GetHstart(void);
           =2 WORD GetHend(void);
           =2 WORD GetVstart(void);
           =2 WORD GetVend(void);
           =2 void TuneLineBuffer(BYTE field);
           =2 void TuneLineBuffer4Video(BYTE field);
           =2 
           =2 #if defined (SUPPORT_DTV)
           =2 void SetCoarstForDTV(BYTE en);
           =2 #endif
           =2 
           =2 WORD GetHactiveStart(void);
           =2 WORD GetHactiveEnd(void);
           =2 WORD GetVactiveStart(void);
           =2 //WORD GetVactiveLen(void);
           =2 BYTE GetVBackPorch(void);
           =2 void SetVBackPorch(BYTE val);
           =2 WORD GetPHP(void);
           =2 void SetPHP(WORD php);
           =2 void SetPVP(WORD period);
           =2 WORD GetPVP(void);
           =2 //void SetPanelRelatedRegisters(void);
           =2 //BYTE ChangedHPN(void);
           =2 //WORD GetVSUD(void);
           =2 
           =2 void SetDefaultPLL(void);
           =2 //void SetDefaultFPHSperiod(void);
           =2 //BYTE CalcPHP(DWORD ppf, BYTE tol);
           =2 //void ChangeFPHSperiod4DecoderInput(WORD vsud, BYTE tol);
           =2 
           =2 //-------------------------------------------------------------------
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 148 

           =2 //                  Set Active Region Functions
           =2 //-------------------------------------------------------------------
           =2 void SetHactiveStart(WORD hstart);
           =2 void SetHactiveEnd(WORD hend);
           =2 void SetVactiveStart(WORD vstart);
           =2 //void SetVactiveLen(WORD van, WORD vstart);
           =2 void SetVactiveLen(WORD van);
           =2 //=============================================================================
           =2 //                         Set Measurement Window Functions   
           =2 //=============================================================================
           =2 void SetMeasureWindowH(WORD start, WORD stop);
           =2 void SetMeasureWindowV(WORD start, WORD stop);
           =2 //=============================================================================
           =2 //                              Video Input Functions   
           =2 //=============================================================================
           =2 BYTE IsVideoInput(void);
           =2 BYTE DetectDecoderInput(void);
           =2 //=============================================================================
           =2 //
           =2 //=============================================================================
           =2 void AutoPHPCalEnable(void);
           =2 void AutoPHPCalDisable(void);
           =2 
           =2 void MakeStartInt(void);
           =2 void AVGAInput(void);
           =2 void DVIInput(void);
           =2 //void DVGAInput(void);
           =2 void DisableDVGA(void);
           =2 
           =2 void COMPOSITE1Input(void);
           =2 void COMPOSITE2Input(void);
           =2 void COMPOSITE3Input(void);
           =2 
           =2 void SVIDEOInput(void);
           =2 void COMPONENTInput(void);
           =2 void ANALOGDTVInput(void);
           =2 void DTVInput(void);
           =2 void TVInput(void);
           =2 void SCARTInput(void);
           =2 
           =2 //=============================================================================
           =2 //                          Measurement Functions
           =2 //=============================================================================
           =2 ///void SetPanelBitOrder(BYTE swap);
           =2 //void SetPanelSingleDouble(BYTE single);
           =2 
           =2 BYTE MeasureAndWait(BYTE flag);
           =2 
           =2 //WORD GetHCounter1(BYTE field);
           =2 //void SetHInitial(BYTE field, WORD counter);
           =2 //=============================================================================
           =2 //                          Invert Polarity Functions
           =2 //=============================================================================
           =2 void InvertHSYNCPolarity(void);
           =2 void InvertVSYNCPolarity(void);
           =2 //=============================================================================
           =2 //            Interrupt / SW Reset Control Functions
           =2 //=============================================================================
           =2 void SetInt(void);
           =2 //void ClearInt(void);
           =2 void SetEnDet(void);
           =2 void ClearEnDet(void);
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 149 

           =2 void SWReset(void);
           =2 //void ClearSYNCLossStatus(void);
           =2 //void ClearSYNCChangeStatus(void);
           =2 //=============================================================================
           =2 //
           =2 //=============================================================================
           =2 BYTE IsBypassmode(void);
           =2 //BYTE IsInteraced(void);
           =2 void Clear_bypass(void);
           =2 void MaskOnSYNCInt(void);
           =2 void MaskOffSYNCInt(void);
           =2 //=============================================================================
           =2 //                                    ZoomControl
           =2 //=============================================================================
           =2 void BypassZoom(void);
           =2 
           =2 void XscaleU(DWORD scale);
           =2 void XscaleD(DWORD scale);
           =2 void XScale2(DWORD scale);
           =2 void YScale2(DWORD scale);
           =2 WORD GetYScale(void);
           =2 //=============================================================================
           =2 //
           =2 //=============================================================================
           =2 WORD GetHSYNCPulse(void);
           =2 WORD GetVSYNCPulse(void);
           =2 //#if defined TW8801 || defined TW8803
           =2 WORD GetRelativePosition(void);
           =2 //#endif
           =2 //=============================================================================
           =2 //                                                              MISC2 for decoder
           =2 //=============================================================================
           =2 #define BLUE_DECODER            2
           =2 #define BLACK_DECODER           0
           =2 
           =2 BYTE ForceDecoderOutput(BYTE color);
           =2 BYTE ClearForcedDecoderOutput(void);
           =2 //=============================================================================
           =2 //                                                              CC and EDS
           =2 //=============================================================================
           =2 BYTE GetCCStatus(void);
           =2 void DisableCC(void);
           =2 void EnableCC(void);
           =2 BYTE GetCCData(void);
           =2 BYTE IsCCEnabled(void);
           =2 void EnableEDS(void);
           =2 void DisableEDS(void);
           =2 void RecoverCCOverflow(void);
           =2 
           =2 #define CCFIFOHalfFull()                        (ReadDecoder(CSTATUS) & 0x04)
           =2 //=============================================================================
           =2 //                                                              Internal PLL
           =2 //=============================================================================
           =2 BYTE GetPOST(void);
           =2 void SetPLLS(BYTE plls);
           =2 BYTE GetREFDM(void);
           =2 void SetREFDM(BYTE refdm);
           =2 DWORD GetFBDN(void);
           =2 void SetFBDN(WORD fbdn, BYTE vcsel);
           =2 DWORD GetPPF(void);
           =2 void ChangeInternPLL(DWORD _PPF);
           =2 
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 150 

           =2 //=============================================================================
           =2 //                                                              Macros for attribute
           =2 //=============================================================================
           =2 //#define       GetOSDTransReg()                                                ReadTW88(0xAE)
           =2 //#define SetOSDTransReg(AlphaV)                                        WriteTW88(0xAE, (BYTE)AlphaV )
           =2 
           =2 #define GetPanelContrastReg(gccolor)                    ReadTW88(0x71+gccolor)
           =2 #define SetPanelContrastReg(sccolor, cval)              WriteTW88(0x71+sccolor,cval)
           =2 
           =2 #define GetPanelBrightnessReg(gbcolor)                  ReadTW88(0x74+gbcolor);
           =2 #define SetPanelBrightnessReg(sbcolor, bval)    WriteTW88(0x74+sbcolor,bval);
           =2 
           =2 #define SetDTVBrightnessReg(bval)                               WriteTW88(0x74,bval);
           =2 
           =2 #define GetPanelSaturationReg(gbcolor)                  ReadTW88(0x72+gbcolor);
           =2 #define SetPanelSaturationReg(sbcolor, bval)    WriteTW88(0x72+sbcolor,bval);
           =2 
           =2 #define SetPanelSharpnessReg(bval)                              WriteTW88(0x78,((bval&0x07)|0x38) );
           =2 
           =2 #define SetPanelHueReg(bval)                                    WriteTW88(0x70, (ReadTW88(0x70) & 0xc0 | (bval)) );
           =2 
           =2 #define GetVideoContrastReg()                                   ReadDecoder(CONTRAST)
           =2 #define SetVideoContrastReg(vcval)                              WriteDecoder(CONTRAST, vcval)
           =2 
           =2 #define GetVideoBrightnessReg()                                 ReadDecoder(BRIGHT)
           =2 #define SetVideoBrightnessReg(vbval)                    WriteDecoder(BRIGHT, vbval )
           =2 
           =2 #define GetVideoSaturationReg(gvstype)                  ReadDecoder(SAT_U+gvstype)
           =2 #define SetVideoSaturationReg(svstype, vsval)   WriteDecoder(SAT_U+svstype,     vsval)
           =2 
           =2 #define GetVideoHueReg()                                                ReadDecoder(HUE)
           =2 #define SetVideoHueReg(vhval)                                   WriteDecoder(HUE,       vhval )
           =2 
           =2 #define GetVideoSharpnessRegDef                                 (ReadDecoder(SHARPNESS) & 0x0f) 
           =2 
           =2 #define GetVideoSharpnessReg()                                  GetVideoSharpnessRegDef
           =2 //#define       SetVideoSharpnessReg(vshval)                    WriteDecoder(SHARPNESS, vshval )
           =2 #define SetVideoSharpnessReg(vshval)                    WriteDecoder(SHARPNESS, ((ReadDecoder(SHARPNESS) & 0xf0) | (vshval 
             -& 0x0f) ) );
           =2 
           =2 #ifdef TW9908
           =2 #define SetVideoVPeakingReg(vshval)
           =2 #else
           =2 #define SetVideoVPeakingReg(vshval)                             WriteDecoder(V_PEAKING, ((ReadDecoder(V_PEAKING) & 0xf8) | (vshval 
             -& 0x07) ) );
           =2 #endif
           =2 
           =2 #define SetVideoHfilterReg(val)                                 WriteDecoder(HFILTER, ((ReadDecoder(HFILTER) & 0xf8) | (val & 0x07) )|
             -0x08 );
           =2 //----------------------------------------------------------------------------------
           =2 //color type
           =2 #define RED             0
           =2 #define GREEN   1
           =2 #define BLUE    2
           =2 #define WHITE   3
           =2 //saturation type
           =2 #define U_SAT   0
           =2 #define V_SAT   1
           =2 
           =2 //Alpha Blending Level
           =2 #define _0              0
           =2 #define _25             0x12
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 151 

           =2 #define _37_5   0x13
           =2 #define _50             0x14
           =2 #define _100    0x18
           =2 
           =2 
           =2 /*
           =2 BYTE Mapping( int fromValue, struct RegisterInfo fromRange,
           =2                                  int * toValue, struct RegisterInfo toRange );
           =2 */
           =2 BYTE Mapping1( int fromValue, CODE_P struct RegisterInfo *fromRange,
           =2                                  int * toValue, CODE_P struct RegisterInfo *toRange );
           =2 #ifdef KEILC
           =2 #define Mapping2( A, B, C, D )                  Mapping1( A, B, C, D )
           =2 #define Mapping3( A, B, C, D )                  Mapping1( A, B, C, D )
           =2 #else
           =2 BYTE Mapping2( int fromValue, IDATA_P struct RegisterInfo *fromRange,
           =2                                  int * toValue, CODE_P struct RegisterInfo *toRange );
           =2 BYTE Mapping3( int fromValue, CODE_P struct RegisterInfo *fromRange,
           =2                                  int * toValue, IDATA_P struct RegisterInfo *toRange );
           =2 #endif
           =2 
           =2 BYTE GetAttributesFromNTSCSettings(BYTE index);
           =2 
           =2 #endif  // __TW88__
 324      =2  
   7      =1  #include "measure.h"
   1      =2  #ifndef __MEASURE__
           =2 #define __MEASURE__
           =2 
           =2 #define EE_DOS                          0
           =2 
           =2 #define EE_SP1                          1
           =2 #define EE_SP2                          2
           =2 #define EE_SP3                          3
           =2 
           =2 #define EE_VGA_60                       4
           =2 #define EE_VGA_66                       5
           =2 #define EE_VGA_70                       6
           =2 #define EE_VGA_72                       7
           =2 #define EE_VGA_75                       8
           =2 #define EE_VGA_85                       9
           =2 
           =2 #define EE_SVGA_56                      10
           =2 #define EE_SVGA_60                      11
           =2 #define EE_SVGA_70                      12
           =2 #define EE_SVGA_72                      13
           =2 #define EE_SVGA_75                      14
           =2 #define EE_SVGA_85                      15
           =2 
           =2 #define EE_832_75                       16
           =2 
           =2 #define EE_XGA_60                       17
           =2 #define EE_XGA_70                       18
           =2 #define EE_XGA_72                       19
           =2 #define EE_XGA_75                       20
           =2 #define EE_XGA_85                       21
           =2 
           =2 #define EE_1152_60                      22
           =2 #define EE_1152_70                      23
           =2 #define EE_1152_75                      24
           =2 
           =2 #define EE_SXGA_60                      25
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 152 

           =2 #define EE_SXGA_70                      26
           =2 #define EE_SXGA_75                      27
           =2 
           =2 #define EE_RGB_480P                     28
           =2 #define EE_RGB_720P                     29
           =2 #define EE_RGB_720P50           30
           =2 #define EE_RGB_1080I            31
           =2 #define EE_RGB_1080I50A         32
           =2 #define EE_RGB_1080I50B         33
           =2 #define EE_RGB_480I                     34
           =2 #define EE_RGB_576I                     35
           =2 #define EE_RGB_576P                     36
           =2 
           =2 #define EE_YPbPr_480P           37
           =2 #define EE_YPbPr_720P           38
           =2 #define EE_YPbPr_720P50         39
           =2 #define EE_YPbPr_1080I          40
           =2 #define EE_YPbPr_1080I50A       41
           =2 #define EE_YPbPr_1080I50B       42
           =2 #define EE_YPbPr_480I           43
           =2 #define EE_YPbPr_576I           44
           =2 #define EE_YPbPr_576P           45
           =2 
           =2 #define EE_PC_MAX                       46
           =2 
           =2 #define EE_PC_NO_SIGNAL         0xfe
           =2 #define EE_PC_UNKNOWN           0xff
           =2 
           =2 struct _PCMDATA {
           =2         CODE_P BYTE  Support;
           =2         CODE_P WORD  HAN;
           =2         CODE_P WORD  VAN;
           =2         CODE_P WORD  IVF;
           =2         CODE_P WORD  CLOCK;
           =2         CODE_P WORD  low;
           =2         CODE_P WORD  high;
           =2         CODE_P WORD  Hstart;
           =2         CODE_P WORD  Vstart;
           =2         CODE_P WORD  IPF;               // 0.1MHz
           =2         CODE_P WORD  PPF;               // 0.1MHz
           =2         CODE_P BYTE  VBack;
           =2 };
           =2 #ifndef AUTOCALC_PC
           =2 
           =2 #ifdef SUPPORT_DTV
           =2 struct _DTVMDATA {
           =2         CODE_P BYTE Reg62;
           =2         CODE_P BYTE RegBC;
           =2         CODE_P BYTE RegBD;
           =2         CODE_P BYTE RegBE;
           =2         CODE_P WORD PHP;
           =2 };
           =2 #endif
           =2 #endif
           =2 #if defined     XGA
           =2         #define MAX_PPF          90000000
           =2 #elif defined SXGA
           =2         #define MAX_PPF         135000000
           =2 #elif defined WXGA
           =2         #define MAX_PPF          90000000
           =2 #elif defined WVGA
           =2         #define MAX_PPF          90000000
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 153 

           =2 #elif defined VGA
           =2         #define MAX_PPF          50000000
           =2 #elif defined SVGA
           =2         #define MAX_PPF          80000000
           =2 #elif defined QVGA
           =2         #define MAX_PPF          30000000
           =2 #elif defined WQVGA
           =2         #define MAX_PPF          30000000
           =2 #endif
           =2 
           =2 extern BYTE cLastSyncLoss;
           =2 extern BYTE PcMode;
           =2 
           =2 void CompLT170E2(void);
           =2 
           =2 WORD gap(WORD a, WORD b);
           =2 
           =2 //===================================================================
           =2 WORD GetHpnVpn(BYTE);
           =2 
           =2 WORD ConvertBasedOnInput(WORD dat);
           =2 
           =2 BYTE IsDTVInput(void);
           =2 
           =2 void SetVValueForPanel(WORD vstart);
           =2 BYTE SetHValueForPanel(void);
           =2 BYTE GetActiveRegion(void);
           =2 
           =2 BYTE DetectAndSetForVGAInput(BYTE);
           =2 #ifdef SUPPORT_DTV
           =2 BYTE DetectAndSetForDTVInput(BYTE);
           =2 #endif
           =2 void CheckPCinput(void);
           =2 void CheckDTVinput(void);
           =2 
           =2 WORD GetCoarseValue(void);
           =2 BYTE GetPhaseValue(void);
           =2 WORD SetPCCoarseValue(BYTE val);
           =2 BYTE SetPhaseValue(BYTE val);
           =2 
           =2 void DisplayResultAndSetActiveRange(void);
           =2 
           =2 //=============================================================================
           =2 /-                    PC Screen Position Move Functions
           =2 //=============================================================================
           =2 void MoveActiveVpos(BYTE val);          // Up/Down
           =2 void MoveActiveHpos(BYTE val);          // Left/Right
           =2 
           =2 BYTE GetVPosition(void);
           =2 BYTE SetVPosition(BYTE val);
           =2 BYTE GetHPosition(void);
           =2 BYTE SetHPosition(BYTE val);
           =2 
           =2 void ResetPCValue(void);
           =2 
           =2 CODE_P BYTE *GetPCInputSourceName(void);
           =2 BYTE AutoAdjust(void);
           =2 
           =2 #endif // __MEASURE__
   8      =1  #include "dispinfo.h"
   1      =2  #ifndef __DISPINFO__
           =2 #define __DISPINFO__
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 154 

           =2 //==================================================================
           =2 //                              Display Information
           =2 //==================================================================
           =2 #if (defined WQVGA) && (defined ANALOG_7INCH)
           =2 #define         INPUTINFO_ZOOM          WINZOOMx1
           =2 #define         LOGO_ZOOM                       WINZOOMx3
           =2 
           =2 #else // (defined WQVGA) && (defined SHARP_LQ043T3DX02)
           =2 #define         INPUTINFO_ZOOM          WINZOOMx2
           =2 #define         LOGO_ZOOM                       WINZOOMx2
           =2 #endif
           =2 //#define               VOL_ZOOM                        WINZOOMx4
           =2 #define         MUTE_ZOOM                       WINZOOMx3
           =2 #define         TVCHN_ZOOM                      WINZOOMx4
           =2 #define         RATINGINFO_ZOOM         WINZOOMx3
           =2 #define     SCANTV_ZOOM                 WINZOOMx2               //ljy012304
           =2 #define         PCINFO_ZOOM                     WINZOOMx2
           =2 #define     BAR_ZOOM                    WINZOOMx2
           =2 
           =2 
           =2 #define DVRStatus_OSDWIN        4 
           =2 #define DVRStatus_ADDR  195 
           =2 
           =2 extern  IDATA BYTE  DisplayedOSD;
           =2 
           =2 
           =2 void ClearDisplayedOSD( BYTE newd );
           =2 void SetDisplayedOSD( BYTE newd );
           =2 BYTE GetDisplayedOSD(void);
           =2 void ClearOSDInfo(void);
           =2 
           =2 void DisplayInput(void);
           =2 BYTE ClearInput(void);
           =2 
           =2 
           =2 void DisplayLogo(void);
           =2 void ClearLogo(void);
           =2 
           =2 void DisplayPCInfo(BYTE CODE *ptr);
           =2 void ClearPCInfo(void);
           =2 void DisplayAutoAdjust(void);
           =2 void ClearAutoAdjust(void);
           =2 
           =2 
           =2 void DisplayVol(void);
           =2 #if 0
           =2 void DisplayMuteInfo(void);
           =2 #endif
           =2 void ClearMuteInfo(void);
           =2 BYTE CheckAndClearOSD(void);
           =2 
           =2 //==================================================================
           =2 //                                              TV Info
           =2 //==================================================================
           =2 
           =2 BYTE ClearTVInfo(void);
           =2 
           =2 #endif  // __DISPINFO__
   9      =1  #include "osdbasic.h"
   1      =2  //osd_basic.h
   2      =2  //LJY11012001
   3      =2  #ifndef __OSD_BASIC__
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 155 

           =2 #define __OSD_BASIC__
           =2 
           =2 // osd_basic.h
           =2 // char code
           =2 //#include "apilib.h"
           =2 
           =2 //ljy052903
           =2 //definition for internal OSD
           =2 #define FONT_WIDTH_TW88                 12
           =2 #define FONT_HEIGHT_TW88                18
           =2 #define PIXS_PER_XSTEP_TW88             8
           =2 #define LINES_PER_YSTEP_TW88    4
           =2 #define MAX_OSDWINDOW_TW88              8
           =2 
           =2 // Using TW88 OSD for Menu
           =2 #define FONT_WIDTH                      12
           =2 #define FONT_HEIGHT                     18
           =2 #define PIXS_PER_XSTEP          8
           =2 #define LINES_PER_YSTEP         4
           =2 #define MAX_OSDWINDOW           4
           =2 
           =2 #define MAX_FONT_BYTES          27
           =2 #define RAMFONT         0xFE
           =2 #define ROMFONT         0xFF
           =2 #define NO_UDFONT                       226 
           =2 
           =2 #define FONT_ROM        1
           =2 #define FONT_RAM        2
           =2 
           =2 
           =2 /////////////////////////////////
           =2 // Old Registers...
           =2 /*
           =2         #define TW88_WIN1ATTR           0x76
           =2         #define TW88_WIN1XSTART         0x77
           =2         #define TW88_WIN1YSTART         0x78
           =2         #define TW88_WIN1WIDTH          0x79
           =2         #define TW88_WIN1HEIGHT         0x7a
           =2         #define TW88_WIN1BRDATTR        0x7b
           =2         #define TW88_WIN1BRDWIDTH       0x7c
           =2         #define TW88_WIN1BRDHEIGHT      0x7d
           =2         #define TW88_WIN1XSPACE         0x7e            // between characters.
           =2         #define TW88_WIN1YSPACE         0x7f
           =2         #define TW88_WIN1SADDR          0x80            // starting address of OSD ram for Windows 1
           =2 */
           =2 /////////////////////////////////
           =2 
           =2 // OSD
           =2 #define TW88_ENABLERAM          0x94    // TW8804C
           =2 #define TW88_FONTRAMADDR        0x99    // TW8804C
           =2 #define TW88_FONTRAMDATA        0x9a    // TW8804C
           =2 #define TW88_OSDRAMADDRHI       0x95    // TW8804C
           =2 #define TW88_OSDRAMADDRLO       0x96    // TW8804C
           =2 #define TW88_OSDRAMDATAHI       0x97    // TW8804C
           =2 #define TW88_OSDRAMDATALO       0x98    // TW8804C
           =2 #define TW88_MULTISTART         0x9b    // TW8804C
           =2 #define TW88_OSDLOCKUPSEL       0x9c
           =2 #define TW88_WINNUM                     0x9e    // TW8804C
           =2 #define TW88_WINATTR            0x9f    //
           =2 #define TW88_WINXSTART          0xa1    //
           =2 #define TW88_WINYSTART          0xa2    //
           =2 #define TW88_WINSTART_HI        0xa0    //
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 156 

           =2 #define TW88_WINWIDTH           0xa3    //
           =2 #define TW88_WINHEIGHT          0xa4    //
           =2 #define TW88_WINBRDATTR         0xa5    //
           =2 #define TW88_WINBRDWIDTH        0xa6    //
           =2 #define TW88_WINBRDHEIGHT       0xa7    //
           =2 #define TW88_WINSPACE           0xa8    // between characters.
           =2 #define TW88_WINZOOM            0xa9    //
           =2 #define TW88_WINSADDRHI         0xa9    // starting address of OSD ram for Windows 1
           =2 #define TW88_WINSADDRLO         0xaa    // starting address of OSD ram for Windows 1
           =2 
           =2 #define TW88_WINSHADOW          0xab    //
           =2 #define TW88_WINBLENDING        0xac    //
           =2 #define TW88_WINCHEFFECT        0xad    //
           =2 
           =2 
           =2 //Attributes for OSD
           =2 #define WINZOOMx1                       0x01
           =2 #define WINZOOMx2                       0x02
           =2 #define WINZOOMx3                       0x03
           =2 #define WINZOOMx4                       0x04
           =2 #define SHOW                            0x08    
           =2 
           =2 #define EXTENDED_COLOR          0x80
           =2 #define BG_COLOR_BLACK          0x00    //For background color of window, border, and char. 
           =2 #define BG_COLOR_RED            0x40    
           =2 #define BG_COLOR_GREEN          0x20
           =2 #define BG_COLOR_YELLOW         0x60
           =2 #define BG_COLOR_BLUE           0x10
           =2 #define BG_COLOR_MAGENTA        0x50
           =2 #define BG_COLOR_CYAN           0x30
           =2 #define BG_COLOR_WHITE          0x70
           =2 #define BG_COLOR_TRANS          0x80    
           =2 #define BG_COLOR_MASK           0xf0    
           =2 
           =2 #define CH_COLOR_BLACK          0x00    //For color of char.
           =2 #define CH_COLOR_RED            0x04    
           =2 #define CH_COLOR_GREEN          0x02
           =2 #define CH_COLOR_YELLOW         0x06
           =2 #define CH_COLOR_BLUE           0x01
           =2 #define CH_COLOR_MAGENTA        0x05
           =2 #define CH_COLOR_CYAN           0x03
           =2 #define CH_COLOR_WHITE          0x07
           =2 #define CH_BLINK                        0x08    
           =2 #define CH_COLOR_MASK           0x0f    
           =2 
           =2 #define CL_BLACK                        0x00    //For color of char.
           =2 #define CL_BLUE                         0x01
           =2 #define CL_GREEN                        0x02
           =2 #define CL_CYAN                         0x03
           =2 #define CL_RED                          0x04    
           =2 #define CL_MAGENTA                      0x05
           =2 #define CL_YELLOW                       0x06
           =2 #define CL_WHITE                        0x07
           =2 #define CL_BLINK                        0x08    
           =2 
           =2 // 0x76*(WindowNo*0x0b)
           =2 #define WINDOW_DISABLE          0x00
           =2 #define WINDOW_ENABLE           0x01
           =2 #define WINDOW_3D_ENABLE    0x04
           =2 #define WINDOW_3D_BOTTOM    0x08
           =2 #define WINDOW_3D_TOP       0x00
           =2 #define WINDOW_TRANS_ENABLE 0x80
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 157 

           =2 
           =2 #define WINBDCOLOR_ENABLE       0x80
           =2 #define WINBDCOLOR_EXTENT       0x80
           =2 
           =2 
           =2 #define WINBLENDING_DISABLE 0x00
           =2 #define WINBLENDING_BACK    0x10
           =2 #define WINBLENDING_FORE    0x20
           =2 #define WINBLENDING_ALL     0x30
           =2 
           =2 #define WINSHADOW_ENABLE        0x80
           =2 // 0xc8*WindowNo
           =2 #define WIN_MULTICOLOR_ENABLE 0x20
           =2 #define WIN_CH_EFFECT_ENABLE  0x10
           =2 #define WIN_CH_EFFECT_SHADOW  0x08
           =2 
           =2 
           =2 
           =2 ///////// TW8804C /////////////
           =2 // Window Number
           =2 #define WINNUM1                         1
           =2 #define WINNUM2                         2
           =2 #define WINNUM3                         3
           =2 #define WINNUM4                         4
           =2 
           =2 // Index 0x9f Defination
           =2 #define WIN_BG_COLOR_EX         0x80
           =2 #define WIN_BG_COLOR_EX0        0x00
           =2 #define WIN_3D_TYPE                     0x08
           =2 #define WIN_3D_TYPE0            0x00
           =2 #define WIN_3D_EN                       0x04
           =2 #define WIN_3D_EN0                      0x00
           =2 #define WIN_3D_LEVEL            0x02
           =2 #define WIN_EN                          0x01
           =2 #define WIN_EN0                         0x00
           =2 
           =2 // Index 0xa5 Defination
           =2 #define WIN_BD_EN                       0x80
           =2 #define WIN_BD_EN0                      0x00
           =2 #define WIN_BD_WIDTH(a)         a
           =2 
           =2 // Index 0xa6 Defination
           =2 #define WIN_BD_COLOR_EX         0x80
           =2 #define WIN_BD_COLOR_EX0        0x00
           =2 #define WIN_H_BD_W(a)           a
           =2 
           =2 // Index 0xa7 Defination
           =2 #define WIN_V_BD_W(a)           a
           =2 
           =2 // Index 0xa8
           =2 #define WIN_CH_VSPACE(a)        (a<<4)
           =2 #define WIN_CH_HSPACE(a)        a
           =2 
           =2 // Index 0xa9 Defination
           =2 #define WIN_VZOOM(a)            (a-1)
           =2 #define WIN_HZOOM(a)            (a-1)
           =2 #define WIN_SADDR(a)            a
           =2 
           =2 // Index 0xab
           =2 #define WIN_SHADOW_EN           0x80
           =2 #define WIN_SHADOW_EN0          0x00
           =2 #define WIN_SHADOW_W(a)         a
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 158 

           =2 
           =2 // ad
           =2 #define WIN_SHADOW_COLOR_EX             0x80
           =2 #define WIN_SHADOW_COLOR_EX0    0x00
           =2 #define WIN_MULTI_EN                    0x40
           =2 #define WIN_MULTI_EN0                   0x00
           =2 #define WIN_V_EXT_EN                    0x20
           =2 #define WIN_V_EXT_EN0                   0x00
           =2 #define WIN_CH_BDSH_SEL(a)              a
           =2 #define SEL_BORDER                              0
           =2 #define SEL_SHADOW                              1
           =2 #define WIN_CH_BDSH_COLOR_EX    0x08
           =2 #define WIN_CH_BDSH_COLOR_EX0   0x00
           =2 
           =2 #define OSD_Win_Num(a)                  0x9e, a-1
           =2 #define OSD_Win_Start_Addr              0xa0
           =2 #define OSD_Win_Attr(a)                         a
           =2 #define OSD_Win_Start(h,v)                       (BYTE)(((WORD)h>>8) | (((WORD)v>>8)<<4)),(BYTE)h, (BYTE)v
           =2 #define OSD_Win_Width(a)                        a
           =2 #define OSD_Win_Height(a)                       a
           =2 #define OSD_Win_Border(a)                       a
           =2 #define OSD_Win_HBorder(a)                      a
           =2 #define OSD_Win_VBorder(a)                      a
           =2 #define OSD_Win_CH_Space(a)                     a
           =2 #define OSD_Win_ZM_SAddr(h,v,a)         ((h<<6)|(v<<4)|(a>>8)), (BYTE)a
           =2 #define OSD_Win_Shadow(a)                       a
           =2 #define OSD_Win_Blending(a)                     a
           =2 #define OSD_Win_CH_BorderShadow(a)      a
           =2 
           =2 
           =2 #define SetOSDWindowNum(winno)          WriteTW88(TW88_WINNUM, winno-1)
           =2 
           =2 //#define  OSD_Window_Attr(Trans_en,Color,3D_Type,3D_en,W_en)       (((( Trans_en | Color ) | 3D_Type) | 3
             -D_en) | W_en)
           =2 #define  OSD_Window_Attr(a,b,c,d,e)                                                                     (((( a | b ) | c) | d) | e)
           =2 #define  OSD_WShadow_Attr(W_Shadow_en,Color,Width)                                      W_Shadow_en | Color | Width
           =2 //#define  OSD_Blending(en,level)                                                                               en | (level & 0x0f)
           =2 //#define  OSD_Ch_Effect(Multi, Effect_En, ShadowBorder, Color)         Multi | Effect_En | ShadowBorder | Color 
             - 
           =2 
           =2 
           =2 struct OSDStrInfo 
           =2 {
           =2         BYTE    cnt;
           =2         WORD    addr;
           =2         BYTE    attr;
           =2         DWORD   str;
           =2 };
           =2 /*
           =2 struct BarInfo {
           =2         struct RegisterInfo BarCnt;
           =2         BYTE    winno;
           =2         BYTE    xoff;
           =2         BYTE    yoff;
           =2         BYTE    color;
           =2         int             bar_cnt;
           =2 };
           =2 */
           =2 struct FontData {
           =2         BYTE    font[27];
           =2 } ;
           =2 
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 159 

           =2 //====================================================================
           =2 //  Internal OSD Function
           =2 void CopyCharToOSDRAM_TW88(BYTE Addr, BYTE attr, BYTE ch);
           =2 void CopyUDCharToOSDRAM_TW88(BYTE Addr, BYTE attr, BYTE ch);
           =2 //BYTE GetOSDWindowWidth_TW88(BYTE winno);
           =2 WORD GetOSDWindowSA_TW88(BYTE winno);
           =2 void SetOSDWindowX_TW88(BYTE winno, BYTE x);
           =2 void SetOSDWindowY_TW88(BYTE winno, BYTE y);
           =2 void SetOSDWindowWidth_TW88(BYTE winno, BYTE w);
           =2 void SetOSDWindowSA_TW88(BYTE winno, WORD sa);
           =2 
           =2 void SetOSDItalicsAndUnderline(BYTE italics, BYTE underline);
           =2 
           =2 void SetOSDHBorderWidth_TW88(BYTE winno, BYTE w);
           =2 //BYTE GetOSDWindowColor_TW88(BYTE winno);
           =2 void SetOSDWindowColor_TW88(BYTE CCWin, BYTE color);
           =2 void EnableOSDRAMAndChangeFont(BYTE type);
           =2 void WriteCharToOSDRAM(WORD addr, BYTE ch, BYTE attr);
           =2 
           =2 
           =2 void ShowOSDWindowAll(BYTE on);
           =2 void ShowOSDWindow_TW88(BYTE winno, BYTE onoff);
           =2 void ClearOSD_TW88(void);
           =2 //void CreateOSDWindow_TW88(BYTE winno, BYTE x, BYTE y, BYTE w, BYTE h, WORD sa, BYTE attr);
           =2 /*not yet!!
           =2 //ljy012304...CC_ADJUST_POS
           =2 void SetOSDWindowXS_TW88(BYTE winno, BYTE xs);
           =2 void SetOSDWindowYS_TW88(BYTE winno, BYTE ys);
           =2 */
           =2 
           =2 //====================================================================
           =2 //      OSDMenu Functions
           =2 
           =2 //--------------------------------------------------------------------
           =2 //      Functions used in only Menu
           =2 #define         CONVERT_CODE                    0x80
           =2 
           =2 void InitOSDWindow(BYTE *ptr);
           =2 
           =2 WORD GetOSDWindowX(BYTE winno);
           =2 WORD GetOSDWindowY(BYTE winno);
           =2 BYTE CreateOSDWindowOutline(BYTE winno, BYTE w, BYTE color);
           =2 void CreateOSDMenuWindow(BYTE, BYTE, BYTE, BYTE, BYTE, BYTE, BYTE);
           =2 void ClearOSDLine(BYTE winno, BYTE sx, BYTE sy, BYTE cnt, BYTE attr);
           =2 void WriteStringToAddr(WORD addr, BYTE *str, BYTE cnt);
           =2 void DrawAttrString(WORD addr, BYTE *str, BYTE cnt);
           =2 void DrawAttrCnt(WORD addr, BYTE color, BYTE cnt);
           =2 void ClearDataCnt(WORD, BYTE);
           =2 #define         SetOSDWindowX(A, B)                                                     SetOSDWindowX_TW88(A, B)
           =2 #define     SetOSDWindowY(A, B)                                                 SetOSDWindowY_TW88(A, B)
           =2 
           =2 
           =2 //--------------------------------------------------------------------
           =2 //      Functions used in Menu and others
           =2 #define         ShowOSDWindow(A, B)                                                     ShowOSDWindow_TW88(A, B)
           =2 #define     ClearOSD()                                                                  ClearOSD_TW88()
           =2 
           =2 //================================================================
           =2 //      Font
           =2 void DownloadUDFont(void);
           =2 #ifdef Hs_debug
           =2 void DisplayROMFont(BYTE);
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 160 

           =2 void DisplayRAMFont(BYTE);
           =2 #endif
           =2 void DownloadFont(BYTE cod, CODE_P BYTE *fontdata);
           =2 //void DisplayGrid( void );
           =2 //void DisplayCone( void );
           =2 //void DisplayJapanese( void );
           =2 void TestRAMFont( void );
           =2 #ifdef BANKING
           =2 void DisplayMGrid( BYTE );
           =2 void DisplayMessage( void );
           =2 void DisplayChinese( void );
           =2 void DisplayJapanese( void );
           =2 void DisplayKorean( void );
           =2 void DisplayGridBank0( BYTE n );
           =2 void DisplayGridBank1( BYTE n );
           =2 #endif
           =2 
           =2 //================================================================
           =2 //      OSD COLOR
           =2 void Change_OSDColorLookup(void);
           =2 void Reset_OSDColorLookup(void);
           =2 
           =2 //====================================================================
           =2 //                              Conversion
           =2 //====================================================================
           =2 BYTE utoa(WORD value, BYTE *str, BYTE radix);
           =2 BYTE ltoa_K(long value, BYTE *str, BYTE);
           =2 BYTE strlen( BYTE *str );
           =2 
           =2 #define CStrlen(A)                              strlen(A)
           =2 
           =2 void WaitEndofDisplayArea(void);
           =2 
           =2 #endif  // __OSD_BASIC__
  10      =1  #include "osdmenu.h"
   1      =2  //osdmenu.h
   2      =2  //LJY10292001
   3      =2  #ifndef __OSDMENU__
           =2 #define __OSDMENU__
           =2 
           =2 //=======================================================================
           =2 // 
           =2 //BYTE GetOSDDuration(void);
           =2 
           =2 void ResetVideoValue(void);
           =2 //#if defined( SUPPORT_PC ) || defined( SUPPORT_DTV )
           =2 //void ResetPCValue(void);
           =2 //#endif
           =2 BYTE GetOSDMenuLevel( void );
           =2 
           =2 void DrawMenulist(BYTE);
           =2 void Display_EnterPin(void);
           =2 void OSDHighMenu_sub(void);
           =2 void ResetOSDValue(void);
           =2 #ifdef E_Wintek
           =2 void ResetUESROSDValue(void);
           =2 #endif
           =2 //BYTE OnChangingValue(void);
           =2 //Not used yet *******************BYTE OnChangingTime(void);
           =2 
           =2 //WORD GetOSDclock(void);
           =2 
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 161 

           =2 void InitOSDMenu(void);
           =2 BYTE CloseOSDMenu(void);
           =2 void OpenOSDMenu(void);
           =2 void OSDHighMenu(void);
           =2 void OSDSelect(void);
           =2 void OSDCursorMove(BYTE flag );
           =2 void OSDLeftRight(BYTE flag );
           =2 void OSDValueUpDn(BYTE flag);
           =2 WORD SetItemValue( BYTE id, BYTE flag );
           =2 BYTE DoAction(BYTE id);
           =2 
           =2 BYTE SaveValue1(void);
           =2 void ClearValueWin(void);
           =2 
           =2 void OSDNumber( BYTE num );
           =2 
           =2 void Set4WideScreen(BYTE id);
           =2 
           =2 void SetRGBContrast( BYTE id, BYTE val );
           =2 BYTE SetPCColorTemp(BYTE flag);
           =2 void ResetPanelAttributeValue(void);
           =2 WORD GetItemValue( BYTE);
           =2 void DisplayViewBar( WORD,BYTE);
           =2 void DrawNum(WORD, CODE_P struct NumType *, WORD);
           =2 void DrawStringByLang( WORD, CODE_P struct EnumType *, WORD);
           =2 
           =2 void DisplayVolumebar(BYTE val);
           =2 BYTE GetOSDLang(void);
           =2 void InitOSDMenuXY(void);
           =2 
           =2 void Display_TVGuide_Window(void);
           =2 void Display_TVGuide_Status(void);
           =2 
           =2 void ChangeVchip_LevelCursor(BYTE);
           =2 void ChangeVchip_ContentCursor(BYTE);
           =2 void Select_VchipLevel(void);
           =2 void SetVideoMode(BYTE mode);
           =2 BYTE GetVideoDatawithOffset(BYTE offset);
           =2 void SetVideoContrast(BYTE newv);
           =2 void SetVideoBrightness(BYTE newv);
           =2 void SetVideoHue(BYTE newv) ;
           =2 void SetVideoSaturation(BYTE svtype, BYTE newv) ;
           =2 BYTE SetVideoSharpness(BYTE flag) ;
           =2 void SetVideoBacklight(BYTE newv) ;
           =2 //------------------------------------------------andy awt 981013
           =2 //void DaySelect(BYTE);
           =2 void CAMOutDSel(BYTE val);
           =2 void DVRAodioSel(BYTE  val);
           =2 
           =2 //------------------------------------------------andy awt 981013
           =2 
           =2 void DisplayLineOSD(void);      // OSD Line display Demo
           =2 
           =2 
           =2 struct MenuType {
           =2         BYTE    width,  height;
           =2         BYTE    TitleColor;     
           =2         BYTE    CursorColor;
           =2 };
           =2 
           =2 struct NumType {
           =2         BYTE    PrePostCharLen;         // high nibble(pre) / low nibble(post)
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 162 

           =2         BYTE    PrePostChar[4];
           =2 };
           =2 
           =2 struct NumberStringType {
           =2         BYTE    x, y;
           =2         BYTE    width;
           =2         BYTE    BackColor;
           =2         BYTE    Radix;
           =2         BYTE    NumColor;
           =2         BYTE    MaxLen;                         // maximum length of string
           =2         BYTE    PrePostCharLen;         // high nibble(pre) / low nibble(post)
           =2         BYTE    PrePostChar[3];
           =2 };
           =2 
           =2 struct TimeType {
           =2         BYTE    x, y;
           =2         BYTE    width;
           =2         BYTE    BackColor;
           =2         BYTE    Format;                         //_24H_TIME
           =2         BYTE    TimeColor;
           =2         BYTE    CursorColor;
           =2 };
           =2 
           =2 struct EnumType {
           =2         BYTE    Sz;//size
           =2         BYTE    ByLang;
           =2         BYTE    Str[15];                        // doesn't matter the size !!!
           =2 };
           =2 
           =2 #define ICON_CH_SZ              2
           =2 //#define BAR_NUM_SZ            4
           =2 #define ICON_BUF_SZ             2
           =2 struct DefineMenu {
           =2         //WORD                                          Icon[ICON_BUF_SZ];      
           =2         BYTE                            CODE    *Icon;
           =2         BYTE                                            **Desc;                         
           =2         BYTE                                            PreFnId, 
           =2                                                                 PostFnId;
           =2 //      void            (*CalltoFunction)(void);                                    // Un/Dn/Sel Function
           =2         BYTE                                            IconColor;                      //NIL: not to display icon
           =2         BYTE                                            DescColor;                      //NIL: not to display desc. (IconColor==NIL && DescColor==NIL)->Last Item
           =2         struct DefineMenu       CODE    *Child;
           =2         BYTE                                            Type;                           // MENU, CHOICEMENU, BAR, NUMBER, TIME, ACTION, ENUM_STRING
           =2         BYTE                                            ActiveWithCursor;
           =2         BYTE                                            Id;
           =2         BYTE                            CODE    *TypeData;      //MenuType, BarType, NumType,,,
           =2 } ;
           =2 
           =2 struct PictureInfo {
           =2 
           =2         BYTE Register_Addr;
           =2         BYTE EEPROM_Addr;
           =2         struct RegisterInfo     CODE    *Control_Range;
           =2 };
           =2 
           =2 
           =2 //-------------------------------------------------------------------
           =2 // OSD Window Information
           =2 //-------------------------------------------------------------------
           =2 // Window Number
           =2 #define OSDCURSORWINDOW                 1
           =2 #define OSDMENUWINDOW                   OSDCURSORWINDOW+1
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 163 

           =2 #define OSDMENU_TOPWIN                  OSDCURSORWINDOW+2
           =2 #define OSDMENU_TITLEWIN                OSDCURSORWINDOW+3
           =2 #define OSDBARWINDOW                    OSDCURSORWINDOW
           =2 
           =2 #define TECHWELLOGO_OSDWIN      1       
           =2 #define TVINFO_OSDWIN           2       
           =2 #define FONTTEST_OSDWIN         2       
           =2 #define INPUTINFO_OSDWIN        3  
           =2 #define RATINGINFO_OSDWIN       1       
           =2 #define PCINFO_OSDWIN           3//4/   
           =2 
           =2 //-------------OSDMENU_TITLEWIN------------------------------------------------------
           =2 // Window Start address
           =2 #define OSDMENU_MAINADDR        0
           =2 #define OSDMENU_SUBADDR     OSDMENU_MAINADDR+15    //25*9:196
           =2 #define OSDMENU_BARADDR         175 //OSDMENU_SUBADDR+225    //256   //25x2:50
           =2 
           =2 #define INPUTINFO_ADDR          160     // 9x1:9
           =2 #ifdef WQVGA
           =2 #define INPUTINFO1_ADDR         INPUTINFO_ADDR+17       //17x3:51
           =2 #else
           =2 #define INPUTINFO1_ADDR         INPUTINFO_ADDR+34       //17x2:51
           =2 #endif
           =2 
           =2 #define MUTEINFO_ADDR       INPUTINFO1_ADDR+51  // 4x1:4
           =2 #define TVCHINFO_ADDR           MUTEINFO_ADDR//324      // 3X1:3
           =2 #define LOGO_ADDR                       0
           =2 #define RATINGINFO_ADDR         0       //addr:210(8x1:8)
           =2 #define PCMEASUREINFO_ADDR  OSDMENU_BARADDR //10x1
           =2 
           =2 
           =2 //--------------------------------------------------------------------
           =2 // OSD Menu Position Range
           =2 #if ((defined WQVGA) && (defined ANALOG_7INCH)) || ((defined QVGA) && (defined SHARP_LQ050Q5DR01))
           =2         #define OSD_PHR_ PHR_/2
           =2 #else
           =2         #define OSD_PHR_ PHR_
           =2 #endif
           =2 
           =2 #define OSDHSTART_MAX (OSD_PHR_-(12+1)*25 - 56*2 -4)  //PHR - (pixelsize +Hspace)*MenuWidth - Hborder*2 - 
             -outlinewidth*2
           =2 #define OSDVSTART_MAX (PVR_-(18+11)*9 - 5*2 ) //  PVR - (Linesize+Vspace)*MENU_HEIGHT - Vborder*2  - outli
             -newidth*2
           =2 
           =2 #define OSDMENUX_MIN 1//0
           =2 #define OSDMENUX_MAX (OSDHSTART_MAX>>3)
           =2 #define OSDMENUX_50  (OSDHSTART_MAX>>4)
           =2 
           =2 #define OSDMENUY_MIN 2//0
           =2 #define OSDMENUY_MAX (OSDVSTART_MAX>>2)
           =2 #define OSDMENUY_50  (OSDVSTART_MAX>>3)
           =2 
           =2 //--------------------------------------------------------------------
           =2 // OSD Menu Width, Height 
           =2 #ifdef E_Wintek
           =2 #define ICON_HIGH                               0x14
           =2 #else
           =2 #define ICON_HIGH                               0x0a
           =2 #endif
           =2 #define TOTAL_MAX_HIGHT                 9
           =2 
           =2 #define TOPMENU_WIDTH                   2
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 164 

           =2 #define TOTAL_TOP_HEIGHT                5       // Include blank line!
           =2 
           =2 #define TOPMENU_HEIGHT                  4       
           =2 
           =2 #if (defined QVGA) && (defined SHARP_LQ050Q5DR01)
           =2 #define MENU_WIDTH                              17 //23//25 
           =2 #define TITLE_MAX_DESC                  17//25  //
           =2 #define BAR_LENGTH                              0
           =2 #else
           =2 #define MENU_WIDTH                              23//23//25 
           =2 #define TITLE_MAX_DESC                  23//25  //
           =2 #define BAR_LENGTH                              5//8
           =2 #endif
           =2 
           =2 #define MENU_HEIGHT                             7//6 
           =2 
           =2 #define BARNUM_LENGTH                   8       //11
           =2 #ifdef REFERENCE
           =2 #define BACK_COLOR                              BG_COLOR_CYAN
           =2 #define DEFAULT_COLOR                   BG_COLOR_CYAN   | CH_COLOR_WHITE
           =2 //#define ACTIVE_COLOR                  BG_COLOR_YELLOW | CH_COLOR_WHITE
           =2 #define TITLE_BACK_COLOR                BG_COLOR_MAGENTA
           =2 #define TITLE_COLOR                             TITLE_BACK_COLOR | CH_COLOR_YELLOW
           =2 #define COMMENT_COLOR                   TITLE_BACK_COLOR | CH_COLOR_WHITE
           =2 #define CURSOR_COLOR                    BG_COLOR_YELLOW | CH_COLOR_BLUE
           =2 #define OSD_INFO_COLOR                  DEFAULT_COLOR
           =2 #define BAR_COLOR                               DEFAULT_COLOR   
           =2 #define BAR_NUM_COLOR                   DEFAULT_COLOR
           =2 #define NUM_COLOR                               DEFAULT_COLOR
           =2 
           =2 #define OSDMENU_OUTLINE_COLOR   BG_COLOR_BLUE
           =2 
           =2 #else
           =2 #define BACK_COLOR                              BG_COLOR_CYAN
           =2 #define DEFAULT_COLOR                   BG_COLOR_CYAN | CH_COLOR_WHITE
           =2 //#define ACTIVE_COLOR                  BG_COLOR_YELLOW | CH_COLOR_WHITE
           =2 #define TITLE_BACK_COLOR                BG_COLOR_BLUE
           =2 #define TITLE_COLOR                             TITLE_BACK_COLOR | CH_COLOR_YELLOW
           =2 #define COMMENT_COLOR                   TITLE_BACK_COLOR | CH_COLOR_WHITE
           =2 #define CURSOR_COLOR                    BG_COLOR_YELLOW  | CH_COLOR_BLUE
           =2 #define OSD_INFO_COLOR                  BG_COLOR_CYAN    | CH_COLOR_GREEN
           =2 #define BAR_COLOR                               DEFAULT_COLOR   
           =2 #define BAR_NUM_COLOR                   DEFAULT_COLOR
           =2 #define NUM_COLOR                               DEFAULT_COLOR
           =2 
           =2 #define VER_COLOR               BG_COLOR_CYAN   | CH_COLOR_YELLOW   /// V1.1 03/07/07 simonsung
           =2 
           =2 
           =2 #define OSDMENU_OUTLINE_COLOR   BG_COLOR_CYAN
           =2 #endif 
           =2 
           =2 
           =2 //DisplayedOSD
           =2 //              new       |     MENU    TVINFO          CC              INPUTINFO               PCINFO          RATINGINFO
           =2 //      current   |
           =2 //============|=========================================================================
           =2 //      MENU      |                     TVINFO          --              INPUTINFO               PCINFO          MENU + RATINGINFO       
           =2 //                        |                                              
           =2 //------------|-------------------------------------------------------------------------
           =2 //      TVINFO    |     MENU    TVINFO          --              INPUTINFO               PCINFO          TVINFO+RATING
           =2 //------------|-------------------------------------------------------------------------
           =2 //      CC                |     MENU->  TVINFO->                        INPUTINFO->             PCINFO          RATINGINFO
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 165 

           =2 //                        |      CC              CC                                      CC                                              
           =2 //------------|-------------------------------------------------------------------------
           =2 //      INPUTINFO |     MENU    TVINFO          --              INPUTINFO               PCINFO          --
           =2 //------------|-------------------------------------------------------------------------
           =2 //      PCINFO    |     MENU    x                       x               INPUTINFO               PCINFO          x
           =2 //------------|-------------------------------------------------------------------------
           =2 //      RATINGINFO|     MENU    TVINFO     RATING   INPUTINFO           x                       RATINGINFO
           =2 //                                                                      
           =2 
           =2 //=======================================================================================
           =2 // OSD Menu Constant define.
           =2 //=======================================================================================
           =2 //Time type
           =2 #define _24H_TIME               1
           =2 
           =2 //for previous, next, parent or child
           =2 #define YES                             0xfe    
           =2 #define NO                              0
           =2 
           =2 
           =2 //#define OVERWRITE             0
           =2 //#define POPUP                 1
           =2 
           =2 //CursorMove
           =2 #define VERT                    0
           =2 #define HORI                    1
           =2 
           =2 //Type of MenuItem
           =2 #define OSDMENU                 1
           =2 #define CHOICEMENU              2
           =2 #define ACTION                  3
           =2 #define BAR                             4
           =2 #define NUMBER                  5
           =2 #define CHOICE                  6
           =2 #define ENUM_STRING             7 //YESNO                       7
           =2 #define CHOICE1                 8
           =2 #define TIME                    9
           =2 #define NUMBER_STRING   10
           =2 #define TEXT_STR              11   // V1.1 02/28/07 simonsung
           =2 
           =2 
           =2 //Bar type
           =2 #define LEFT_FILLED             1
           =2 #define RIGHT_FILLED    2
           =2 #define NO_FILLED               3
           =2 
           =2 //OSDmenu up and down key
           =2 #define UP                                      1
           =2 #define DN                                      2
           =2 #define RIGHT                           3
           =2 #define LEFT                            4
           =2 
           =2 // Action Id
           =2 #define DISP_INFO                       0x16
           =2 
           =2 #define INPUTSELECTION                          0x2f
           =2 
           =2 #define CHANGE_TO_COMPOSITE                     (0x20|CH_TW2835)                        // Low nibble need to start from 1 
           =2 #define CHANGE_TO_SVIDEO                        (0x20|SVIDEO)                           // so that it match with COMPOSITE...
           =2 #define CHANGE_TO_COMPONENT                     (0x20|COMPONENT)                
           =2 #define CHANGE_TO_DTV                           (0x20|DTV)              
           =2 #define CHANGE_TO_TV                            (0x20|TV)                                       
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 166 

           =2 #define CHANGE_TO_PC                            (0x20|PC)                                       
           =2 #define CHANGE_TO_DIGITALVGA            (0x20|DIGITALVGA)                       
           =2 #define CHANGE_TO_SCART                         (0x20|SCART)                            
           =2 
           =2 
           =2 #define OSDPOSITIONMODE     0x10
           =2 #define OSD_VPOS                        0x11
           =2 #define OSD_HPOS                        0x12
           =2 #define OSD_HALFTONE            0x13
           =2 #define OSD_DURATION            0x14
           =2 #define RESET_OSDVALUE          0x15
           =2 #define OSDLANG                         0x16
           =2 
           =2 #define PANEL_CONTRAST          0x58
           =2 #define PANEL_BRIGHTNESS        0x59
           =2 #define PANEL_HUE                       0x5a
           =2 #define PANEL_SHARPNESS         0x5b
           =2 #define PANEL_SATURATION        0x5c
           =2 
           =2 #define PC_VPOS                         0x43
           =2 #define PC_HPOS                         0x44
           =2 #define PC_HSIZE                        0x4d
           =2 
           =2 #define PC_CLOCK                        0x45
           =2 #define PC_PHASE                        0x46
           =2 
           =2 #define AUTOADJUST                      0x47
           =2 #define AUTOADJUST2                     0x48
           =2 //#define SAVE_AUTOADJUST               0x49
           =2 #define RESET_AUTOADJUST        0x4a
           =2 
           =2 #define PCCOLORADJUST           0x4b
           =2 #define SAVE_COLORADJUST        0x4c
           =2 //#define RESET_COLORADJUST     0x4d
           =2 
           =2 #define RESET_PCVALUE           0x4e
           =2 #define CameraOSD                       0x4f
           =2 
           =2 #define PC_COLOR_MODE           0x3f
           =2 #define PC_COLOR_TEMP           0x30
           =2 #define PC_COLOR_MODE1          0x31
           =2 #define PC_COLOR_MODE2          0x32
           =2 #define PC_COLOR_MODE3          0x33
           =2 #define PC_COLOR_USER           0x34
           =2 #define PC_COLOR_R                      0x35
           =2 #define PC_COLOR_G                      0x36
           =2 #define PC_COLOR_B                      0x37
           =2 
           =2 #define VIDEO_MODE                      0x90
           =2 #define VIDEO_MODE1                     0x91
           =2 #define VIDEO_MODE2                     0x92
           =2 #define VIDEO_MODE3                     0x93
           =2 #define VIDEO_USER                      0x94
           =2 #define VIDEO_CONTRAST          0x95
           =2 #define VIDEO_BRIGHTNESS        0x96
           =2 #define VIDEO_SATURATION        0x97
           =2 #define VIDEO_HUE                       0x99
           =2 #define VIDEO_SHARPNESS         0x9a
           =2 #define VIDEO_BACKLIGHT         0x9c            // add new value 
           =2 #define RESET_VIDEOVALUE        0x9b
           =2 #ifdef E_Wintek
           =2 #define RESET_USERVALUE 0x9d
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 167 

           =2 #endif
           =2 #define VIDEOPICTURE            0x9f
           =2 
           =2 #define INPUTSTD                        0x6f
           =2 #define CHANGE_TO_AUTO          0x60
           =2 #define CHANGE_TO_NTSC          (0x60 | NTSC)
           =2 #define CHANGE_TO_PAL           (0x60 | PAL)
           =2 #define CHANGE_TO_SECAM         (0x60 | SECAM)
           =2 #define CHANGE_TO_NTSC4         (0x60 | NTSC4)
           =2 #define CHANGE_TO_PALM          (0x60 | PALM)
           =2 #define CHANGE_TO_PALN          (0x60 | PALN)
           =2 #define CHANGE_TO_PAL60         (0x60 | PAL60)
           =2 
           =2 
           =2 
           =2 
           =2 #define CLOSED_CAPTION          0x7f
           =2 #define CLOSEDCAP_OFF           0x70
           =2 #define CLOSEDCAP_CC1           0x71
           =2 #define CLOSEDCAP_CC2           0x72
           =2 #define CLOSEDCAP_CC3           0x73
           =2 #define CLOSEDCAP_CC4           0x74
           =2 #define CLOSEDCAP_T1            0x75
           =2 #define CLOSEDCAP_T2            0x76
           =2 #define CLOSEDCAP_T3            0x77
           =2 #define CLOSEDCAP_T4            0x78
           =2 
           =2 #define TV_GUIDE                        0x8f
           =2 #define NO_VCHIP_LOCK           0
           =2 #define VCHIP_TV_Y                      1
           =2 #define VCHIP_TV_Y7                     2
           =2 #define VCHIP_TV_G                      3
           =2 #define VCHIP_TV_PG                     4
           =2 #define VCHIP_TV_14                     5
           =2 #define VCHIP_TV_MA                     6
           =2 #define PASSWORD                        0x87
           =2 #define NEW_PASSWORD            0x88
           =2 #define CHK_PASSWORD            0x89
           =2 #define RET_CHK_PASSWORD        0x8a
           =2 
           =2 #define MPAA_RATING                     0x9f
           =2 #define NO_MPAA_RATING          0
           =2 #define MPAA_G                          1
           =2 #define MPAA_PG                         2
           =2 #define MPAA_PG_13                      3
           =2 #define MPAA_R                          4
           =2 #define MPAA_NC_17                      5
           =2 #define MPAA_X                          6
           =2 
           =2 #define TVINSTALL                       0xa0
           =2 #define SCAN_CHANNEL            0xa1
           =2 #define AIR_CABLE_TV            0xa3
           =2 #define STORE_CLEAR_TVCHN       0xa4
           =2 #define MTS                                     0xa5
           =2 #define EDIT_CHANNEL            0xa6
           =2         #define         MTS_STEREO                      0//0x10
           =2         #define         MTS_MONO                        1//0x11
           =2 
           =2 #define AUDIO_VOLUME            0xb7
           =2 
           =2 #if 0 //andy AWT8.4 20090811
           =2 
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 168 

           =2 #define AUDIO_BALANCE           0xb9
           =2 #define AUDIO_BASS                      0xba
           =2 #define AUDIO_TREBLE            0xbb
           =2 
           =2 #define AUDIO_LOUDNESS          0xbc
           =2 #define AUDIO_EFFECT            0xbd
           =2 #define AUDIO_MUTE                      0xbe
           =2 #endif
           =2 
           =2 #define DayChoice           0xb8
           =2 #define CAMOSDONOFF         0xb9
           =2 #define GAUGEChoice         0xba
           =2 #define OsdLockChoice       0xbb
           =2 #define PRIORITYChoice      0xcA
           =2 #define DVRDisplay              0xcc
           =2 
           =2 #define CAMAONOFF                   0xc1
           =2 #define CAMBONOFF               0xc2
           =2 #define CAMCONOFF                   0xc3
           =2 #define CAMRONOFF                       0xc4
           =2 
           =2 #define IMAGEChoice         0xc5 
           =2 #define REARChoice          0xc6
           =2 #define JUMPChoice          0xc7
           =2 #define CAMOUTChoice        0xc8 
           =2 #define STIME_STEP                  0xc9
           =2 #define TriggerVGA                  0xcb
           =2 #define IMAGE_A_Choice         0xcd
           =2 #define IMAGE_B_Choice         0xce
           =2 #define IMAGE_C_Choice         0xcf
           =2 
           =2 
           =2 #define MANUAL_TUNE_CHANNEL     0xab
           =2 #define FINE_TUNE_CHANNEL       0xac
           =2 #define STORE_PALCHANNEL        0xad
           =2 
           =2 //#define CLEAR_TVCHN                   0xb0
           =2 //#define STORE_TVCHN                   0xb1
           =2 
           =2 #define WIDESCREEN                      0xc0
           =2 #define WIDESCREEN_NORMAL       0 
           =2 #define WIDESCREEN_WIDE         1 
           =2 #define WIDESCREEN_PANO         2
           =2 #define WIDESCREEN_FULL         3 
           =2 #define WIDESCREEN_ZOOM         4 
           =2 
           =2 #define SYSTEM_CLOCK            0xd1
           =2 #define SYSTEM_CLOCK_H          0xd2
           =2 #define WAKEUP_TIME                     0xd3
           =2 #define WAKEUP_TIME_H           0xd4
           =2 #define WAKEUP_PR                       0xd5
           =2 #define OFF_TIME                        0xd6
           =2 #define OFF_TIME_H                      0xd7
           =2 #define SLEEP_TIMER                     0xd8
           =2 
           =2 #define Resolution                      0xe0
           =2 #define FPS                                     0xe1
           =2 #define Quality                         0xe2
           =2 #define RecordMode                      0xe3
           =2 #define RecordLength            0xe4
           =2 #define PreAlarmLength          0xe5
           =2 #define PostAlarmLength         0xe6
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 169 

           =2 #define Apply                           0xe7
           =2 #define ManualRecordStart       0xe8
           =2 #define ManualRecordStop        0xe9
           =2 #define Snapshot                        0xea
           =2 #define FormatSD                        0xeb
           =2 #define AudioRecord                     0xec
           =2 #define FirmwareUpdate          0xed
           =2 #define ChangePassword          0xee
           =2 #define OverWrite                       0xef
           =2 
           =2 
           =2 
           =2 
           =2 #define Year                            0x20
           =2 #define Month                           0x21
           =2 #define Day                                     0x22
           =2 #define Hour                            0x23
           =2 #define Minute                          0x24
           =2 
           =2 #define DaylightSaving                          0x25
           =2 #define TimeBeginesMonth                        0x26
           =2 #define TimeBeginesWeek                         0x27
           =2 #define TimeBeginesTime                         0x28
           =2 #define StandardTimeBeginesMonth        0x29
           =2 #define StandardTimeBeginesWeek         0x2a
           =2 #define StandardTimeBeginesTime         0x2b
           =2 #define TimeZone                                        0x2c
           =2 #define FirstNumber                                     0x2d
           =2 #define SecondNumber                            0x2e
           =2 #define ThridNumber                                     0x2f
           =2 #define FourthNumber                            0x38
           =2 
           =2 
           =2 
           =2 #define OSDLANGI                        0xd9
           =2 #define OSDLANGII                       OSDLANGI+1
           =2 #define OSDLANGIII                      OSDLANGI+2
           =2 #define OSDLANGIV                       OSDLANGI+3
           =2 
           =2 
           =2 #define TOHIGHMENU                      0xf1
           =2 #define MOVECURSOR2FIRST        0xf2
           =2 #define RESET_ALL                       0xf3
           =2 #define EXITMENU                        0xf4
           =2 #define DVRParamApply           0xf5
           =2 #define DATETIMEApply           0xf6
           =2 
           =2 
           =2 #define CHOICE1_VAL                     0xfc
           =2 #define CHOICE_VAL                      0xfd
           =2 #define BAR_VAL                         0xfe
           =2 #define NUM_VAL                         0xff
           =2 
           =2 #define CAMNumberChoice     0xa3 
           =2 #define PelcoChoice         0xa4
           =2 #define Baud_rateChoice         0xa5
           =2 
           =2 #endif  // __OSDMENU__
  11      =1  #include "adc.h"
   1      =2  #ifndef __ADC__
           =2 #define __ADC__
           =2 
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 170 

           =2 //=============================================================================
           =2 //                             ADC Functions
           =2 //=============================================================================
           =2 
           =2 void ADCPowerDown(bit flag);
           =2 void SelectADCmux(BYTE sel);
           =2 void SetADCMode(BYTE mode);
           =2 
           =2 void EnableADC(void);
           =2 void DisableADC(void);
           =2 
           =2 WORD GetCoarse(void);
           =2 void SetCoarse(WORD i);
           =2 void SetPhase(BYTE j);
           =2 BYTE GetPhaseCurrent(void);
           =2 BYTE SetVCORange(DWORD _IPF);
           =2 
           =2 //void SetADCGainOffset(BYTE gain, BYTE offset);
           =2 void AutoColorAdjust(void);
           =2 
           =2 
           =2 
           =2 void AutoColorAdjustForDTV(BYTE flag);
           =2 
           =2 #endif  // __ADC__
  29      =2  
  30      =2  
  31      =2  
  32      =2  
  33      =2  
  34      =2  
  35      =2  
  36      =2  
  37      =2  
  38      =2  
  39      =2  
  40      =2  
  41      =2  
  42      =2  
  43      =2  
  44      =2  
  45      =2  
  46      =2  
  47      =2  
  48      =2  
  49      =2  
  50      =2  
  51      =2  
  52      =2  
  53      =2  
  54      =2  
  12      =1  #include "debug.h"
   1      =2  #ifndef __DEBUG__
           =2 #define __DEBUG__
           =2 
           =2 #define DEBUG_ERR       1
           =2 #define DEBUG_WARN      2
           =2 #define DEBUG_INFO      3
           =2 #define DEBUG_BREAK     4
           =2 
           =2 #define Pause(a)        { Printf("\r\n"); Printf(a); while(!RS_ready()); RS_rx(); }
           =2 
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 171 

           =2 //#define BURSTLOCK     7
           =2 
           =2 void DebugWindowControl (void) ;
           =2 void Draw_Debug_Char(void);
           =2 void DebugWindowCursor( BYTE flag ) ;
           =2 void DebugWindowData( BYTE flag ) ;
           =2 void Debug_Write(void);
           =2 void Debug_Read(void);
           =2 
           =2 
           =2 
           =2 #endif  // __DEBUG__
  23      =2  
  24      =2  #ifdef CHIP_MANUAL_TEST
           =2 BYTE DelaynCheck(void);
           =2 void ChipManualTest(void);
           =2 
           =2 #endif
  13      =1  #include "etc_eep.h"
   1      =2  #ifndef __ETC_EEP__
           =2 #define __ETC_EEP__
           =2 
           =2 
           =2 ////eeprom.h
           =2 
           =2 //=========================================================================
           =2 //      EEPROM structure
           =2 //      0x00    BYTE    4       'TW88'
           =2 #define EEP_FWREV_MAJOR                 0x04    //BYTE  1       F/W Rev.-major(Hex)     
           =2 #define EEP_FWREV_MINOR                 0x05    //BYTE  1       F/W Rev.-minor(Hex)
           =2 #define EEP_DEBUGLEVEL                  0x06    //BYTE  1       DebugLevel
           =2 //
           =2 #define EEP_AUTODETECT                  0x07    //BYTE  1       Flag for Input Auto Detect      -0:Auto, 1:NTSC,....
           =2 #define EEP_AUTODETECTTYTE              0x08    //BYTE  1       Type of Auto-detect(will be value of register 0x1d)
           =2 //                      ---------------------------------------------------------------
           =2 #define EEP_WIDEMODE                    0x09    //BYTE  1   Wide Mode
           =2 
           =2 #define EEP_AUTORECOGNITION             0x0a    //BYTE  1       Auto Recognition
           =2 #define EEP_VIDEOMODE                   0x0b    //BYTE  1   Video Mode
           =2 
           =2 #define EEP_OSDLANG                             0x0c    //BYTE  1   OSDLang                                             // 0
           =2 
           =2 #define EEP_OSDPOSITIONMODE     0x0d    //BYTE  1       OSD Position Mode
           =2 #define EEP_CCD                                 0x0e    //BYTE  1       Closed Caption- 0: off, 1:on
           =2 
           =2 #define EEP_INPUTSELECTION              0x0f    //BYTE  1       InputSelection
           =2 
           =2 //
           =2 #define EEP_PC_CONTRAST                 0x10
           =2 #define EEP_PC_BRIGHT                   0x11
           =2 
           =2 #define EEP_CONTRAST                    0x12    //BYTE  1       Contrast 
           =2 #define EEP_BRIGHTNESS                  0x13    //BYTE  1       Brightness
           =2 #define EEP_SATURATION_U                0x14    //BYTE  1       Saturation :U
           =2 #define EEP_SATURATION_V                0x15    //BYTE  1       Saturation :V
           =2 #define EEP_SHARPNESS                   0x16    //BYTE  1       Sharpness 
           =2 #define EEP_HUE                                 0x17    //BYTE  1       Hue                    
           =2 
           =2 //====================================HS AWT 981001
           =2 #define  EEP_AutoMode           0xa0
           =2 #define  EEP_IMAGEMode          0xa1
           =2 #define  EEP_RearMode           0xa2
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 172 

           =2 #define  EEP_COSDMode           0xa3
           =2 #define  EEP_GAUGEMode          0xa4
           =2 #define  EEP_CAMAMode           0xa5 
           =2 #define  EEP_CAMBMode           0xa6
           =2 #define  EEP_CAMCMode           0xa7
           =2 #define  EEP_CAMRMode           0xa8
           =2 #define  EEP_CAMOutMode         0xa9    
           =2 #define  EEP_TimeStep           0xaa
           =2 #define  EEP_Powerflag          0xab   
           =2 #define  EEP_ONOFFChoice        0xac 
           =2 
           =2 #define  EEP_PRIORITY           0xad
           =2 #define  EEP_JUMPMode           0xae
           =2 #define  EEP_NowModeState       0xaf
           =2 #define  EEP_SelectMode         0xb0
           =2 #define  EEP_PriorityOffSelectMode      0xb1
           =2 #define  EEP_AudioRecord                0xb2
           =2 
           =2 #define  EEP_FirstNumber                0xb3
           =2 #define  EEP_SecondNumber               0xb4
           =2 #define  EEP_ThridNumber                0xb5
           =2 #define  EEP_FourthNumber               0xb6
           =2 
           =2 #define  EEP_CAMNUMBER     0xb7
           =2 #define  EEP_PELCO                 0xb8
           =2 #define  EEP_Baud_rate     0xb9
           =2 #define  EEP_TriggerVGA    0xba
           =2 #define  EEP_DVRDisplay    0xbb
           =2 #define  EEP_IMAGE_A_Mode    0xbc//andy A1.4 20100113
           =2 #define  EEP_IMAGE_B_Mode    0xbd//andy A1.4 20100113
           =2 #define  EEP_IMAGE_C_Mode    0xbe//andy A1.4 20100113
           =2 
           =2 //#define  EEP_SelectModeBuf         0xb2
           =2 
           =2 #if 0
           =2 #define  EEP_Resolution                 0xc0
           =2 #define  EEP_FPS                                0xc1
           =2 #define  EEP_Quality                    0xc2
           =2 #define  EEP_RecordMode                 0xc3
           =2 #define  EEP_RecordLength               0xc4
           =2 #define  EEP_PreAlarmLength             0xc5
           =2 #define  EEP_PostAlarmLength    0xc6
           =2 #endif
           =2 //====================================HS AWT 981001
           =2 
           =2 //
           =2 //              ---------------------------------------------------------------
           =2 #define EEP_PCAUDIOPVOL         0x37    //BYTE  1   AudioVol
           =2 #define EEP_AUDIOPVOL                   0x38    //BYTE  1   AudioVol
           =2 #define EEP_AUDIOBALANCE                0x39    //BYTE  1   AudioBalance
           =2 //
           =2 //              ---------------------------------------------------------------
           =2 
           =2 #define EEP_BLOCKMOVIE                  0x40    //BYTE  1       BlockedMovie:Blocked rating for Movie   
           =2 #define EEP_BLOCKTV                             0x41    //BYTE  1       BlockedTV:Blocked rating for TV                 
           =2 #define EEP_FVSLD                               0x42    //BYTE  6
           =2 //                                                              7    6       4    3    2    1    0
           =2 //  FVSLD Level                        ALL   FV(V)   S    L    D    
           =2 //  0x43    BYTE    1   TV-Y            X  
           =2 //  0x44        BYTE    1   TV-Y7           X    X 
           =2 //  0x45        BYTE    1   TV-G            X 
           =2 //  0x46        BYTE    1   TV-PG           X       X    X    X    X
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 173 

           =2 //  0x47        BYTE    1   TV-14           X       X    X    X    X 
           =2 //  0x48        BYTE    1   TV-MA           X       X    X    X
           =2 //
           =2 #define EEP_VCHIPPASSWORD               0x49    //BYTE  4   OSDPassword                                 //Defualt:3366
           =2 //                      ---------------------------------------------------------------
           =2 //
           =2 //
           =2 //      0x61    WORD    2   PanelXRes
           =2 //      0x63    WORD    2       PanelYRes
           =2 //      0x65    BYTE    1       PanelHsyncMinPulseWidth
           =2 //      0x66    BYTE    1       PanelVsyncMinPulseWidth
           =2 //      0x67    WORD    2       PanelHminBackPorch
           =2 //      0x69    BYTE    1       PanelHsyncPolarity
           =2 //      0x6a    BYTE    1       PanelVsyncPolarity
           =2 //      0x6b    WORD    2       PanelDotClock
           =2 //      0x6d    BYTE    1       PanelPixsPerClock
           =2 //      0x6e    BYTE    1       PanelDEonly
           =2 //                      ---------------------------------------------------------------
           =2 //
           =2 //      0x80    PC Data
           =2 //
           =2 //                      ---------------------------------------------------------------
           =2 //
           =2 //      0x300   TV Data
           =2 //
           =2 //      --- NTSC_TV -------------------------------------------------------------
           =2 //      CNT_SAVEDAIR                    BYTE    1   Total count of saved Air TV Channel.
           =2 //      IDX_CURAIR                              BYTE    1   Index of Current Air TV Channel
           =2 //      CHN_CURAIR                              BYTE    1   Current Air TV Channel.
           =2 //
           =2 //      FIRSTSAVED_AIRCHN               BYTE    1       First saved Air TV channel no   (maximum 100)
           =2 //      ....
           =2 //
           =2 //      CNT_SAVEDCABLE                  BYTE    1   Total count of saved Cable TV Channel.
           =2 //      IDX_CURCABLE                    BYTE    1   Index of Current Cable TV Channel
           =2 //      CHN_CURCABLE                    BYTE    1   Current Cable TV Channel.
           =2 //
           =2 //      FIRSTSAVED_CABLECHN             BYTE    1       First saved Cable TV channel no (maximum 100)
           =2 //
           =2 //      --- PAL_TV --------------------------------------------------------------
           =2 //      PR_CUR                                  BYTE    1   Current PR no.
           =2 //      FIRST_SAVEDPR                   DWORD   4   Freq of PR0.        (TOTAL_PR)
           =2 //      FIRST_SAVEDPR+4                 DWORD   4   Freq of PR1.
           =2 //      .....
           =2 //
           =2 
           =2 
           =2 
           =2 //
           =2 // Offset of EEPROM
           =2 //
           =2 /*
           =2 #define VIDEOCONTRAST           0x18            // for NTSC.(PAL:0x20,SECAM:0x28)
           =2 #define VIDEOBRIGHTNESS         0x19
           =2 #define VIDEOSATURATION_U       0x1a
           =2 #define VIDEOSATURATION_V       0x1b
           =2 #define VIDEOHUE                        0x1c            // only for NTSC
           =2 #define VIDEOSHARPNESS          0x1d
           =2 */
           =2 #define CCCOLOR         0x52
           =2 #define VOLZOOM         0x53
           =2 
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 174 

           =2 #define PANELINFO       0x61
           =2 
           =2 // PAL_TV
           =2 #define  PR_CUR                                 0x301   
           =2 #define  FIRST_SAVEDPR                  0x308   
           =2  #define TVFREQ_HIGH 0 
           =2  #define TVFREQ_LOW  1
           =2 #ifdef PAL_TV
           =2  #define TVFINETUNE  2
           =2                 // NOT Finetune: 0 , Range: -32 ~ +32
           =2  #define TVPRSYSTEM  3  
           =2                 // bit 7: Add:1 Ereased :0
           =2                 // 
           =2  #define TVCHNAME    4
           =2 
           =2  #define BYTEPERCHANNEL 9 
           =2 #endif
           =2 // NTSC_TV
           =2 #define  EEP_TVInputSel                 0x302
           =2 #define  CHN_CURAIR                             0x303   
           =2 #define  FIRSTSAVED_AIRCHN              0x308   
           =2 #define  CHN_CURCABLE                   0x403   
           =2 #define  FIRSTSAVED_CABLECHN    0x408   
           =2 #ifdef NTSC_TV
           =2  #define TVFINETUNE  0
           =2                 // NOT Finetune: 0 , Range: -32 ~ +32
           =2  #define TVPRSYSTEM  1  
           =2                 // bit 7: Add:1 Ereased :0
           =2                 // 
           =2  #define BYTEPERCHANNEL 2
           =2 #endif
           =2 
           =2 
           =2 
           =2 
           =2 WORD GetFWRevEE(void);
           =2 void SaveFWRevEE(WORD);
           =2 
           =2 BYTE GetDebugLevelEE(void);
           =2 void SaveDebugLevelEE(BYTE);
           =2 
           =2 #ifdef WIDE_SCREEN
           =2 BYTE GetWideModeEE(void);
           =2 void SaveWideModeEE(BYTE dl);
           =2 #endif
           =2 
           =2 
           =2 //BYTE GetRange4CoarseEE(void);
           =2 //void SaveRange4CoarseEE(BYTE);
           =2 
           =2 BYTE GetPossibleAutoDetectStdEE(void);
           =2 void SetPossibleAutoDetectStdEE(void);
           =2 
           =2 //BYTE GetOSDXPositionEE(void);
           =2 //BYTE GetOSDYPositionEE(void);
           =2 BYTE GetClosedCaptionFlagEE(void);
           =2 
           =2 BYTE GetVideoDatafromEE(BYTE);
           =2 void SaveVideoDatatoEE(BYTE offset, BYTE ndata);
           =2 
           =2 //BYTE GetVideoBrightnessEE(void);
           =2 //BYTE GetVideoSaturationEE(BYTE);
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 175 

           =2 //BYTE GetVideoHueEE(void);
           =2 //BYTE GetVideoSharpnessEE(void);
           =2 
           =2 //void SaveVideoContrastEE(BYTE ndata);
           =2 //void SaveVideoBrightnessEE(BYTE ndata);
           =2 //void SaveVideoSaturationEE(BYTE, BYTE ndata);
           =2 //void SaveVideoHueEE(BYTE ndata);
           =2 //void SaveVideoSharpnessEE(BYTE ndata);
           =2 
           =2 BYTE GetOSDPositionModeEE(void);
           =2 void SaveOSDPositionModeEE(BYTE ndata);
           =2 //void SaveOSDXPositionEE(BYTE);
           =2 //void SaveOSDYPositionEE(BYTE);
           =2 
           =2 void SaveClosedCaptionFlagEE(BYTE);
           =2 
           =2 BYTE GetBlockedTVEE(void);                      
           =2 void SaveBlockedTVEE(BYTE vi);          
           =2 BYTE GetBlockedTV_FLDSLEE( BYTE level ) ;
           =2 void SaveBlockedTV_FLDSLEE(BYTE level, BYTE vi) ;
           =2 
           =2 BYTE GetBlockedMovieEE(void);           
           =2 void SaveBlockedMovieEE(BYTE vi);       
           =2 #if 0
           =2 BYTE GetInputSelectionEE(void);
           =2 #endif
           =2 void SaveInputSelectionEE(BYTE val);
           =2 
           =2 //BYTE GetOSDDurationEE(void);
           =2 //void SaveOSDDurationEE(BYTE val);
           =2 
           =2 BYTE GetOSDLangEE(void);
           =2 void SaveOSDLangEE(BYTE val);
           =2 
           =2 //ljy100303...BYTE GetOSDZoomEE(void);
           =2 //ljy100303...void SaveOSDZoomEE(BYTE val);
           =2 
           =2 BYTE GetAudioVolEE(void);
           =2 void SetAudioVolEE( BYTE vol );
           =2 BYTE GetPCAudioVolEE(void);
           =2 void SetPCAudioVolEE( BYTE vol );
           =2 #if 0
           =2 BYTE GetAudioBalanceEE(void);
           =2 void SetAudioBalanceEE( BYTE vol );
           =2 BYTE GetAudioBassEE(void);
           =2 void SetAudioBassEE( BYTE vol );
           =2 BYTE GetAudioTrebleEE(void);
           =2 void SetAudioTrebleEE( BYTE vol );
           =2 #endif
           =2 //BYTE GetAudioEffectEE(void);
           =2 //void SetAudioEffectEE( BYTE vol );
           =2 
           =2 void ClearBasicEE(void);
           =2 
           =2 BYTE ValidPassword(DATA_P BYTE *numstr, BYTE index);
           =2 BYTE SetNewPassword(DATA_P BYTE *numstr, BYTE index);
           =2 
           =2 //WORD GetPanelXRes(void);
           =2 //WORD GetPanelYRes(void);
           =2 BYTE GetPanelHsyncMinPulseWidth(void);
           =2 BYTE GetPanelVsyncMinPulseWidth(void);
           =2 WORD GetPanelHMinBackPorch(void);
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 176 

           =2 BYTE GetPanelHsyncPolarity(void);
           =2 BYTE GetPanelVsyncPolarity(void);
           =2 WORD GetPanelDotClock(void);
           =2 WORD GetPanelMaxClock(void);
           =2 BYTE GetPanelPixsPerClock(void);
           =2 // Not used yet *************************  BYTE GetPanelDEonly(void);
           =2 
           =2 void AddTVChannelEE( BYTE tvtype, BYTE chn);
           =2 BYTE GetTVChannelEE( BYTE tvtype, BYTE inx);
           =2 void ResetTVChannelEE( BYTE tvtype );
           =2 BYTE GetTVChannelCntEE(BYTE tvtype);
           =2 BYTE GetTVChnIdxEE(BYTE tvtype);
           =2 BYTE GetCurTVChannelEE(BYTE tvtype);
           =2 void SetTVChnIdxEE(BYTE tvtype, BYTE newd);
           =2 void SetCurTVChannelEE(BYTE tvtype, BYTE newd);
           =2 BYTE InsertTVChannelEE(BYTE tvtype, BYTE newd);
           =2 BYTE RemoveTVChannelEE(BYTE tvtype, BYTE newd);
           =2 
           =2 void SetTVPrEE(void);
           =2 BYTE GetTVPrEE(void);
           =2 void SetTVFreqEE(BYTE, WORD);
           =2 WORD GetTVFreqEE(BYTE);
           =2 void SetFineTuneEE(BYTE, BYTE);
           =2 BYTE GetFineTuneEE(BYTE);
           =2 BYTE GetTVPrSystem(BYTE);
           =2 void SetTVPrSystem(BYTE, BYTE);
           =2 BYTE GetTVInputSelEE(void);
           =2 void SetTVInputSelEE(BYTE);
           =2 
           =2 #define GetVInputStdDetectModeEE()                              ReadEEP(EEP_AUTODETECTTYTE)
           =2 #define SaveVInputStdDetectModeEE(A)                    WriteEEP(EEP_AUTODETECTTYTE, A)
           =2 
           =2 #define GetAutoRecogntionEE()                                   ReadEEP(EEP_AUTORECOGNITION)
           =2 #define SaveAutoRecogntionEE(A)                                 WriteEEP(EEP_AUTORECOGNITION, A)
           =2 
           =2 #define SetVideoModeEE( ctid )                                  WriteEEP( EEP_VIDEOMODE, ctid )
           =2 #define GetVideoModeEE()                                                ReadEEP( EEP_VIDEOMODE )
           =2 
           =2 #define GetPanelContrastEE()                                    ReadEEP(0x10)
           =2 
           =2 #if defined( SUPPORT_PC ) || defined( SUPPORT_DTV )
           =2 //#define GetPanelHueEE()                                                       ReadEEP(0x28)
           =2 //#define GetPanelSharpnessEE()                                 ReadEEP(0x29)
           =2 #define GetPanelBrightnessEE()                                  ReadEEP(0x11)
           =2 //#define GetPanelSaturationEE()                                        ReadEEP(0x2a)
           =2 
           =2 //#define SavePanelHueEE(A)                                             WriteEEP(0x28, A)
           =2 //#define SavePanelSharpnessEE(A)                                       WriteEEP(0x29, A)
           =2 #define SavePanelContrastEE(A)                                  WriteEEP(0x10, A)
           =2 #define SavePanelBrightnessEE(A)                                WriteEEP(0x11, A)
           =2 //#define SavePanelSaturationEE(A)                              WriteEEP(0x2a, A)
           =2 #endif
           =2 
           =2 /*
           =2 #define GetDigitalVideoContrastEE()                             ReadEEP(0x2b)
           =2 #define GetDigitalVideoBrightnessEE()                   ReadEEP(0x2c)
           =2 #define GetDigitalVideoHueEE()                                  ReadEEP(0x2d)
           =2 #define GetDigitalVideoSaturationEE(off)                ReadEEP(0x2e+off)
           =2 
           =2 #define SaveDigitalVideoContrastEE(A)                   WriteEEP(0x2b, A)
           =2 #define SaveDigitalVideoBrightnessEE(A)                 WriteEEP(0x2c, A)
           =2 #define SaveDigitalVideoHueEE(A)                                WriteEEP(0x2d, A)
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 177 

           =2 #define SaveDigitalVideoSaturationEE(off,A)             WriteEEP(0x2e+off, A)
           =2 */
           =2 
           =2 #endif  // __ETC_EEP__
  14      =1  #include "pc_eep.h"
   1      =2  #ifndef __PC_EEP__
           =2 #define __PC_EEP__
           =2 
           =2 
           =2 // -----------------------------------------------------------------------------
           =2 #define PC_COLOR_DATA   0x80    // StartAddress of EEPROM for PC Color Temperature
           =2 #define PC_USERCOLOR    0x8A
           =2 #define SetPCColorTempModeEE( ctid )                    WriteEEP( PC_COLOR_DATA, ctid )
           =2 #define GetPCColorTempModeEE()                                  ReadEEP( PC_COLOR_DATA )
           =2 
           =2 #define GetPCUserColorTempEE( ucolorr)                  ReadEEP( PC_USERCOLOR+ucolorr )
           =2 #define SavePCUserColorTempEE( ucolorw, uval)   WriteEEP( PC_USERCOLOR+ucolorw, uval )
           =2 #define GetPCColorEE(index)                                             ReadEEP(index)
           =2 
           =2 // -----------------------------------------------------------------------------
           =2 #define EE_ADC_GO               0x90    // ADC Gain Offset for PC
           =2 #define EE_ADC_GO_DTV   0x98    // ADC Gain Offset for DTV
           =2 
           =2 #define EE_PCDATA               0xC0    // StartAddress of EEPROM for PCDATA
           =2 #define LEN_PCDATA              5               // Length of PCDATA
           =2 
           =2 WORD GetHPNfromEE(BYTE mode);
           =2 
           =2 BYTE CheckPcDataEEValid(BYTE, WORD);
           =2 
           =2 WORD GetVactiveStartEE(BYTE mode);
           =2 WORD GetHactiveStartEE(BYTE mode);
           =2 
           =2 void GetPCDataEE(BYTE mode);
           =2 void SavePCDataEE(BYTE mode);
           =2 void SaveDefaultPCDataEE(void);
           =2 void SaveDefaultPCDataAllEE(void);
           =2 
           =2 void SaveHactiveEE(BYTE mode);
           =2 void SaveVactiveEE(BYTE mode);
           =2 void SaveVBackPorchEE(BYTE mode);
           =2 void SaveCoarseEE(BYTE mode);
           =2 void SavePhaseEE(BYTE mode);
           =2 /*
           =2 WORD GetHactiveStartEE(BYTE mode);
           =2 WORD GetVactiveStartEE(BYTE mode);
           =2 */
           =2 void DumpPCData(void);
           =2 
           =2 void SaveActiveVEE(WORD);
           =2 void SaveBackPorchEE(BYTE);
           =2 void SaveActiveHEE(WORD);
           =2 
           =2 void SaveADCGainOffsetEE(BYTE mod);
           =2 void GetADCGainOffsetEE(void);
           =2 
           =2 void SaveADCGainOffsetForDTVEE(BYTE mod);
           =2 void GetADCGainOffsetForDTVEE(void);
           =2 
           =2 #endif  // __PC_EEP__
  15      =1  #include "audio.h"
   1      =2  
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 178 

   2      =2  
   3      =2  extern  BYTE    AudioVol;
   4      =2  extern  BYTE    PCAudioVol;
   5      =2  
   6      =2  //BYTE ResetMSP(void);
   7      =2  //void SetMSPSCARTPrescale(void);
   8      =2  //void SetMSPSourceSel(void);
   9      =2  //void SetMSPVol(void);
  10      =2  
  11      =2  //BYTE AudioAutoStdDetection(void);
  12      =2  //BYTE SteroMonoDetection(void);
  13      =2  
  14      =2  //BYTE TunerAudio(void);
  15      =2  //void ExtAudio(void);
  16      =2  //id PCAudio(void);
  17      =2  //id MuteOn(void);
  18      =2  //BYTE GetAudioVol(void);
  19      =2  BYTE ChangeVol(char);
  20      =2  //BYTE GetAudioBalance(void);
  21      =2  //BYTE ChangeBalance(char);
  22      =2  //BYTE GetAudioBass(void);
  23      =2  //BYTE ChangeBass(char);
  24      =2  //BYTE GetAudioTreble(void);
  25      =2  //BYTE ChangeTreble(char);
  26      =2  //BYTE GetAudioEffect(void);
  27      =2  //BYTE ChangeAudioEffect(char amount);
  28      =2  //void ToggleAudioMute(void);
  29      =2  //void CheckAndClearMuteOn(void);
  30      =2  
  31      =2  //BYTE IsAudioMuteOn(void);
  32      =2  //void SetAudioMute(BYTE on );
  33      =2  //void ChangeMTS(BYTE type);
  34      =2  //void AudioOff(void);
  35      =2  void AudioMute(bit mute);
  36      =2  
  37      =2  //#define AudioOn()                     SetMSPVol()
  38      =2  //void ResetAudioValue();
  16      =1  #include "printf.h"
   1      =2  #ifndef __PRINTF__
           =2 #define __PRINTF__
           =2 
           =2 #define _outchar(c) while(1) { if( !RS_Xbusy ) { SBUF = c; RS_Xbusy=1; break; } }
           =2 #define Putch(c) _outchar(c)
           =2 
           =2 #ifdef SERIAL
           =2 
           =2  void Printf ( const char CODE_P *fmt, ... );
           =2  void Puts ( CODE_P char *ptr );
           =2 
           =2 #define TW2835Cmd(a)   Puts ( a )
           =2 
           =2 #else
           =2 
           =2  #undef  DEBUG
           =2  #define Printf(a,b)    //
           =2  #define Puts(a)                //
           =2 
           =2 #endif
           =2 
           =2 
           =2 #ifndef DEBUG
           =2 
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 179 

           =2  #define dPuts(a)               //
           =2  #define wPuts(a)               //
           =2  #define ePuts(a)               //
           =2 
           =2 #else
           =2 
           =2  void dPrintf( const char CODE_P *fmt, ... );
           =2  void wPrintf( const char CODE_P *fmt, ... );
           =2  void ePrintf( const char CODE_P *fmt, ... );
           =2 
           =2  void dPuts( CODE_P char *ptr );
           =2  void wPuts( CODE_P char *ptr );
           =2  void ePuts( CODE_P char *ptr );
           =2 
           =2 #endif  // DEBUG
           =2 
           =2 BYTE Getch(void);
           =2 BYTE Getche(void);
           =2 
           =2 
           =2 #endif  //__PRINTF__
  17      =1  #include "udfont.h"
   1      =2  //udfont.h
   2      =2  #define COLORFONT_START 0x60
   3      =2  //#define       MAX_FONT_RAM_CHARS      0xa7 //174
   4      =2  #define MAX_FONT_RAM_CHARS      0x90 //6Kbytes for RAM
   5      =2  code unsigned char RAMFONTDATA[][27];
   6      =2  code unsigned char OSD_Color_LookUp_Data_Table[][8];
   7      =2  
   8      =2  
  18      =1  #include "panel.h"
   1      =2  //PanelConfig
   2      =2  
   3      =2          #if   defined SXGA
           =2                                                 #define PHR_ 1280
           =2                                                 #define PVR_ 1024
           =2         #elif defined XGA       
           =2                                                 #define PHR_ 1024
           =2                                                 #define PVR_ 768
           =2         #elif defined SVGA
           =2                                                 #define PHR_ 800
           =2                                                 #define PVR_ 600
           =2         #elif defined VGA
           =2                                                 #define PHR_ 640
           =2                                                 #define PVR_ 480
           =2         #elif defined QVGA
           =2                                                 #define PHR_ 320
           =2                                                 #define PVR_ 240
           =2         #elif defined WXGA
           =2                                                 #define PHR_ 1280 //1366
           =2                                                 #define PVR_ 768
           =2         #elif defined WSVGA
           =2                                                 #define PHR_ 1024
           =2                                                 #define PVR_ 600
           =2         #elif defined WVGA
  25      =2                                                  #define PHR_ 800
  26      =2                                                  #define PVR_ 600
  27      =2          #elif defined WQVGA
           =2                                 //              #define PHR_ 960 //480
           =2                                 //              #define PVR_ 237
           =2                                                 #define PHR_ 480 //480
           =2                                                 #define PVR_ 240
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 180 

           =2         #endif
  33      =2  
  34      =2   
  35      =2  
  36      =2  /*
  37      =2  #define ACTIVE_LOW                      0
  38      =2  #define ACTIVE_HIGH                     1
  39      =2  
  40      =2  CODE struct PanelConfig {
  41      =2          unsigned                x_res,                                  y_res;
  42      =2          unsigned char   h_sync_min_pulse_width, v_sync_min_pulse_width;
  43      =2          unsigned                h_min_back_porch;
  44      =2          unsigned char   h_sync_polarity,                v_sync_polarity;
  45      =2          unsigned                dot_clock,                              max_clock;                      // in unit Mhz*10
  46      =2          unsigned char   pixs_per_clock;
  47      =2          unsigned char   DE_only;
  48      =2  } PanelConfig=
  49      =2          {
  50      =2          //----------------------------------------------------
  51      =2          #ifdef WXGA
  52      =2          //LG  LM171W01 WXGA
  53      =2          1280,                   768,
  54      =2          8,                              1,
  55      =2          8,
  56      =2          ACTIVE_LOW,             ACTIVE_LOW,
  57      =2          #ifdef DOUBLE_PIXEL
  58      =2          320,                    470,
  59      =2          2,
  60      =2          #else
  61      =2          650,                    950,                                    //65Mhz
  62      =2          1,
  63      =2          #endif
  64      =2          0
  65      =2          //----------------------------------------------------
  66      =2          #elif defined XGA
  67      =2          //Samsung  LT150x1-151 XGA
  68      =2          1024,                   768,
  69      =2          68,                             1,
  70      =2          80,
  71      =2          ACTIVE_LOW,             ACTIVE_LOW,
  72      =2          #ifdef DOUBLE_PIXEL
  73      =2          325,                    400,                                    //32.5Mhz
  74      =2          2,
  75      =2          #else
  76      =2          650,                    800,
  77      =2          1,
  78      =2          #endif
  79      =2          0
  80      =2          //----------------------------------------------------
  81      =2          #elif defined SXGA
  82      =2          //Samsung  LT170E2-131  SXGA
  83      =2          1280,                   1024,
  84      =2          1,                              1,
  85      =2          1,
  86      =2          ACTIVE_LOW,             ACTIVE_LOW,
  87      =2          #ifdef DOUBLE_PIXEL
  88      =2          540,                    540,                                    //54.5Mhz
  89      =2          2,
  90      =2          #else
  91      =2          1080,                   1080,
  92      =2          1,
  93      =2          #endif
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 181 

  94      =2          0
  95      =2          //----------------------------------------------------
  96      =2          #elif defined WSVGA                                             // Thosiba
  97      =2          1024,                   600,
  98      =2          8,                              3,
  99      =2          1,//80,                         
 100      =2          ACTIVE_LOW,             ACTIVE_LOW,
 101      =2          #ifdef DOUBLE_PIXEL
 102      =2          325,                    450,
 103      =2          2,
 104      =2          #else
 105      =2          500,                    550,                                    //50Mhz
 106      =2          1,
 107      =2          #endif
 108      =2          0
 109      =2          //----------------------------------------------------
 110      =2  
 111      =2          #elif defined SVGA
 112      =2          //NEC NL8060AC26-11 SVGA
 113      =2          800,                    600,
 114      =2          2,                              1,
 115      =2          13,
 116      =2          ACTIVE_LOW,             ACTIVE_LOW,
 117      =2          #ifdef DOUBLE_PIXEL
 118      =2          384,                    500,                                    //38.4MHz
 119      =2          2,
 120      =2          #else
 121      =2          670,                    1000,
 122      =2          1,
 123      =2          #endif
 124      =2          0
 125      =2          //----------------------------------------------------
 126      =2          #elif defined VGA
 127      =2          //NEC NL6448AC33        VGA                                     // OK with SetPanelRegisters
 128      =2          640,                    480,
 129      =2          10,                             1,
 130      =2          4,
 131      =2          ACTIVE_LOW,             ACTIVE_LOW,
 132      =2          #ifdef DOUBLE_PIXEL
 133      =2          130,                    150,                                    //25.2MHz
 134      =2          2,
 135      =2          #else
 136      =2          250,                    300,
 137      =2          1,
 138      =2          #endif
 139      =2          0
 140      =2          //----------------------------------------------------
 141      =2  
 142      =2          #elif defined WVGA
 143      =2          // Panasonic  EDTCB27QBF WVGA
 144      =2          800,                    480,
 145      =2          4,                              1,
 146      =2          7,
 147      =2          ACTIVE_LOW,             ACTIVE_LOW,
 148      =2          #ifdef DOUBLE_PIXEL
 149      =2          166,                    200,                                    //33.2MHz
 150      =2          2,
 151      =2          #else
 152      =2          332,                    360,                                    //33.2MHz
 153      =2          1,
 154      =2          #endif
 155      =2          0
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 182 

 156      =2  
 157      =2          //----------------------------------------------------
 158      =2          #else
 159      =2          // Default : XGA panel
 160      =2          // Samsung  LT150x1-151 XGA
 161      =2          1024,                   768,
 162      =2          68,                             1,
 163      =2          80,
 164      =2          ACTIVE_LOW,             ACTIVE_LOW,
 165      =2          #ifdef DOUBLE_PIXEL
 166      =2          325,                    400,                                    //32.5Mhz
 167      =2          2,
 168      =2          #else
 169      =2          650,                    800,                                    //32.5Mhz
 170      =2          1,
 171      =2          #endif
 172      =2          0
 173      =2          #endif
 174      =2          };
 175      =2  
 176      =2  */
  19      =1  
  20      =1  #include "rgbmix.h"             // for TW8801
   1      =2  #ifndef __RGBMIX__
           =2 #define __RGBMIX__
           =2 
           =2 #include "RegMap.h"
           =2 
           =2 //#define       SetDigitalVideoContrastReg(vcval)                               WriteTW88(0x3b, vcval)
           =2 //#define       SetDigitalVideoBrightnessReg(vbval)                             WriteTW88(0x3c, vbval )
           =2 //#define       SetDigitalVideoHueReg(vhval)                                    WriteTW88(0x32, vhval )
           =2 //#define       SetDigitalVideoSaturationReg(gain, vhval)               WriteTW88(0x3d+gain, (ReadTW88(0x3d+gain)&0x80) + vhv
             -al )
           =2 #define SetDigitalVideoContrastReg(vcval)                               WriteI2C(DECODERADDRESS, SCONTRAST, vcval)
           =2 #define SetDigitalVideoBrightnessReg(vbval)                             WriteI2C(DECODERADDRESS, SBRIGHT,       vbval )
           =2 #define SetDigitalVideoHueReg(vhval)                                    WriteI2C(DECODERADDRESS, SHUE,  vhval )
           =2 #define SetDigitalVideoSaturationReg(gain, vhval)               WriteI2C(DECODERADDRESS, SCbGAIN+gain, (ReadI2C(DECODER
             -ADDRESS, SCbGAIN+gain)&0x80) + vhval )
           =2 
           =2 #endif // __RGBMIX__
  21      =1  #include "Externs.h"
   1      =2  //
   2      =2  //Externs.h     : Register declaration
   3      =2  //
   4      =2  #ifdef INTERNAL_MCU
           =2 extern xdata BYTE REG00, REG01, REG02, REG03, REG04, REG05, REG06, REG07, REG08, REG09, REG0a, REG0b, REG0
             -c, REG0d, REG0e, REG0f,
           =2                   REG10, REG11, REG12, REG13, REG14, REG15, REG16, REG17, REG18, REG19, REG1a, REG1b, REG1c, REG1d, REG1
             -e, REG1f,
           =2                   REG20, REG21, REG22, REG23, REG24, REG25, REG26, REG27, REG28, REG29, REG2a, REG2b, REG2c, REG2d, REG2
             -e, REG2f,
           =2                   REG30, REG31, REG32, REG33, REG34, REG35, REG36, REG37, REG38, REG39, REG3a, REG3b, REG3c, REG3d, REG3
             -e, REG3f,
           =2                   REG40, REG41, REG42, REG43, REG44, REG45, REG46, REG47, REG48, REG49, REG4a, REG4b, REG4c, REG4d, REG4
             -e, REG4f,
           =2                   REG50, REG51, REG52, REG53, REG54, REG55, REG56, REG57, REG58, REG59, REG5a, REG5b, REG5c, REG5d, REG5
             -e, REG5f,
           =2                   REG60, REG61, REG62, REG63, REG64, REG65, REG66, REG67, REG68, REG69, REG6a, REG6b, REG6c, REG6d, REG6
             -e, REG6f,
           =2                   REG70, REG71, REG72, REG73, REG74, REG75, REG76, REG77, REG78, REG79, REG7a, REG7b, REG7c, REG7d, REG7
             -e, REG7f,
           =2                   REG80, REG81, REG82, REG83, REG84, REG85, REG86, REG87, REG88, REG89, REG8a, REG8b, REG8c, REG8d, REG8
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 183 

             -e, REG8f,
           =2                   REG90, REG91, REG92, REG93, REG94, REG95, REG96, REG97, REG98, REG99, REG9a, REG9b, REG9c, REG9d, REG9
             -e, REG9f,
           =2                   REGa0, REGa1, REGa2, REGa3, REGa4, REGa5, REGa6, REGa7, REGa8, REGa9, REGaa, REGab, REGac, REGad, REGa
             -e, REGaf,
           =2                   REGb0, REGb1, REGb2, REGb3, REGb4, REGb5, REGb6, REGb7, REGb8, REGb9, REGba, REGbb, REGbc, REGbd, REGb
             -e, REGbf,
           =2                   REGc0, REGc1, REGc2, REGc3, REGc4, REGc5, REGc6, REGc7, REGc8, REGc9, REGca, REGcb, REGcc, REGcd, REGc
             -e, REGcf,
           =2                   REGd0, REGd1, REGd2, REGd3, REGd4, REGd5, REGd6, REGd7, REGd8, REGd9, REGda, REGdb, REGdc, REGdd, REGd
             -e, REGdf,
           =2                   REGe0, REGe1, REGe2, REGe3, REGe4, REGe5, REGe6, REGe7, REGe8, REGe9, REGea, REGeb, REGec, REGed, REGe
             -e, REGef,
           =2                   REGf0, REGf1, REGf2, REGf3, REGf4, REGf5, REGf6, REGf7, REGf8, REGf9, REGfa, REGfb, REGfc, REGfd, REGf
             -e, REGff;
           =2 
           =2 #endif  // internal MCU only variables
  23      =2  
  22      =1  
  23      =1  CODE struct RegisterInfo UserRange={0,100,50};
  24      =1  
  25      =1  CODE struct RegisterInfo OSDMenuYRange= { OSDMENUY_MIN, OSDMENUY_MAX,   OSDMENUY_50             };                              
  26      =1  CODE struct RegisterInfo OSDMenuXRange= { OSDMENUX_MIN, OSDMENUX_MAX,   OSDMENUX_50             };                              
  27      =1  
  28      =1  CODE struct RegisterInfo PCUserColorTempRange = { 0, 55, 28 };                  
  29      =1  
  30      =1  CODE struct RegisterInfo PanelContrastRange={   0,199,100};
  31      =1  CODE struct RegisterInfo PanelBrightnessRange={ 45,210,128};
  32      =1  CODE struct RegisterInfo PanelSharpnessRange={  0,7,3};
  33      =1  CODE struct RegisterInfo PanelHueRange={        0,0x3f,0x20};
  34      =1  CODE struct RegisterInfo PanelSaturationRange={ 45,210,128};
  35      =1  CODE struct RegisterInfo PanelBacklightRange={  0,31,16};
  36      =1  
  37      =1  CODE struct RegisterInfo VideoContrastRange={   0,204,102/*0,255,128*/};                //william-v1.1-20100205
  38      =1  CODE struct RegisterInfo VideoBrightnessRange={ -128,127,0};
  39      =1  CODE struct RegisterInfo VideoSaturationRange={ 0,255,128};
  40      =1  CODE struct RegisterInfo VideoHueRange={        -128,127,0};    //-90~90
  41      =1  CODE struct RegisterInfo VideoSharpnessRange={  0,7,3};
  42      =1  CODE struct RegisterInfo DigitalVideoSaturationRange={0, 0x7f, 0x40};
  43      =1  
  44      =1  #define contrast 0
  45      =1  #define bright   1
  46      =1  #define staturation_U 2
  47      =1  #define staturation_V 3
  48      =1  #define hue              4
  49      =1  #define sharpness 5
  50      =1  #define backlight 7
  51      =1  
  52      =1  CODE BYTE Contast_Reg_Addr[]={0x11, // Composite
  53      =1                                                            0x11, // Svideo
  54      =1                                    0x3b, // Component
  55      =1                                    0x71, // DTV
  56      =1                                    0x11, // TV
  57      =1                                    0x3b  // Scart
  58      =1          };
  59      =1  #ifdef WIDE_SCREEN
  60      =1  extern BYTE WideScreenMode;
  61      =1  #define MAXWIDESCREEN 4
  62      =1  #endif
  63      =1  #ifdef SUPPORT_COMPONENT
           =1 extern  BYTE  ComponentMode;
           =1 #endif
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 184 

  66      =1  extern   BYTE  InputSelection;
  67      =1  
  68      =1  //==============================================================
  69      =1  //
  70      =1  //  OSD Menu Operation Function
  71      =1  //
  72      =1  //==============================================================
  73      =1  #define MAX_OSDPOSITIONMODE     5
  74      =1  CODE BYTE OSDPOSITIONMODE_TABLE[][2] = { 
  75      =1          {OSDMENUX_50, OSDMENUY_50},
  76      =1          {OSDMENUX_MIN,OSDMENUY_MIN},
  77      =1          {OSDMENUX_MIN,OSDMENUY_MAX},
  78      =1          {OSDMENUX_MAX,OSDMENUY_MAX},
  79      =1          {OSDMENUX_MAX,OSDMENUY_MIN},
  80      =1  };
  81      =1  
  82      =1  #ifdef SUPPORT_OSDPOSITIONMOVE
  83      =1  BYTE GetOSDPositionMode(void)
  84      =1  {
  85   1  =1          BYTE val;
  86   1  =1          val = GetOSDPositionModeEE();
  87   1  =1  //      Printf("OSD Position=%d\r\n",(BYTE)val);
  88   1  =1          
  89   1  =1          return val;
  90   1  =1  }
  91      =1  
  92      =1  BYTE SetOSDPositionMode( BYTE flag )
  93      =1  {
  94   1  =1          int val, addx, addy;
  95   1  =1          BYTE i,inc, winno;
  96   1  =1          BYTE OSDStart[5][3];
  97   1  =1          WORD tmp;
  98   1  =1  
  99   1  =1          #ifdef ADD_ANALOGPANEL
           =1                 if(IsAnalogOn()) return 0;
           =1         #endif
 102   1  =1  
 103   1  =1  
 104   1  =1          // Get OSD Position Mode
 105   1  =1          i = GetOSDPositionMode();
 106   1  =1          inc = ( flag==UP  ? 1  :  -1  );
 107   1  =1          i = i + MAX_OSDPOSITIONMODE + inc;
 108   1  =1          i %= MAX_OSDPOSITIONMODE;
 109   1  =1  
 110   1  =1          addx = OSDPOSITIONMODE_TABLE[i][0];
 111   1  =1          addx -= OSDMenuX;
 112   1  =1          OSDMenuX = OSDPOSITIONMODE_TABLE[i][0];
 113   1  =1  
 114   1  =1          addy = OSDPOSITIONMODE_TABLE[i][1];
 115   1  =1          addy -= OSDMenuY;
 116   1  =1          OSDMenuY = OSDPOSITIONMODE_TABLE[i][1];
 117   1  =1  
 118   1  =1          for( winno=OSDCURSORWINDOW; winno<=OSDMENU_TITLEWIN; winno++) {
 119   2  =1                  val = GetOSDWindowX( winno );
 120   2  =1                  val += addx;
 121   2  =1                  tmp = (BYTE)val<<3;
 122   2  =1                  OSDStart[winno-OSDCURSORWINDOW][1] = tmp;
 123   2  =1                  OSDStart[winno-OSDCURSORWINDOW][0] = tmp>>8;
 124   2  =1  
 125   2  =1                  val = GetOSDWindowY( winno );
 126   2  =1                  val += addy;
 127   2  =1                  tmp = (BYTE)val<<2;
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 185 

 128   2  =1                  OSDStart[winno-OSDCURSORWINDOW][2] = tmp;
 129   2  =1                  OSDStart[winno-OSDCURSORWINDOW][0] = OSDStart[winno-OSDCURSORWINDOW][0] | (tmp>>4 & 0x70);
 130   2  =1          }
 131   1  =1  
 132   1  =1          WaitEndofDisplayArea(); 
 133   1  =1          //WriteTW88(0x90, 0x80); //Close OSD by external
 134   1  =1  /*      for (winno=OSDCURSORWINDOW; winno<=OSDMENU_TITLEWIN ;winno++ )
 135   1  =1          {
 136   1  =1                  SetOSDWindowNum(j);
 137   1  =1                  WriteTW88(TW88_WINATTR, 0x00);
 138   1  =1          }
 139   1  =1  
 140   1  =1  
 141   1  =1          delay(1);
 142   1  =1  */
 143   1  =1          // Move OSD Position of each windows
 144   1  =1  //      WriteTW88(0xff, ReadTW88(0xff) & 0xef);
 145   1  =1          WriteTW88(0xe0, ReadTW88(0xe0) & 0xef);
 146   1  =1          for( winno=OSDCURSORWINDOW; winno<=OSDMENU_TITLEWIN; winno++) {
 147   2  =1                  SetOSDWindowNum(winno);                         // set winno
 148   2  =1                  WriteI2Cn(TW88I2CAddress, 0xa0, &OSDStart[winno-OSDCURSORWINDOW], 3);  
 149   2  =1          }
 150   1  =1  //      WriteTW88(0xff, ReadTW88(0xff) | 0x10);
 151   1  =1          WriteTW88(0xe0, ReadTW88(0xe0) | 0x10);
 152   1  =1          SaveOSDPositionModeEE(i);
 153   1  =1  
 154   1  =1          WaitEndofDisplayArea(); 
 155   1  =1          WriteTW88(0x90, 0); // Open OSD
 156   1  =1  
 157   1  =1  
 158   1  =1          return i;
 159   1  =1  }
 160      =1  
 161      =1  /*
 162      =1  BYTE GetOSDMenuXValue(void)
 163      =1  {
 164      =1          int ival;
 165      =1  
 166      =1          Mapping1(OSDMenuX, &OSDMenuXRange, &ival, &UserRange);
 167      =1          OSDItemValue = ival;
 168      =1          return (BYTE)ival;
 169      =1  }
 170      =1  
 171      =1  BYTE GetOSDMenuYValue(void)
 172      =1  {
 173      =1          int ival;
 174      =1  
 175      =1          Mapping1(OSDMenuY, &OSDMenuYRange, &ival, &UserRange);
 176      =1          OSDItemValue = ival;
 177      =1          return (BYTE)ival;
 178      =1  }
 179      =1  
 180      =1  
 181      =1  BYTE SetOSDMenuYValue(BYTE flag)
 182      =1  {
 183      =1  
 184      =1          int val, add;
 185      =1          BYTE winno;
 186      =1  
 187      =1      add = ( flag==UP  ? 1  :  -1  );
 188      =1          val =  OSDItemValue + add;
 189      =1          if( val< UserRange.Min || val> UserRange.Max ) {
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 186 

 190      =1                  return GetOSDMenuYValue();
 191      =1          }
 192      =1  
 193      =1          Mapping1(val, &UserRange, &add, &OSDMenuYRange);
 194      =1          SaveOSDYPositionEE(add);
 195      =1          add -= OSDMenuY;
 196      =1          OSDMenuY += add;
 197      =1          SaveOSDYPositionEE(OSDMenuY);
 198      =1          OSDItemValue = val;
 199      =1  
 200      =1          for( winno=OSDCURSORWINDOW; winno<=OSDMENU_TITLEWIN; winno++) {
 201      =1                  val = GetOSDWindowY( winno );
 202      =1                  SetOSDWindowY(winno,val+add);
 203      =1          }
 204      =1          return OSDItemValue;
 205      =1  }
 206      =1  
 207      =1  BYTE SetOSDMenuXValue(BYTE flag)
 208      =1  {
 209      =1          int val, add;
 210      =1          BYTE winno;
 211      =1  
 212      =1          add = ( flag==UP  ? 1  :  -1  );
 213      =1          val = OSDItemValue + add;
 214      =1          if( val< UserRange.Min || val> UserRange.Max ) {
 215      =1                  return OSDItemValue;
 216      =1          }
 217      =1  
 218      =1          Mapping1(val, &UserRange, &add, &OSDMenuXRange);
 219      =1          add -= OSDMenuX;
 220      =1          OSDMenuX += add;
 221      =1          SaveOSDXPositionEE(OSDMenuX);
 222      =1          OSDItemValue = val;
 223      =1  
 224      =1          for( winno=OSDCURSORWINDOW; winno<=OSDMENU_TITLEWIN; winno++) {
 225      =1                  val = GetOSDWindowX( winno );
 226      =1                  SetOSDWindowX(winno,val+add);
 227      =1          }
 228      =1          return OSDItemValue;
 229      =1  
 230      =1  }
 231      =1  */
 232      =1  #endif
 233      =1  /*
 234      =1  BYTE SetOSDDuration(BYTE newd)
 235      =1  {
 236      =1          OSDDuration = newd;
 237      =1          return OSDDuration;
 238      =1  }
 239      =1  
 240      =1  */
 241      =1  void ResetOSDValue(void)
 242      =1  {
 243   1  =1  
 244   1  =1          OSDMenuX = OSDPOSITIONMODE_TABLE[0][0];  // Default
 245   1  =1          OSDMenuY = OSDPOSITIONMODE_TABLE[0][1];
 246   1  =1          #ifdef SUPPORT_OSDPOSITIONMOVE
 247   1  =1          SaveOSDPositionModeEE(0);
 248   1  =1          #endif
 249   1  =1  
 250   1  =1  
 251   1  =1         WriteEEP(EEP_SelectMode,CAM_A);
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 187 

 252   1  =1             WriteEEP(EEP_AutoMode,0x01);   // AutoMode...... ON   
 253   1  =1             WriteEEP(EEP_IMAGEMode,0x00);         // IMAGEMode..... SINGLE
 254   1  =1             WriteEEP(EEP_RearMode,0x00);          // RearMode...... R  
 255   1  =1             WriteEEP(EEP_TriggerVGA,0x00);        // trigger vga...... on  
 256   1  =1             WriteEEP(EEP_GAUGEMode,0x00);         // OSD....... ON   
 257   1  =1             WriteEEP(EEP_Powerflag,0x01);         // POWER FLAG....... ON  
 258   1  =1             WriteEEP(EEP_COSDMode,0x00);          // Display OSD... ON 
 259   1  =1             WriteEEP(EEP_DVRDisplay,0x00);        //DVR Display OSD... ON           
 260   1  =1             WriteEEP(EEP_CAMAMode,0x01);          // MirrorA....... OFF
 261   1  =1             WriteEEP(EEP_CAMBMode,0x01);          // MirrorB....... OFF
 262   1  =1             WriteEEP(EEP_CAMCMode,0x01);          // MirrorC....... OFF
 263   1  =1             WriteEEP(EEP_CAMRMode,0x00);          // MirrorR....... ON
 264   1  =1             WriteEEP(EEP_AUDIOPVOL,50);  // MirrorR....... ON
 265   1  =1             WriteEEP(EEP_PCAUDIOPVOL,50);        // MirrorR....... ON
 266   1  =1             WriteEEP(EEP_AudioRecord,0x03);       // dvr audio channel
 267   1  =1  
 268   1  =1             WriteEEP(EEP_IMAGE_A_Mode,0x00);
 269   1  =1             WriteEEP(EEP_IMAGE_B_Mode,0x00);
 270   1  =1             WriteEEP(EEP_IMAGE_C_Mode,0x00);
 271   1  =1          
 272   1  =1             if(Priority==0)
 273   1  =1             {
 274   2  =1                  WriteEEP(EEP_JUMPMode,0);         // JUMPMode...... QUAL
 275   2  =1                  WriteEEP(EEP_ONOFFChoice,0x01);         // OSD  lock....... off         
 276   2  =1             }
 277   1  =1                  else
 278   1  =1             {
 279   2  =1                  WriteEEP(EEP_JUMPMode,13);              // JUMPMode...... QUAL
 280   2  =1                  WriteEEP(EEP_ONOFFChoice,0x00);         // OSD  lock....... off         
 281   2  =1             }
 282   1  =1              SEQFlag=0;
 283   1  =1  
 284   1  =1             WriteEEP(EEP_TimeStep,0x02);          // TimerStep.....02
 285   1  =1             WriteEEP(EEP_CAMOutMode,0x00);        // CAMOut........ QUAL 
 286   1  =1             CAMOutDSel( 0x00 );  ///V1.1 02/27/07 simonsung 
 287   1  =1             TW2835Cmd("\n\rmode 0\n\r");
 288   1  =1             ClearDataCnt(INPUTINFO_ADDR, 51);   //william-980416
 289   1  =1  
 290   1  =1             WriteEEP(EEP_AudioRecord,0); 
 291   1  =1             WriteEEP(EEP_FirstNumber,1); 
 292   1  =1             WriteEEP(EEP_SecondNumber,1); 
 293   1  =1             WriteEEP(EEP_ThridNumber,1); 
 294   1  =1             WriteEEP(EEP_FourthNumber,1); 
 295   1  =1             LoadEEPROM();
 296   1  =1          SaveOSDLangEE(0);       // Save default Language1
 297   1  =1  
 298   1  =1           WriteEEP(EEP_PELCO,0x00);
 299   1  =1           PelcoChoiceFLAG = ReadEEP(EEP_PELCO);
 300   1  =1          WriteEEP(EEP_CAMNUMBER,0x01);
 301   1  =1          CAMNumber = ReadEEP(EEP_CAMNUMBER);
 302   1  =1          WriteEEP(EEP_Baud_rate,0x02);
 303   1  =1          Baud_rate = ReadEEP(EEP_Baud_rate);
 304   1  =1          
 305   1  =1          InitOSDMenu();  
 306   1  =1  }
 307      =1  #ifdef E_Wintek
           =1 void ResetUESROSDValue(void)
           =1 {
           =1 
           =1           WriteEEP(EEP_SelectMode,CAM_A);
           =1            WriteEEP(EEP_AutoMode,0x01);   // AutoMode...... ON   
           =1            WriteEEP(EEP_IMAGEMode,0x00);         // IMAGEMode..... SINGLE
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 188 

           =1            WriteEEP(EEP_RearMode,0x00);          // RearMode...... R  
           =1            //WriteEEP(EEP_TriggerVGA,0x00);      // trigger vga...... on  
           =1            //WriteEEP(EEP_GAUGEMode,0x00);       // OSD....... ON   
           =1            WriteEEP(EEP_Powerflag,0x01);         // POWER FLAG....... ON  
           =1            //WriteEEP(EEP_COSDMode,0x00);        // Display OSD... ON 
           =1            //WriteEEP(EEP_DVRDisplay,0x00);      //DVR Display OSD... ON           
           =1            //WriteEEP(EEP_CAMAMode,0x01);        // MirrorA....... OFF
           =1            //WriteEEP(EEP_CAMBMode,0x01);        // MirrorB....... OFF
           =1            //WriteEEP(EEP_CAMCMode,0x01);        // MirrorC....... OFF
           =1            //WriteEEP(EEP_CAMRMode,0x00);        // MirrorR....... ON
           =1            WriteEEP(EEP_AUDIOPVOL,50);  // MirrorR....... ON
           =1            WriteEEP(EEP_PCAUDIOPVOL,50);        // MirrorR....... ON
           =1            //WriteEEP(EEP_AudioRecord,0x03);     // dvr audio channel
           =1            WriteEEP(EEP_JUMPMode,0);      // JUMPMode...... QUAL
           =1            WriteEEP(EEP_ONOFFChoice,0x01);      // OSD  lock....... off         
           =1         
           =1            ClearDataCnt(INPUTINFO_ADDR, 51);   //william-980416
           =1 
           =1           LoadEEPROM();
           =1           SaveOSDLangEE(0);     // Save default Language1
           =1           InitOSDMenu();        
           =1 }
           =1 #endif
 337      =1  #define HOUR                    1
 338      =1  #define MIN                             2
 339      =1  #define MAX_LANG        5       // Max Language : 2
 340      =1  BYTE GetOSDLang(void)
 341      =1  {
 342   1  =1          OSDLang = GetOSDLangEE();
 343   1  =1          OSDLang %= MAX_LANG;
 344   1  =1          return OSDLang;
 345   1  =1  }
 346      =1  
 347      =1  BYTE SetLanguage (BYTE flag)
 348      =1  {
 349   1  =1          char inc;
 350   1  =1          inc = ( flag==UP  ? 1  :  -1  );
 351   1  =1          OSDLang = OSDLang + MAX_LANG + inc;
 352   1  =1          OSDLang %= MAX_LANG ; 
 353   1  =1  
 354   1  =1          SaveOSDLangEE(OSDLang);
 355   1  =1  
 356   1  =1          return OSDLang;
 357   1  =1  }
 358      =1  
 359      =1  #if 0
           =1 #define INC_SLEEPTIMER          30
           =1 #define MAX_SLEEPTIMER          150
           =1 
           =1 BYTE ChangeSleepTimer( BYTE flag )
           =1 {
           =1         int t;
           =1 
           =1         t = OSDItemValue / INC_SLEEPTIMER * INC_SLEEPTIMER;             //cut edge of remained sleep timer.
           =1 
           =1         if( flag==UP )  t+= INC_SLEEPTIMER;
           =1         else                    t-= INC_SLEEPTIMER;
           =1 
           =1         if( t<0 )               t = 0;
           =1         if( t> MAX_SLEEPTIMER)  t = MAX_SLEEPTIMER;
           =1 
           =1         OSDItemValue = t;
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 189 

           =1         return OSDItemValue;
           =1 }
           =1 #endif
 379      =1  
 380      =1  //======================================================================
 381      =1  /*BYTE GetOSDDurationValue(void)
 382      =1  {
 383      =1          OSDItemValue = GetOSDDurationEE();
 384      =1          return OSDItemValue;
 385      =1  
 386      =1  }
 387      =1  
 388      =1  BYTE GetOSDDuration(void)
 389      =1  {
 390      =1          return OSDDuration;
 391      =1  }
 392      =1  */
 393      =1  void SetRGBContrast( BYTE temp, BYTE val )
 394      =1  {
 395   1  =1          WORD index;
 396   1  =1          BYTE i;
 397   1  =1          int newval, toValue;
 398   1  =1  
 399   1  =1          index = PC_COLOR_DATA + 1 + temp*3;
 400   1  =1          for( i=0; i<3; i++)
 401   1  =1          {
 402   2  =1                   newval = ReadEEP( index+i );
 403   2  =1                   Mapping1( newval, &UserRange , &toValue, &PCUserColorTempRange);
 404   2  =1                   SetPanelContrastReg(i,   toValue + val );
 405   2  =1          }
 406   1  =1  }
 407      =1  
 408      =1  #define MAX_COLORTEMP   4
 409      =1  
 410      =1  CODE BYTE PCColorTempRGB[][3]={
 411      =1          75,             50,             50,                             // Mode 1: Warm
 412      =1          50,             50,             50,                             // Mode 2: plain -- COLOR_MODE2
 413      =1          50,             50,             75,                             // Mode 3: Cold
 414      =1          50,             50,             50                              // User mode
 415      =1  };
 416      =1  
 417      =1  #define COLOR_MODE2             1
 418      =1  #define COLOR_USER              3
 419      =1  
 420      =1  BYTE SetPCColorTemp(BYTE flag)
 421      =1  {
 422   1  =1          BYTE val;
 423   1  =1          int  regv;
 424   1  =1          char inc;
 425   1  =1  
 426   1  =1          //OSDItemValue = GetPCColorTempModeEE();
 427   1  =1  
 428   1  =1          inc = ( flag==UP  ? 1  :  -1  );
 429   1  =1          OSDItemValue = OSDItemValue + MAX_COLORTEMP + inc;
 430   1  =1          OSDItemValue %= MAX_COLORTEMP ; 
 431   1  =1  
 432   1  =1          SetPCColorTempModeEE ( OSDItemValue );
 433   1  =1          val = GetPanelContrastEE();
 434   1  =1          Mapping1( val, &UserRange ,&regv, &PanelContrastRange);
 435   1  =1          SetRGBContrast( OSDItemValue, (BYTE)regv );
 436   1  =1  
 437   1  =1          if( GetPCColorTempModeEE() != 3 )  // User
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 190 

 438   1  =1                          DrawAttrCnt(OSDMENU_SUBADDR+MENU_WIDTH*2, BACK_COLOR, (MENU_HEIGHT-1)*MENU_WIDTH );     
 439   1  =1          else
 440   1  =1                          DrawAttrCnt(OSDMENU_SUBADDR+MENU_WIDTH*2, DEFAULT_COLOR, (MENU_HEIGHT-1)*MENU_WIDTH );  
 441   1  =1  
 442   1  =1          return OSDItemValue;
 443   1  =1  }
 444      =1  
 445      =1  #ifdef SUPPORT_PC
 446      =1  BYTE GetPCColorTemp(BYTE color) 
 447      =1  {
 448   1  =1          OSDItemValue = GetPCUserColorTempEE(color);
 449   1  =1          return OSDItemValue;
 450   1  =1  }
 451      =1  #endif
 452      =1  
 453      =1  BYTE SetPCColor(BYTE color, BYTE flag) 
 454      =1  {
 455   1  =1          int newval, toValue, regv;
 456   1  =1  
 457   1  =1  //      GetPCColorTemp(color);
 458   1  =1          newval = ( flag==UP  ? OSDItemValue+1  :  OSDItemValue-1  );
 459   1  =1          if( newval< UserRange.Min || newval> UserRange.Max )
 460   1  =1                  return OSDItemValue;
 461   1  =1  
 462   1  =1          OSDItemValue = newval;
 463   1  =1          Mapping1( newval, &UserRange , &toValue, &PCUserColorTempRange);
 464   1  =1          SavePCUserColorTempEE(color, newval);
 465   1  =1  
 466   1  =1          newval = GetPanelContrastEE() ;
 467   1  =1          Mapping1( newval, &UserRange ,&regv, &PanelContrastRange);
 468   1  =1  
 469   1  =1          SetPanelContrastReg(color,(BYTE)(toValue + regv) );
 470   1  =1  
 471   1  =1          return  OSDItemValue;
 472   1  =1  }
 473      =1  
 474      =1  
 475      =1  
 476      =1  #if defined( SUPPORT_PC ) || defined( SUPPORT_DTV )
 477      =1  
 478      =1  void ResetPanelAttributeValue(void)
 479      =1  {
 480   1  =1          BYTE i, j;
 481   1  =1  
 482   1  =1          SetPCColorTempModeEE( COLOR_USER );     //default
 483   1  =1          for( j=0; j< 4; j++)
 484   1  =1                  for( i=0; i< 3; i++)
 485   1  =1                          WriteEEP ( PC_COLOR_DATA + 1 + j*3 + i, PCColorTempRGB[j][i] );
 486   1  =1  
 487   1  =1          SavePanelContrastEE( UserRange.Default );
 488   1  =1          SavePanelBrightnessEE( UserRange.Default );
 489   1  =1  
 490   1  =1          GetInitPanelAttribute1();               // Panel Brightness / Contrast
 491   1  =1  }
 492      =1  
 493      =1  BYTE SetPanelContrast(BYTE flag) 
 494      =1  {
 495   1  =1  
 496   1  =1          int newval, regv;
 497   1  =1  
 498   1  =1          newval = ( flag==UP  ? OSDItemValue+1  :  OSDItemValue-1  );
 499   1  =1          if( newval< UserRange.Min || newval> UserRange.Max )
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 191 

 500   1  =1                  return OSDItemValue;
 501   1  =1  
 502   1  =1          Mapping1( newval, &UserRange , &regv, &PanelContrastRange);
 503   1  =1          SetRGBContrast( GetPCColorTempModeEE(), regv );
 504   1  =1          SavePanelContrastEE(newval);
 505   1  =1  
 506   1  =1          OSDItemValue = newval;
 507   1  =1          return newval;
 508   1  =1  }
 509      =1  
 510      =1  BYTE SetPanelBrightness(BYTE flag) 
 511      =1  {
 512   1  =1  
 513   1  =1          int newv, regv;
 514   1  =1  
 515   1  =1          newv = ( flag==UP  ? OSDItemValue+1  :  OSDItemValue-1  );
 516   1  =1          if( newv< UserRange.Min || newv> UserRange.Max )
 517   1  =1                  return OSDItemValue;
 518   1  =1  
 519   1  =1          Mapping1( newv, &UserRange , &regv, &PanelBrightnessRange);
 520   1  =1          SetPanelBrightnessReg(RED,  (BYTE)regv);
 521   1  =1          SetPanelBrightnessReg(GREEN,(BYTE)regv);
 522   1  =1          SetPanelBrightnessReg(BLUE, (BYTE)regv);
 523   1  =1          SavePanelBrightnessEE(newv);
 524   1  =1          OSDItemValue = newv;
 525   1  =1          return newv;
 526   1  =1  }
 527      =1  
 528      =1  #endif
 529      =1  //william-981111                changesource load panelimage
 530      =1  void CheckPanelImage(void)
 531      =1  {
 532   1  =1          int newv, regv,newval;
 533   1  =1                  
 534   1  =1          if(InputSelection==PC)
 535   1  =1          {
 536   2  =1          //LOAD  PanelBrightness
 537   2  =1                  newv=GetPanelBrightnessEE();    
 538   2  =1                  Mapping1( newv, &UserRange , &regv, &PanelBrightnessRange);
 539   2  =1                  WriteTW88(0x70,ReadTW88(0x70)&0xbf);
 540   2  =1                  SetPanelBrightnessReg(RED,      (BYTE)regv);
 541   2  =1                  SetPanelBrightnessReg(GREEN,(BYTE)regv);
 542   2  =1                  SetPanelBrightnessReg(BLUE, (BYTE)regv);
 543   2  =1  
 544   2  =1          //LOAD  PanelContrast
 545   2  =1                  newval=GetPanelContrastEE();
 546   2  =1                  Mapping1( newval, &UserRange , &regv, &PanelContrastRange);
 547   2  =1                  SetRGBContrast( GetPCColorTempModeEE(), regv );
 548   2  =1          }
 549   1  =1          else
 550   1  =1          {
 551   2  =1                  WriteTW88(0x70,ReadTW88(0x70)&0xbf);
 552   2  =1                  SetPanelBrightnessReg(RED,      0x80);
 553   2  =1                  SetPanelBrightnessReg(GREEN,0x80);
 554   2  =1                  SetPanelBrightnessReg(BLUE, 0x80);
 555   2  =1                  SetPanelContrastReg(0,0x80);
 556   2  =1                  SetPanelContrastReg(1,0x80);
 557   2  =1                  SetPanelContrastReg(2,0x80);
 558   2  =1                  WriteTW88(0x70,ReadTW88(0x70)|0x40);
 559   2  =1          }
 560   1  =1  
 561   1  =1  }
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 192 

 562      =1  CODE BYTE VideoModeTable[][16] ={
 563      =1          {       0x11,   0x10,   0x13,   0x14, 0x15,  0x70, 0x71, 0x74, 0x72, 0x73, 0x70, 0x71, 0x74, 0x72, 0x73, 0x78,  },
             -// TW8804's Video Picture control Reg Address
 564      =1  //    contrast+bright-+-sat_u-+-sat_v+-hue-+-----+-----+------+----+-----+-----+------------ 
 565      =1          {       0x63,   0x00,   0x80,   0x80, 0x00, 0x60, 0x80,  0x80, 0x80, 0x80, 0x20, 0x80,  0x80, 0x80, 0x80, 0x3b,  },
             -        // Mode 1: 
 566      =1          {       0x68,   0xf8,   0x90,   0x90, 0x00, 0x60, 0x80,  0x80, 0x80, 0x80, 0x20, 0x80,  0x80, 0x80, 0x80, 0x03,  },     /
             -/ Mode 2: 
 567      =1          {       0x58,   0xf8,   0xa0,   0xa0, 0x00, 0x60, 0x80,  0x80, 0x80, 0x80, 0x20, 0x80,  0x80, 0x80, 0x80, 0x03,  },     /
             -/ Mode 3: 
 568      =1  //      {       0x60,   0x00,   0x80,   0x80, 0x00, 0x80, 0x80,  0x80, 0x80, 0x80, 0x60, 0x80,  0x80, 0x80, 0x80, 0x03,  },
             -        // User Mode 
 569      =1  };
 570      =1  
 571      =1  #define USER_VIDEOMODE  3
 572      =1  void SetVideoMode(BYTE mode)
 573      =1  {
 574   1  =1          int  i,regv;
 575   1  =1  
 576   1  =1          SetVideoModeEE ( mode );
 577   1  =1          
 578   1  =1          if( mode != USER_VIDEOMODE ){
 579   2  =1  
 580   2  =1                  for (i=0 ;i<15 ; i++)
 581   2  =1                          WriteTW88( VideoModeTable[0][i],  VideoModeTable[mode+1][i] );
 582   2  =1  
 583   2  =1                  regv = VideoModeTable[mode+1][15];      // Sharpness
 584   2  =1                  SetPanelSharpnessReg( (BYTE)regv );
 585   2  =1                  SetVideoVPeakingReg( (BYTE)regv );
 586   2  =1  //              SetVideoHfilterReg( (BYTE)regv );
 587   2  =1          }
 588   1  =1          else // USERMODE
 589   1  =1          {
 590   2  =1                  #ifndef SUPPORT_USERCOLORFROMTXT
 591   2  =1                  {
 592   3  =1                  int  userv;
 593   3  =1  
 594   3  =1                  // Load from EEPROM
 595   3  =1                  SetVideoContrast( GetVideoDatawithOffset(contrast) );
 596   3  =1              SetVideoBrightness( GetVideoDatawithOffset(bright) );
 597   3  =1                  SetVideoSaturation(U_SAT, GetVideoDatawithOffset(staturation_U) );
 598   3  =1                  SetVideoSaturation(V_SAT, GetVideoDatawithOffset(staturation_V) );
 599   3  =1              SetVideoHue(GetVideoDatawithOffset( hue) );
 600   3  =1  
 601   3  =1                  userv = GetVideoDatawithOffset(sharpness);
 602   3  =1                  Mapping1( userv, &UserRange, &regv, &VideoSharpnessRange );
 603   3  =1                  }
 604   2  =1                  SetPanelSharpnessReg( (BYTE)regv );
 605   2  =1                  SetVideoVPeakingReg( (BYTE)regv );
 606   2  =1  //              SetVideoHfilterReg( (BYTE)regv );
 607   2  =1  
 608   2  =1                  #endif
 609   2  =1  
 610   2  =1          }
 611   1  =1  
 612   1  =1  }
 613      =1  
 614      =1  BYTE IsInputAnalogRGB()
 615      =1  {
 616   1  =1          #if defined SUPPORT_COMPONENT
           =1         if( InputSelection==COMPONENT ) return TRUE;
           =1         #elif defined SUPPORT_SCART
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 193 

           =1         if( InputSelection==SCART ) return TRUE;
           =1         #endif
 621   1  =1  
 622   1  =1          return FALSE;
 623   1  =1  }
 624      =1  
 625      =1  BYTE GetVideoDatawithOffset(BYTE offset)
 626      =1  {
 627   1  =1          OSDItemValue = GetVideoDatafromEE(offset);
 628   1  =1          
 629   1  =1          return OSDItemValue;
 630   1  =1  }
 631      =1  
 632      =1  BYTE ChangeVideoData(BYTE offset, BYTE flag)
 633      =1  {
 634   1  =1          int newv, inc;
 635   1  =1  
 636   1  =1          inc = ( flag==UP  ? 1  :  -1  );
 637   1  =1  
 638   1  =1          newv = OSDItemValue + inc;
 639   1  =1          if( newv< UserRange.Min || newv> UserRange.Max ) {
 640   2  =1                  return OSDItemValue;
 641   2  =1          }
 642   1  =1  
 643   1  =1          switch (offset)
 644   1  =1          {
 645   2  =1          case contrast: SetVideoContrast(newv);
 646   2  =1                   break;
 647   2  =1          case bright:  SetVideoBrightness(newv);
 648   2  =1                   break;
 649   2  =1          case staturation_U: 
 650   2  =1          case staturation_V: 
 651   2  =1                                          SetVideoSaturation(offset-staturation_U,newv);
 652   2  =1                   break;
 653   2  =1          case hue:         SetVideoHue(newv);
 654   2  =1                   break;
 655   2  =1          case backlight:   SetVideoBacklight(newv);
 656   2  =1                   break;
 657   2  =1          }
 658   1  =1  
 659   1  =1          SaveVideoDatatoEE(offset, newv);
 660   1  =1  
 661   1  =1          OSDItemValue = newv;
 662   1  =1          return newv;
 663   1  =1          
 664   1  =1  }
 665      =1  
 666      =1  void SetVideoContrast(BYTE newv)
 667      =1  {
 668   1  =1          int regv;
 669   1  =1  
 670   1  =1          Mapping1( newv, &UserRange , &regv, &VideoContrastRange);
 671   1  =1          WriteTW88( Contast_Reg_Addr[InputSelection-1], (BYTE)regv );
 672   1  =1  
 673   1  =1  }
 674      =1  
 675      =1  void SetVideoBrightness(BYTE newv) 
 676      =1  {
 677   1  =1  
 678   1  =1          int regv;
 679   1  =1  
 680   1  =1          if( InputSelection == DTV ){
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 194 

 681   2  =1                  Mapping1( newv, &UserRange , &regv, &PanelBrightnessRange);
 682   2  =1                  SetDTVBrightnessReg( (BYTE)regv);
 683   2  =1          }
 684   1  =1          else {
 685   2  =1                  Mapping1( newv, &UserRange , &regv, &VideoBrightnessRange);
 686   2  =1  
 687   2  =1                  if( IsInputAnalogRGB() ) 
 688   2  =1                          SetDigitalVideoBrightnessReg( regv );
 689   2  =1                  else 
 690   2  =1                          SetVideoBrightnessReg( (BYTE)regv);
 691   2  =1          }
 692   1  =1  }
 693      =1  void SetVideoBacklight(BYTE newv) 
 694      =1  {
 695   1  =1  
 696   1  =1          int     regv;
 697   1  =1          BYTE    page;
 698   1  =1  
 699   1  =1          Mapping1( newv, &UserRange , &regv, &PanelBacklightRange);
 700   1  =1  #ifdef  BACKLIGHT_CCFL
           =1         page = ReadTW88( 0xff );
           =1         WriteTW88( 0xff, 0x01 );                // set page 1
           =1         regv = ~regv;
           =1         regv &= 0x01f;
           =1         regv >>= 1;
           =1         WriteTW88(0x35, (ReadTW88(0x35 & 0xe0)) + regv);        // only 5 bit using
           =1         WriteTW88( 0xff, page );
           =1 #endif
 709   1  =1  #ifdef BACKLIGHT_PWM                            // 
 710   1  =1          page = ReadTW88( 0xff );
 711   1  =1          WriteTW88( 0xff, 0x00 );                // set page 0
 712   1  =1          WriteTW88( 0xbe, ((ReadTW88(0xbe) & 0xcf) | 0x10) );    // set active Low control, if want active high clear
             - 
 713   1  =1          WriteTW88( 0xc4, ((ReadTW88(0xc4) & 0x80)|(regv>>1)) ); // set pwm number
 714   1  =1          WriteTW88( 0xff, page );
 715   1  =1  #endif
 716   1  =1  }
 717      =1  
 718      =1  void SetVideoHue(BYTE newv) 
 719      =1  {
 720   1  =1  
 721   1  =1          int regv;
 722   1  =1  
 723   1  =1          if( InputSelection == DTV ){
 724   2  =1                  Mapping1( newv, &UserRange , &regv, &PanelHueRange);
 725   2  =1                  SetPanelHueReg( (BYTE)regv);
 726   2  =1          }
 727   1  =1          else {
 728   2  =1                  Mapping1( newv, &UserRange , &regv, &VideoHueRange);
 729   2  =1                  if( IsInputAnalogRGB() ) 
 730   2  =1                          SetDigitalVideoHueReg( regv );
 731   2  =1                  else 
 732   2  =1                          SetVideoHueReg( (BYTE)regv);
 733   2  =1          }
 734   1  =1  
 735   1  =1  }
 736      =1  
 737      =1  void SetVideoSaturation(BYTE svtype, BYTE newv) 
 738      =1  {
 739   1  =1  
 740   1  =1          int regv;
 741   1  =1  
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 195 

 742   1  =1          if( IsInputAnalogRGB() ) {
 743   2  =1                  Mapping1( newv, &UserRange , &regv, &DigitalVideoSaturationRange);
 744   2  =1                  SetDigitalVideoSaturationReg(svtype, (BYTE)regv);
 745   2  =1          }
 746   1  =1          else {
 747   2  =1  
 748   2  =1                  Mapping1( newv, &UserRange , &regv, &VideoSaturationRange);
 749   2  =1  
 750   2  =1                  if( InputSelection == DTV ){
 751   3  =1                          SetPanelSaturationReg( svtype, regv );
 752   3  =1                  }
 753   2  =1                  else {
 754   3  =1                          SetVideoSaturationReg( svtype, (BYTE)regv);
 755   3  =1                  }
 756   2  =1          }
 757   1  =1  }
 758      =1  
 759      =1  
 760      =1  BYTE SetVideoSharpness(BYTE flag) 
 761      =1  {
 762   1  =1          BYTE orgv;
 763   1  =1          char inc;
 764   1  =1          int newv, regv;
 765   1  =1  
 766   1  =1          orgv = ReadTW88( PNLSHARPNESS )&0x07;
 767   1  =1          regv = orgv & 0x0f;
 768   1  =1          inc = ( flag==UP  ? 1  :  -1  );
 769   1  =1          regv += inc;
 770   1  =1          if( regv < VideoSharpnessRange.Min ||
 771   1  =1                  regv > VideoSharpnessRange.Max )
 772   1  =1                  return OSDItemValue;
 773   1  =1  
 774   1  =1          Mapping1( (BYTE)regv, &VideoSharpnessRange, &newv, &UserRange );
 775   1  =1  
 776   1  =1          SetPanelSharpnessReg( (BYTE)regv );
 777   1  =1          SetVideoVPeakingReg( (BYTE)regv );
 778   1  =1  //      SetVideoHfilterReg( (BYTE)regv );
 779   1  =1  
 780   1  =1          SaveVideoDatatoEE( sharpness, newv );
 781   1  =1          OSDItemValue = newv;
 782   1  =1  
 783   1  =1          return newv;
 784   1  =1  }
 785      =1  
 786      =1  /*
 787      =1  BYTE SetOSDDurationValue(BYTE flag)
 788      =1  {
 789      =1          int val;
 790      =1  
 791      =1          val = ( flag==UP  ? OSDItemValue+1  :  OSDItemValue-1  );
 792      =1          if( val< OSDDurationRange.Min || val > OSDDurationRange.Max )
 793      =1                  return OSDItemValue;
 794      =1  
 795      =1          OSDItemValue = val;
 796      =1          SaveOSDDurationEE(val);
 797      =1          SetOSDDuration( val );
 798      =1          return OSDItemValue;
 799      =1  
 800      =1  }
 801      =1  
 802      =1  */
 803      =1  #ifdef WQVGA
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 196 

           =1 CODE BYTE Init_Video_Data[]={
           =1         37, 52, 50, 50, 50, 50 }; // Contrast,Bright,Staturation_U,Staturation_V,Hue,Sharpness
           =1 #else
 807      =1  CODE BYTE Init_Video_Data[]={
 808      =1          50/*38*/, 50, 50, 50,/*62, 62,*/ 50, 50 }; // Contrast,Bright,Staturation_U,Staturation_V,Hue,Sharpness
 809      =1  #endif
 810      =1  
 811      =1  #ifdef ADD_ANALOGPANEL
           =1 CODE BYTE Init_Video_Data_A[]={
           =1         37, 52, 50, 50, 50, 50 }; // Contrast,Bright,Staturation_U,Staturation_V,Hue,Sharpness
           =1 #endif
 815      =1  
 816      =1  CODE BYTE Init_DTV_Data[]={
 817      =1          50, 50, 50, 50, 50, 50 }; // Contrast,Bright,Staturation_U,Staturation_V,Hue,Sharpness
 818      =1  
 819      =1  void ResetVideoValue(void)
 820      =1  {
 821   1  =1          
 822   1  =1          BYTE i, CurInput;
 823   1  =1          #ifdef DEBUG
           =1         dPrintf("\r\n---- ResetVideoValue -----");
           =1         #endif
 826   1  =1          CurInput = InputSelection;
 827   1  =1          for (InputSelection=CH_TW2835; InputSelection<PC ; InputSelection++ ) {
 828   2  =1  
 829   2  =1                  if( InputSelection == DTV )
 830   2  =1                  {
 831   3  =1                          for( i=0; i<6; i++){
 832   4  =1                                  SaveVideoDatatoEE(i, Init_DTV_Data[i]); // All 50%
 833   4  =1                          }
 834   3  =1                  }
 835   2  =1                  else {
 836   3  =1                          for( i=0; i<6; i++){
 837   4  =1                                  #ifdef ADD_ANALOGPANEL
           =1                                 if(IsAnalogOn())
           =1                                 SaveVideoDatatoEE(i, Init_Video_Data_A[i]);
           =1                                 else
           =1                                 #endif
 842   4  =1                                  SaveVideoDatatoEE(i, Init_Video_Data[i]);
 843   4  =1                          }
 844   3  =1                  }
 845   2  =1          }
 846   1  =1          InputSelection = CurInput;
 847   1  =1          SetVideoMode(USER_VIDEOMODE);
 848   1  =1  
 849   1  =1  }
 850      =1  
 851      =1  #ifdef WIDE_SCREEN
 852      =1  
 853      =1  #include "\data\WideModeData.txt"
   1      =2  #ifdef WIDE_SCREEN
   2      =2  
   3      =2  #define WIDE_DATA_MAX   10
   4      =2  
   5      =2  CODE WIDE_ADDRESS[]={
   6      =2    0x0a,  0x60,  0x61,  0x62,  0x63, 0x66,  0x67,  0x68,  0xb9,  0xfc
   7      =2  };
   8      =2  
   9      =2  
  10      =2  #ifdef WVGA // 800*480
  11      =2  CODE BYTE WIDEDATA_N[][WIDE_DATA_MAX] = {
  12      =2          //-0a   -60   -61   -62   -63   -66  -67  -68 -b9   -fc
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 197 

  13      =2          { 0x26, 0x00, 0x8b, 0x7c, 0x01, 0x50, 00, 00, 0x31, 0x48 },             // Normal // B9: 28->1D //11-29-05-RYU
  14      =2          { 0x22, 0xd6, 0x80, 0x64, 0x00, 0x00, 00, 00, 0x36, 0x48 },             // Wide
  15      =2          { 0x1e, 0xf2, 0x80, 0x7c, 0x80, 0x00, 01, 0xb6, 0x31, 0x48 },           // Panorama
  16      =2  //      { 0x26, 0xda, 0x80, 0x5f, 0x00, 0x00, 00, 00,  0x7b, 0x5a  },           // Full
  17      =2          { 0x26, 0xd5, 0x80, 0x69, 0x00, 0x00, 00, 00, 0x6f, 0xdf  },            // Full
  18      =2  };
  19      =2  
  20      =2  CODE BYTE WIDEDATA_P[][WIDE_DATA_MAX] = {
  21      =2          { 0x13, 0x00, 0x8b, 0x92, 0x01, 0x50, 00, 00, 0x34, 0x48  },            // Normal // B9: 2e->20->35 //11-30-05-RYU
  22      =2          { 0x21, 0xd6, 0x80, 0x75, 0x00, 0x00, 00, 00, 0x34, 0x48},              // Wide //62: 92->78
  23      =2          { 0x13, 0xf2, 0x80, 0x92, 0x80, 0x00, 01, 0xb6, 0x34, 0x48 },           // Panorama // 0a: 23->1d (AU No-Ticon) //
             -11-30-05-RYU
  24      =2          { 0x13, 0xdc, 0x80, 0x7f, 0x00, 0x00, 00, 00, 0x60, 0x5a },             // Full
  25      =2  };
  26      =2  
  27      =2  CODE BYTE WIDEDATA_480i[][WIDE_DATA_MAX] = {
  28      =2          //-0a   -60   -61   -62   -63   -66  -67  -68
  29      =2          { 0x14, 0x00, 0x8b, 0x7c, 0x01, 0x50, 00, 00, 0x29, 0x48 },             // Normal // B9: 28->1D //11-29-05-RYU
  30      =2          { 0x14, 0xdc, 0x80, 0x7c, 0x00, 0x00, 00, 00, 0x29, 0x48 },             // Wide
  31      =2          { 0x14, 0xf2, 0x80, 0x7c, 0x80, 0x00, 01, 0xb6, 0x29, 0x48 },           // Panorama
  32      =2          { 0x14, 0xdc, 0x80, 0x5f, 0x00, 0x00, 00, 00,  0x7b, 0x5a  },           // Full
  33      =2  };
  34      =2  
  35      =2  CODE BYTE WIDEDATA_576i[][WIDE_DATA_MAX] = {
  36      =2          { 0x0c, 0x00, 0x8b, 0x94, 0x01, 0x50, 00, 00, 0x2d, 0x48  },            // Normal // B9: 2e->20->35 //11-30-05-RYU
  37      =2          { 0x0c, 0xdc, 0x80, 0x94, 0x00, 0x00, 00, 00, 0x2d, 0x48},              // Wide
  38      =2          { 0x0c, 0xf2, 0x80, 0x94, 0x80, 0x00, 01, 0xb6, 0x2d, 0x48 },           // Panorama // 0a: 23->1d (AU No-Ticon) //
             -11-30-05-RYU
  39      =2          { 0x0c, 0xdc, 0x80, 0x7f, 0x00, 0x00, 00, 00, 0x60, 0x5a },             // Full
  40      =2  };
  41      =2  
  42      =2  // See "CV_WVGA.txt".
  43      =2  CODE BYTE WIDEDATA_480p[][WIDE_DATA_MAX] = {
  44      =2          //-0a   -60   -61   -62   -63   -66  -67  -68
  45      =2          { 0x3a, 0xf6, 0x80, 0xfb, 0x00, 0x50, 00, 00, 0x26, 0x48 },             // Normal
  46      =2          { 0x3a, 0xc3, 0x80, 0xfb, 0x00, 0x00, 00, 00, 0x26, 0x48 },             // Wide
  47      =2          { 0x3a, 0xcc, 0x80, 0xfb, 0x80, 0x00, 01, 0xb6, 0x26, 0x48 },           // Panorama
  48      =2          { 0x3a, 0xc3, 0x80, 0xbe, 0x00, 0x00, 00, 00,  0x70, 0x5a  },           // Full
  49      =2  };
  50      =2  
  51      =2  CODE BYTE WIDEDATA_576p[][WIDE_DATA_MAX] = {
  52      =2          //-0a   -60   -61   -62   -63   -66  -67  -68
  53      =2          { 0x3f, 0xf9, 0x80, 0x29, 0x04, 0x50, 00, 00, 0x2e, 0x48 },             // Normal
  54      =2          { 0x3f, 0xc3, 0x80, 0x29, 0x04, 0x00, 00, 00, 0x2e, 0x48 },             // Wide
  55      =2          { 0x3f, 0xd0, 0x80, 0x29, 0x84, 0x00, 01, 0xb6, 0x2e, 0x48 },           // Panorama
  56      =2          { 0x3f, 0xc3, 0x80, 0xe8, 0x00, 0x00, 00, 00,  0x80, 0x5a  },           // Full
  57      =2  };
  58      =2  
  59      =2  CODE BYTE WIDEDATA_720p[][WIDE_DATA_MAX] = {
  60      =2          //-0a   -60   -61   -62   -63   -66  -67  -68
  61      =2          { 0x28, 0xa4, 0x80, 0x6a, 0x04, 0x50, 00, 00, 0x16, 0x5a },             // Normal
  62      =2          { 0x28, 0x84, 0x80, 0x6a, 0x04, 0x00, 00, 00, 0x16, 0x5a },             // Wide
  63      =2          { 0x28, 0x89, 0x80, 0x6a, 0x84, 0x35, 00, 0x35, 0x16, 0x5a },           // Panorama
  64      =2          { 0x28, 0x84, 0x80, 0x1c, 0x04, 0x00, 00, 00,  0x6b, 0x5a  },           // Full
  65      =2  };
  66      =2  
  67      =2  CODE BYTE WIDEDATA_1080i[][WIDE_DATA_MAX] = {
  68      =2          //-0a   -60   -61   -62   -63   -66  -67  -68
  69      =2          { 0x23, 0xf9, 0x80, 0x14, 0x04, 0x50, 00, 00, 0x1f, 0x5a },             // Normal
  70      =2          { 0x23, 0xc8, 0x80, 0x14, 0x04, 0x00, 00, 00, 0x1f, 0x5a },             // Wide
  71      =2          { 0x23, 0xf0, 0x80, 0x14, 0x84, 0x35, 01, 0x87, 0x1f, 0x5a },           // Panorama
  72      =2          { 0x23, 0xc8, 0x80, 0xe7, 0x00, 0x00, 00, 00,  0x56, 0x5a  },           // Full
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 198 

  73      =2  };
  74      =2  
  75      =2  
  76      =2  
  77      =2  #elif defined WXGA
           =2 CODE BYTE WIDEDATA_N[][WIDE_DATA_MAX] = {
           =2         //-0a   -60   -61   -62   -63   -66  -67  -68
           =2         { 0x23, 0xaf, 0x80, 0x4c, 0x00, 0x87, 00, 00, 0x5c, 0x8c },             // Normal
           =2         { 0x23, 0x8a, 0x80, 0x4c, 0x00, 0x00, 00, 00, 0x5c, 0x8c },             // Wide
           =2         { 0x23, 0xaf, 0x80, 0x4c, 0x80, 0x47, 0x02, 0x5f, 0x5c, 0x8c },         // Panorama
           =2         { 0x23, 0x8a, 0x80, 0x3b, 0x00, 0x00, 00, 00, 0xed, 0xb6 },             // Full
           =2 };
           =2 
           =2 CODE BYTE WIDEDATA_P[][WIDE_DATA_MAX] = {
           =2         //-0a   -60   -61   -62   -63   -66  -67  -68
           =2         { 0x23, 0xaf, 0x80, 0x5b, 0x00, 0x87, 00, 00, 0x5c, 0x8c },             // Normal
           =2         { 0x23, 0x8a, 0x80, 0x5b, 0x00, 0x00, 00, 00, 0x5c, 0x8c },             // Wide
           =2         { 0x23, 0xaf, 0x80, 0x5b, 0x80, 0x47, 0x02, 0x5f, 0x5c, 0x8c },         // Panorama
           =2         { 0x23, 0x8a, 0x80, 0x49, 0x00, 0x00, 00, 00, 0xd3, 0xb4 },             // Full
           =2 };
           =2 
           =2 // See "CV_WXGA.txt".
           =2 CODE BYTE WIDEDATA_480p[][WIDE_DATA_MAX] = {
           =2         //-0a   -60   -61   -62   -63   -66  -67  -68
           =2         { 0x5e, 0x8d, 0x80, 0x9c, 0x00, 0x50, 00, 00, 0x48, 0x8c },             // Normal
           =2         { 0x5e, 0x7c, 0x80, 0x9c, 0x00, 0x00, 00, 00, 0x48, 0x8c },             // Wide
           =2         { 0x5e, 0x81, 0x80, 0x9c, 0x80, 0x00, 01, 0x6d, 0x48, 0x8c },           // Panorama
           =2         { 0x5e, 0x7c, 0x80, 0x78, 0x00, 0x00, 00, 00,  0x80, 0xb3  },           // Full
           =2 };
           =2 
           =2 CODE BYTE WIDEDATA_576p[][WIDE_DATA_MAX] = {
           =2         //-0a   -60   -61   -62   -63   -66  -67  -68
           =2         { 0x55, 0x8f, 0x80, 0xbd, 0x00, 0x50, 00, 00, 0x42, 0x8c },             // Normal
           =2         { 0x55, 0x7d, 0x80, 0xbd, 0x00, 0x00, 00, 00, 0x42, 0x8c },             // Wide
           =2         { 0x55, 0x81, 0x80, 0xbd, 0x80, 0x00, 01, 0x6d, 0x42, 0x8c },           // Panorama
           =2         { 0x55, 0x7d, 0x80, 0x8f, 0x00, 0x00, 00, 00,  0xd3, 0xb3  },           // Full
           =2 };
           =2 
           =2 CODE BYTE WIDEDATA_720p[][WIDE_DATA_MAX] = {
           =2         //-0a   -60   -61   -62   -63   -66  -67  -68
           =2         { 0x20, 0x5f, 0x80, 0xe6, 0x00, 0x50, 00, 00, 0x34, 0x8c },             // Normal
           =2         { 0x20, 0x53, 0x80, 0xe6, 0x00, 0x00, 00, 00, 0x34, 0x8c },             // Wide
           =2         { 0x20, 0x57, 0x80, 0xe6, 0x80, 0x00, 01, 0x45, 0x34, 0x8c },           // Panorama
           =2         { 0x20, 0x53, 0x80, 0xb0, 0x00, 0x00, 00, 00,  0xb4, 0xb3  },           // Full
           =2 };
           =2 
           =2 CODE BYTE WIDEDATA_1080i[][WIDE_DATA_MAX] = {
           =2         //-0a   -60   -61   -62   -63   -66  -67  -68
           =2         { 0x2b, 0x8c, 0x80, 0xb1, 0x00, 0x50, 00, 00, 0x26, 0x8c },             // Normal
           =2         { 0x2b, 0x7a, 0x80, 0xb1, 0x00, 0x00, 00, 00, 0x26, 0x8c },             // Wide
           =2         { 0x2b, 0x81, 0x80, 0xb1, 0x80, 0x00, 01, 0x5f, 0x26, 0x8c },           // Panorama
           =2         { 0x2b, 0x7a, 0x80, 0x85, 0x00, 0x00, 00, 00,  0xae, 0xb4  },           // Full
           =2 };
           =2 
           =2 #elif defined WSVGA
           =2 CODE BYTE WIDEDATA_N[][WIDE_DATA_MAX] = {
           =2         //-0a   -60   -61   -62   -63   -66  -67  -68  -b9  -fc
           =2         { 0x25, 0xaa, 0x80, 0x64, 0x00, 0x00, 00, 00, 0x2a, 0x48 },             // Normal
           =2         { 0x25, 0xaa, 0x80, 0x64, 0x00, 0x00, 00, 00, 0x2a, 0x48 },             // Wide
           =2         { 0x25, 0xaa, 0x80, 0x64, 0x00, 0x00, 00, 0x9c, 0x2a, 0x48 },           // Panorama
           =2         { 0x25, 0xaa, 0x80, 0x64, 0x00, 0x00, 00, 00, 0x2a, 0x48 },             // Full
           =2 };
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 199 

           =2 
           =2 CODE BYTE WIDEDATA_P[][WIDE_DATA_MAX] = {
           =2         //-0a   -60   -61   -62   -63   -66  -67  -68
           =2         { 0x21, 0xd9, 0xb1, 0x2f, 0x05, 0x50, 00, 00, 0x16, 0x00 },             // Normal
           =2         { 0x21, 0x00, 0xb1, 0x2f, 0x05, 0x00, 00, 00, 0x16, 0x00 },             // Wide
           =2         { 0x21, 0xbb, 0xb1, 0x2f, 0x85, 0x00, 0x01, 0x9c, 0x16, 0x00 },         // Panorama
           =2         { 0x21, 0xb2, 0xb1, 0x2f, 0x05, 0x00, 00, 00, 0x16, 0x00 },             // Wide
           =2 };
           =2 
           =2 CODE BYTE WIDEDATA_480i[][WIDE_DATA_MAX] = {
           =2         //-0a   -60   -61   -62   -63   -66  -67  -68
           =2         { 0x1b, 0xdf, 0x80, 0x00, 0x04, 0x50, 00, 00, 0x16, 0x00 },             // Normal
           =2         { 0x1b, 0xbb, 0x80, 0x00, 0x04, 0x00, 00, 00, 0x16, 0x00 },             // Wide
           =2         { 0x1b, 0xc1, 0x80, 0x00, 0x84, 0x00, 0x01, 0x9c, 0x16, 0x00 },         // Panorama
           =2         { 0x1b, 0xbb, 0x80, 0x00, 0x04, 0x00, 00, 00, 0x16, 0x00 },             // Full
           =2 };
           =2 
           =2 CODE BYTE WIDEDATA_576i[][WIDE_DATA_MAX] = {
           =2         //-0a   -60   -61   -62   -63   -66  -67  -68
           =2         { 0x0a, 0x00, 0xba, 0x30, 0x05, 0x50, 00, 00, 0x16, 0x00 },             // Normal
           =2         { 0x0a, 0x00, 0xba, 0x30, 0x05, 0x00, 00, 00, 0x10, 0x00 },             // Wide
           =2         { 0x0a, 0x00, 0xba, 0x30, 0x85, 0x00, 0x01, 0x9c, 0x16, 0x00 },         // Panorama
           =2         { 0x0a, 0x00, 0xba, 0x30, 0x05, 0x00, 00, 00, 0x16, 0x00 },             // Wide
           =2 };
           =2 
           =2 CODE BYTE WIDEDATA_480p[][WIDE_DATA_MAX] = {
           =2         //-0a   -60   -61   -62   -63   -66  -67  -68
           =2         { 0x5e, 0x8d, 0x80, 0x9c, 0x00, 0x50, 00, 00, 0x48, 0x8c },             // Normal
           =2         { 0x5e, 0x7c, 0x80, 0x9c, 0x00, 0x00, 00, 00, 0x48, 0x8c },             // Wide
           =2         { 0x5e, 0x81, 0x80, 0x9c, 0x80, 0x00, 01, 0x6d, 0x48, 0x8c },           // Panorama
           =2         { 0x5e, 0x7c, 0x80, 0x78, 0x00, 0x00, 00, 00,  0x80, 0xb3  },           // Full
           =2 };
           =2 
           =2 CODE BYTE WIDEDATA_576p[][WIDE_DATA_MAX] = {
           =2         //-0a   -60   -61   -62   -63   -66  -67  -68
           =2         { 0x55, 0x8f, 0x80, 0xbd, 0x00, 0x50, 00, 00, 0x42, 0x8c },             // Normal
           =2         { 0x55, 0x7d, 0x80, 0xbd, 0x00, 0x00, 00, 00, 0x42, 0x8c },             // Wide
           =2         { 0x55, 0x81, 0x80, 0xbd, 0x80, 0x00, 01, 0x6d, 0x42, 0x8c },           // Panorama
           =2         { 0x55, 0x7d, 0x80, 0x8f, 0x00, 0x00, 00, 00,  0xd3, 0xb3  },           // Full
           =2 };
           =2 
           =2 CODE BYTE WIDEDATA_720p[][WIDE_DATA_MAX] = {
           =2         //-0a   -60   -61   -62   -63   -66  -67  -68
           =2         { 0x20, 0x5f, 0x80, 0xe6, 0x00, 0x50, 00, 00, 0x34, 0x8c },             // Normal
           =2         { 0x20, 0x53, 0x80, 0xe6, 0x00, 0x00, 00, 00, 0x34, 0x8c },             // Wide
           =2         { 0x20, 0x57, 0x80, 0xe6, 0x80, 0x00, 01, 0x45, 0x34, 0x8c },           // Panorama
           =2         { 0x20, 0x53, 0x80, 0xb0, 0x00, 0x00, 00, 00,  0xb4, 0xb3  },           // Full
           =2 };
           =2 
           =2 CODE BYTE WIDEDATA_1080i[][WIDE_DATA_MAX] = {
           =2         //-0a   -60   -61   -62   -63   -66  -67  -68
           =2         { 0x2b, 0x8c, 0x80, 0xb1, 0x00, 0x50, 00, 00, 0x26, 0x8c },             // Normal
           =2         { 0x2b, 0x7a, 0x80, 0xb1, 0x00, 0x00, 00, 00, 0x26, 0x8c },             // Wide
           =2         { 0x2b, 0x81, 0x80, 0xb1, 0x80, 0x00, 01, 0x5f, 0x26, 0x8c },           // Panorama
           =2         { 0x2b, 0x7a, 0x80, 0x85, 0x00, 0x00, 00, 00,  0xae, 0xb4  },           // Full
           =2 };
           =2 #elif defined WQVGA
           =2 CODE BYTE WIDEDATA_N[][WIDE_DATA_MAX] = {
           =2         //-0a   -60   -61   -62   -63   -66  -67  -68  -b9  -fc
           =2         { 0x20, 0xdf, 0xb0, 0x00, 0x04, 0x50, 00, 00, 0x16, 0x00 },             // Normal
           =2         { 0x20, 0x00, 0xb1, 0xfb, 0x01, 0x00, 00, 00, 0x16, 0x00 },             // Wide
           =2         { 0x20, 0xc1, 0xb0, 0x00, 0x84, 0x00, 0x01, 0x9c, 0x16, 0x00 },         // Panorama
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 200 

           =2         { 0x20, 0xbb, 0xb0, 0x00, 0x04, 0x00, 00, 00, 0x16, 0x00 },             // Full
           =2 };
           =2 
           =2 CODE BYTE WIDEDATA_P[][WIDE_DATA_MAX] = {
           =2         //-0a   -60   -61   -62   -63   -66  -67  -68
           =2         { 0x21, 0xd9, 0xb1, 0x2f, 0x05, 0x50, 00, 00, 0x16, 0x00 },             // Normal
           =2         { 0x21, 0x00, 0xb1, 0x2f, 0x05, 0x00, 00, 00, 0x16, 0x00 },             // Wide
           =2         { 0x21, 0xbb, 0xb1, 0x2f, 0x85, 0x00, 0x01, 0x9c, 0x16, 0x00 },         // Panorama
           =2         { 0x21, 0xb2, 0xb1, 0x2f, 0x05, 0x00, 00, 00, 0x16, 0x00 },             // Wide
           =2 };
           =2 
           =2 CODE BYTE WIDEDATA_480i[][WIDE_DATA_MAX] = {
           =2         //-0a   -60   -61   -62   -63   -66  -67  -68
           =2         { 0x1b, 0xdf, 0x80, 0x00, 0x04, 0x50, 00, 00, 0x16, 0x00 },             // Normal
           =2         { 0x1b, 0xbb, 0x80, 0x00, 0x04, 0x00, 00, 00, 0x16, 0x00 },             // Wide
           =2         { 0x1b, 0xc1, 0x80, 0x00, 0x84, 0x00, 0x01, 0x9c, 0x16, 0x00 },         // Panorama
           =2         { 0x1b, 0xbb, 0x80, 0x00, 0x04, 0x00, 00, 00, 0x16, 0x00 },             // Full
           =2 };
           =2 
           =2 CODE BYTE WIDEDATA_576i[][WIDE_DATA_MAX] = {
           =2         //-0a   -60   -61   -62   -63   -66  -67  -68
           =2         { 0x0a, 0x00, 0xba, 0x30, 0x05, 0x50, 00, 00, 0x16, 0x00 },             // Normal
           =2         { 0x0a, 0x00, 0xba, 0x30, 0x05, 0x00, 00, 00, 0x10, 0x00 },             // Wide
           =2         { 0x0a, 0x00, 0xba, 0x30, 0x85, 0x00, 0x01, 0x9c, 0x16, 0x00 },         // Panorama
           =2         { 0x0a, 0x00, 0xba, 0x30, 0x05, 0x00, 00, 00, 0x16, 0x00 },             // Wide
           =2 };
           =2 
           =2 #endif
 225      =2  
 226      =2  #ifdef ADD_ANALOGPANEL
           =2 CODE BYTE WIDEDATA_NA[][WIDE_DATA_MAX] = {
           =2         //-0a   -60   -61   -62   -63   -66  -67  -68
           =2         { 0x21, 0xdf, 0x80, 0x00, 0x04, 0x50, 00, 00, 0x16, 0x00 },             // Normal
           =2         { 0x21, 0xb8, 0x80, 0x00, 0x04, 0x00, 00, 00, 0x16, 0x00 },             // Wide
           =2         { 0x21, 0xc1, 0x80, 0x00, 0x84, 0x00, 0x01, 0x9c, 0x16, 0x00 },         // Panorama
           =2         { 0x1b, 0xbb, 0x80, 0x00, 0x04, 0x00, 00, 00, 0x16, 0x00 },             // Full
           =2 };
           =2 
           =2 CODE BYTE WIDEDATA_PA[][WIDE_DATA_MAX] = {
           =2         //-0a   -60   -61   -62   -63   -66  -67  -68
           =2         { 0x21, 0xdf, 0x80, 0x00, 0x04, 0x50, 00, 00, 0x16, 0x00 },             // Normal
           =2         { 0x21, 0xb8, 0x80, 0x00, 0x04, 0x00, 00, 00, 0x16, 0x00 },             // Wide
           =2         { 0x21, 0xc1, 0x80, 0x00, 0x84, 0x00, 0x01, 0x9c, 0x16, 0x00 },         // Panorama
           =2         { 0x1b, 0xbb, 0x80, 0x00, 0x04, 0x00, 00, 00, 0x16, 0x00 },             // Full
           =2 };
           =2 
           =2 CODE BYTE WIDEDATA_480iA[][WIDE_DATA_MAX] = {
           =2         //-0a   -60   -61   -62   -63   -66  -67  -68
           =2         { 0x21, 0xdf, 0x80, 0x00, 0x04, 0x50, 00, 00, 0x16, 0x00 },             // Normal
           =2         { 0x21, 0xb8, 0x80, 0x00, 0x04, 0x00, 00, 00, 0x16, 0x00 },             // Wide
           =2         { 0x21, 0xc1, 0x80, 0x00, 0x84, 0x00, 0x01, 0x9c, 0x16, 0x00 },         // Panorama
           =2         { 0x1b, 0xbb, 0x80, 0x00, 0x04, 0x00, 00, 00, 0x16, 0x00 },             // Full
           =2 };
           =2 
           =2 CODE BYTE WIDEDATA_576iA[][WIDE_DATA_MAX] = {
           =2         //-0a   -60   -61   -62   -63   -66  -67  -68
           =2         { 0x0a, 0xdf, 0x80, 0x00, 0x04, 0x50, 00, 00, 0x16, 0x00 },             // Normal
           =2         { 0x0a, 0xb8, 0x80, 0x00, 0x04, 0x00, 00, 00, 0x16, 0x00 },             // Wide
           =2         { 0x0a, 0xc1, 0x80, 0x00, 0x84, 0x00, 0x01, 0x9c, 0x16, 0x00 },         // Panorama
           =2         { 0x1b, 0xbb, 0x80, 0x00, 0x04, 0x00, 00, 00, 0x16, 0x00 },             // Full
           =2 };
           =2 
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 201 

           =2 
           =2 #endif
 261      =2  
 262      =2  #endif // WIDE_SCREEN
 263      =2  
 854      =1  /*
 855      =1  void SetHDelay( WORD delay)
 856      =1  {
 857      =1          BYTE high;
 858      =1          #ifdef WIDE_SCREEN
 859      =1          Printf("\n SetHDelay: %4x ", delay);
 860      =1          #endif
 861      =1          WriteDecoder( HDELAY_LO, (BYTE)delay );
 862      =1          high =  ReadDecoder( CROP_HI ) & 0xf3;
 863      =1          high |= (BYTE)( delay >> 6 );
 864      =1          WriteDecoder( CROP_HI, high );
 865      =1  }
 866      =1  
 867      =1  void SetVideoOverScan(BYTE overscan)    //in 1/20
 868      =1  {
 869      =1          if(GetInputSelection() == PC)   return;
 870      =1  
 871      =1          VideoOverScan = overscan;
 872      =1          SetHDelay( DEF_HDELAY + 720 * overscan / 20 / 2 );      // Video H Active : 720 pixels
 873      =1  }
 874      =1  
 875      =1  */
 876      =1  #if (defined SUPPORT_PC) || (defined SUPPORT_DTV)
 877      =1  void SetScale4_3Y(void) // 16:9 --> 4:3  // Normal
 878      =1  {
 879   1  =1          extern  CODE struct _PCMDATA  PCMDATA[];
 880   1  =1          extern  BYTE PcMode;
 881   1  =1          DWORD outv, scale;
 882   1  =1  
 883   1  =1          // Vertical
 884   1  =1          scale = (DWORD)PCMDATA[PcMode].VAN      ;
 885   1  =1          outv  = (DWORD)PVR_; 
 886   1  =1          scale = 0x10000L * scale / outv;
 887   1  =1  
 888   1  =1          YScale2( scale );
 889   1  =1  
 890   1  =1          // Horizontal
 891   1  =1          if (PcMode >= EE_XGA_60 && PcMode >= EE_XGA_75)
 892   1  =1                  scale = (DWORD)PCMDATA[PcMode].HAN-4; //just 1024       for focus issue(1:1).
 893   1  =1          else
 894   1  =1                  scale = (DWORD)PCMDATA[PcMode].HAN;     
 895   1  =1  
 896   1  =1          scale = scale * 0x10000L * 3 / PVR_ /4;
 897   1  =1  
 898   1  =1          XScale2( scale );
 899   1  =1  }
 900      =1  
 901      =1  void SetScale(void)
 902      =1  {
 903   1  =1          DWORD scale, outv;
 904   1  =1  
 905   1  =1          // Vertical
 906   1  =1          scale = (DWORD)PCMDATA[PcMode].VAN;
 907   1  =1          outv  = (DWORD)PVR_ ; 
 908   1  =1          #ifdef REFERENCE
           =1         scale = 0x10000L * scale / outv;
           =1         #else
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 202 

 911   1  =1          if (PcMode >= EE_VGA_60 &&  PcMode <= EE_VGA_85)
 912   1  =1          {
 913   2  =1                  scale = 0x10000L * scale / outv + 0x70;
 914   2  =1          }
 915   1  =1          else if (PcMode == EE_SVGA_56)
 916   1  =1          {
 917   2  =1                  scale = 0x10000L * scale / outv + 0x96;
 918   2  =1          }
 919   1  =1          else if (PcMode == EE_SVGA_72)
 920   1  =1          {
 921   2  =1                  scale = 0x10000L * scale / outv + 0x96;
 922   2  =1          }
 923   1  =1          else
 924   1  =1          {
 925   2  =1                  scale = 0x10000L * scale / outv;
 926   2  =1          }
 927   1  =1          #endif 
 928   1  =1          YScale2( scale );
 929   1  =1          #ifdef DEBUG_PC
           =1         Printf("\n PCMode[%d] %ld YScale: %ld", (WORD)PcMode, outv, scale);
           =1         #endif
 932   1  =1          // Horizontal
 933   1  =1          scale = PCMDATA[PcMode].HAN;
 934   1  =1          outv  = PHR_ ; 
 935   1  =1  //      scale = scale  * 0x100L / outv;
 936   1  =1          scale = (scale*0x10000L+outv-1) / outv;
 937   1  =1          XScale2( scale );
 938   1  =1  }
 939      =1  
 940      =1  void SetScale4_3X(void) 
 941      =1  {
 942   1  =1          DWORD scale, outv;
 943   1  =1  
 944   1  =1          // Horizontal
 945   1  =1          scale = (DWORD)PCMDATA[PcMode].HAN;
 946   1  =1          outv  = (DWORD)PHR_ ; 
 947   1  =1          scale = scale  * 0x10000L / outv;
 948   1  =1          XScale2( scale );
 949   1  =1  
 950   1  =1          // Vertical
 951   1  =1  #if (defined REFERENCE) && !(defined XGA)
           =1         scale = (DWORD)PCMDATA[PcMode].VAN; 
           =1         outv  = outv * 3 / 4;                   // 4:3
           =1         scale = 0x10000L * scale / outv;
           =1 #else
 956   1  =1          scale = (DWORD)PCMDATA[PcMode].VAN      ;
 957   1  =1          outv  = (DWORD)PVR_; 
 958   1  =1          scale = 0x10000L * scale / outv;
 959   1  =1  #endif 
 960   1  =1          YScale2( scale);                                // *********** plus 2
 961   1  =1  }
 962      =1  void SetLRBlank(BYTE bl)
 963      =1  {
 964   1  =1          WriteTW88(0x66, bl);
 965   1  =1  }
 966      =1  #endif
 967      =1  
 968      =1  void Set4WideScreen( BYTE id )
 969      =1  {
 970   1  =1          if( id > WIDESCREEN_FULL ){
 971   2  =1                  Set4WideScreen(WIDESCREEN_WIDE);
 972   2  =1                  id = WIDESCREEN_WIDE;
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 203 

 973   2  =1          }
 974   1  =1  
 975   1  =1          WideScreenMode = id;
 976   1  =1  
 977   1  =1    #if (defined SUPPORT_PC) || (defined SUPPOER_DTV)     
 978   1  =1    if(   (GetInputSelection()== PC) || (GetInputSelection()== DTV) )
 979   1  =1    {
 980   2  =1          switch( id ) {
 981   3  =1          case WIDESCREEN_NORMAL:         
 982   3  =1                                                                  SetScale4_3Y();
 983   3  =1                                                                  SetLRBlank((PHR_- (PVR_*4/3 ))/2);
 984   3  =1                                                                  break;
 985   3  =1          case WIDESCREEN_WIDE:           
 986   3  =1                                                                  SetScale();
 987   3  =1                                                                  SetLRBlank(0);
 988   3  =1                                                                  break;
 989   3  =1                                                                  
 990   3  =1          case WIDESCREEN_PANO:           
 991   3  =1                                                                  SetScale();
 992   3  =1                                                                  SetLRBlank(0);
 993   3  =1                                                                  break;
 994   3  =1                                                                  
 995   3  =1          case WIDESCREEN_FULL:           
 996   3  =1                                                                  SetScale4_3X();
 997   3  =1                                                                  SetLRBlank(0);
 998   3  =1                                                                  break;
 999   3  =1  /*      case WIDESCREEN_ZOOM:           
1000   3  =1                                                                  SetScale4_3X();
1001   3  =1                                                                  SetLRBlank(0);
1002   3  =1                                                                  break;
1003   3  =1  */      
1004   3  =1                                                                  }
1005   2  =1          }
1006   1  =1          else 
1007   1  =1  #endif
1008   1  =1          {
1009   2  =1                  int i;
1010   2  =1                  CODE_P BYTE *WideData;
1011   2  =1                  
1012   2  =1                  #ifdef SUPPORT_COMPONENT
           =1                 if (GetInputSelection()== COMPONENT )
           =1                 {
           =1                         switch (ComponentMode)
           =1                         {
           =1                                 case YPBPR_576i:        WideData = WIDEDATA_576i[id];   break;
           =1                                 #ifndef WQVGA
           =1                                 case YPBPR_480p:        WideData = WIDEDATA_480p[id];   break;
           =1                                 case YPBPR_576p:        WideData = WIDEDATA_576p[id];   break;
           =1                                 case YPBPR_720p:        WideData = WIDEDATA_720p[id];   break;
           =1                                 case YPBPR_1080i:       WideData = WIDEDATA_1080i[id];  break;
           =1                                 #endif
           =1                                 default:                        WideData = WIDEDATA_480i[id];   break;
           =1                         }
           =1 
           =1                 }
           =1                 else 
           =1                 #endif
1030   2  =1                  {
1031   3  =1                                  //if( ReadVInputSTD()== NTSC || ReadVInputSTD()== NTSC4 ) 
1032   3  =1                                  if( GetVInputStd() == NTSC || 
1033   3  =1                                          GetVInputStd()== NTSC4 || 
1034   3  =1                                  #ifdef REFERENCE
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 204 

           =1                                 #else
1036   3  =1                                          GetVInputStd()== PALM ||
1037   3  =1                                          GetVInputStd()== PAL60 ||
1038   3  =1                                  #endif 
1039   3  =1                                          GetVInputStd() == 0) {
1040   4  =1  
1041   4  =1                                          #ifdef ADD_ANALOGPANEL
           =1                                         if(IsAnalogOn()) 
           =1                                         WideData = WIDEDATA_NA[id];
           =1                                         else
           =1                                         #endif
1046   4  =1                                          WideData = WIDEDATA_N[id];
1047   4  =1                                  }
1048   3  =1                                  else{
1049   4  =1                                          #ifdef ADD_ANALOGPANEL
           =1                                         if(IsAnalogOn()) 
           =1                                         WideData = WIDEDATA_PA[id];
           =1                                         else
           =1                                         #endif
1054   4  =1                                          WideData = WIDEDATA_P[id];
1055   4  =1                                  }
1056   3  =1                  }
1057   2  =1  
1058   2  =1                  #if defined(DEBUG)&& defined(SUPPORT_COMPONENT) 
           =1                 Printf( "\r\nWrite Wide Mode Type: %d, Data: %d, VInputStd: %d", (WORD)ComponentMode, (WORD)id, (WORD)Ge
             -tVInputStd());
           =1                 #endif
1061   2  =1                  WaitEndofDisplayArea(); 
1062   2  =1                  for(i=0; i<WIDE_DATA_MAX; i++){
1063   3  =1                                          WriteTW88(WIDE_ADDRESS[i], *WideData);
1064   3  =1                                          //#ifdef DEBUG
1065   3  =1                                          //Printf( " %2x", (WORD)*WideData );
1066   3  =1                                          //#endif
1067   3  =1                                          WideData++;
1068   3  =1                  }
1069   2  =1          }
1070   1  =1          SaveWideModeEE(WideScreenMode);
1071   1  =1  }
1072      =1  #endif // WIDE_SCREEN
1073      =1  
 103          
 104          #ifdef SUPPORT_LINE_OSDDEMO
               #include "OsdInitTable_Line.c"
              #endif
 107          //---------------------------------------------------------------------
 108          // Push MenuTile, title_item in stack 
 109          //      MenuTile[title_item][]...  
 110          //
 111          BYTE pushMenu(void)
 112          {
 113   1              #ifdef DEBUG_OSD
                      dPrintf("\r\n(pushMenu)-MenuSP:%d", (WORD)MenuSP);
                      #endif
 116   1              if( MenuSP < sizeof( MenuIndexStack ) ) {
 117   2                      #ifdef DEBUG_OSD
                              {
                                      BYTE  **Desc;
                                      BYTE i;
              
                                      Desc = MenuTitle[title_item].Desc;
                                      for(i=0; i<OSDLang; i++)
                                              Desc += ( strlen(*Desc) + 1 );
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 205 

              
                                      dPrintf("...MenuStack[%d]:Desc(%s)",(WORD)MenuSP, Desc);
                              }
                              #endif
 129   2                      MenuStack[MenuSP] = MenuTitle;
 130   2                      MenuIndexStack[MenuSP++] = title_item;
 131   2                      return 1;
 132   2              }
 133   1              return 0;
 134   1      }
 135          
 136          BYTE popMenu(void)
 137          {
 138   1              #ifdef DEBUG_OSD
                      dPrintf("\r\n(popMenu)-MenuSP:%d", (WORD)MenuSP);
                      #endif
 141   1              if( MenuSP ) {
 142   2                      MenuTitle = MenuStack[--MenuSP];
 143   2                      title_item = MenuIndexStack[MenuSP];
 144   2                      #ifdef DEBUG_OSD
                              {
                                      BYTE  **Desc;
                                      BYTE i;
              
                                      Desc = MenuTitle[title_item].Desc;
                                      for(i=0; i<OSDLang; i++)
                                              Desc += ( strlen(*Desc) + 1 );
              
              
                                      dPrintf("...MenuStack[%d]:Desc(%s)",(WORD)MenuSP, Desc);
                              }
                              #endif
 157   2                      return 1;
 158   2              }
 159   1              return 0;
 160   1      }               
 161          
 162          BYTE GetLowerMenuItem( CODE_P struct DefineMenu *DMp, BYTE itemno )
 163          {
 164   1              if( itemno==NIL )
 165   1                      return NIL;
 166   1              itemno++;
 167   1              if( (DMp[itemno].IconColor==NIL) && (DMp[itemno].DescColor==NIL) )              // end
 168   1                      return NIL;
 169   1              return itemno;
 170   1      
 171   1      }
 172          
 173          BYTE GetUpperMenuItem(  BYTE itemno )
 174          {
 175   1              //if( itemno==0 || 
 176   1              if(     itemno==NIL )
 177   1                      return NIL;
 178   1              itemno--;
 179   1              return itemno;
 180   1      }
 181          
 182          BYTE GetTargetChild( BYTE tid)
 183          {
 184   1              BYTE i;
 185   1      
 186   1      
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 206 

 187   1              if( MenuChild )         i = 0;
 188   1              else                            i = NIL;
 189   1      
 190   1              
 191   1              #ifdef DEBUG_OSD
                      dPrintf("\r\nTarget id:0x%x", (WORD)tid);
                      #endif
 194   1      
 195   1              while( i != NIL ) {
 196   2                      
 197   2                      #ifdef DEBUG_OSD
                              dPrintf("__ForActionId[%d]:0x%x", (WORD)i, (WORD)MenuChild[i].Id);
                              #endif
 200   2                      
 201   2                      if ( ( MenuChild[i].Id & 0x0f ) == tid )
 202   2                              return i;//break;
 203   2                      i = GetLowerMenuItem(MenuChild, i );
 204   2              }
 205   1      
 206   1              return i;
 207   1      }
 208          /*
 209          BYTE GetTargetChild1( BYTE tid)
 210          {
 211                  BYTE i;
 212          
 213          
 214                  if( MenuChild )         i = 0;
 215                  else                            i = NIL;
 216          
 217                  
 218                  #ifdef DEBUG_OSD
 219                  dPrintf("\r\nTarget id:0x%x", (WORD)tid);
 220                  #endif
 221          
 222                  while( i != NIL ) {
 223                          
 224                          #ifdef DEBUG_OSD
 225                          dPrintf("__ForActionId[%d]:0x%x", (WORD)i, (WORD)MenuChild[i]. PreFnId);
 226                          #endif
 227                          
 228                          if ( ( MenuChild[i]. PreFnId & 0x0f ) == tid )
 229                                  return i;//break;
 230                          i = GetLowerMenuItem( MenuChild, i );
 231                  }
 232                  return i;
 233          }
 234          */
 235          //===============================================================================
 236          //
 237          //  Display Information of the menu
 238          //
 239          //===============================================================================
 240          CODE BYTE OSDInfoStr[][26]={
 241                  { "   Input  :              " },
 242                  { "   System :              " },
 243                  { "   H Freq :      kHz     " },        
 244                  { "   V Freq :       Hz     " },
 245                  { "   F/W Rev:              " },        
 246                  { "" }  
 247          };
 248          #define OSD_INFO_SUB_X  12//9
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 207 

 249          
 250          // Display the information on the screen.
 251          // Input, System and F/W version
 252          //----------------------------------------------------------------
 253          void DisplayInfo_OSD(void)
 254          {
 255   1              BYTE i, title=1, len, inputs;
 256   1              BYTE mstr[5];
 257   1      
 258   1              pushMenu();   //Jason Chen, the important subroutine.
 259   1              MenuTitle = MenuChild;
 260   1              title_item = cursor_item;
 261   1      
 262   1              OSDMenuLevel++; 
 263   1              
 264   1              MenuChild = 0;
 265   1              cursor_item = NIL;
 266   1      
 267   1              DrawMenulist(1); // Display Title
 268   1      
 269   1              DrawAttrCnt(OSDMENU_SUBADDR+MENU_WIDTH, OSD_INFO_COLOR, 5*MENU_WIDTH );  // Line 1 ~ Line 5
 270   1              for(i=0; OSDInfoStr[i][0]; i++) 
 271   1                      WriteStringToAddr(OSDMENU_SUBADDR+MENU_WIDTH*(i+title), OSDInfoStr[i], MENU_WIDTH ); 
 272   1      
 273   1              // Display Input
 274   1              inputs = GetInputSelection();
 275   1              for (i=1; ;i++)
 276   1                      if( struct_InputSelection[i].Id==inputs )  break;
 277   1              len=strlen(struct_InputSelection[i].Name);
 278   1              WriteStringToAddr(OSDMENU_SUBADDR+MENU_WIDTH*(0+title)+OSD_INFO_SUB_X, struct_InputSelection[i].Name, len
             - ); 
 279   1      
 280   1              // Display ColorSystem
 281   1              #if defined( SUPPORT_PC ) || defined( SUPPORT_DTV )
 282   1              i = GetInputSelection();
 283   1              if( i==PC || i==DTV ){
 284   2                      len=strlen(GetPCInputSourceName());
 285   2                      WriteStringToAddr(OSDMENU_SUBADDR+MENU_WIDTH*(1+title)+OSD_INFO_SUB_X, GetPCInputSourceName(), len ); 
 286   2              }
 287   1              else
 288   1              #endif
 289   1              {
 290   2                      len=strlen(struct_VInputStd[GetVInputStdInx()].Name);
 291   2                      WriteStringToAddr(OSDMENU_SUBADDR+MENU_WIDTH*(1+title)+OSD_INFO_SUB_X, struct_VInputStd[GetVInputStdInx(
             -)].Name, len ); 
 292   2              }
 293   1      #ifdef REFERENCE
                      //IHF
                      MeasureAndWait(3);
              
                      ltoa_K(GetIHF(), mstr, 1);
                      len=strlen(mstr);
                      WriteStringToAddr(OSDMENU_SUBADDR+MENU_WIDTH*(2+title)+OSD_INFO_SUB_X, mstr, len ); 
              
                      utoa(GetIVF(),mstr,10);
                      len=strlen(mstr);
                      WriteStringToAddr(OSDMENU_SUBADDR+MENU_WIDTH*(3+title)+OSD_INFO_SUB_X, mstr, len ); 
              #endif
 305   1              //FWRev
 306   1              i = ReadEEP(EEP_FWREV_MAJOR);
 307   1              mstr[0] = i + '0';
 308   1              mstr[1] = '.';
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 208 

 309   1              i = ReadEEP(EEP_FWREV_MINOR);
 310   1              mstr[2] = (i/0x10) + '0';
 311   1              mstr[3] = (i%0x10) + '0';
 312   1              mstr[4] = '\0';
 313   1      #ifdef REFERENCE        
                      WriteStringToAddr(OSDMENU_SUBADDR+MENU_WIDTH*(4+title)+OSD_INFO_SUB_X, mstr, 4 ); 
              #else
 316   1              WriteStringToAddr(OSDMENU_SUBADDR+MENU_WIDTH*(2+title)+OSD_INFO_SUB_X, mstr, 4 ); 
 317   1      #endif
 318   1      }
 319          
 320          //********************************************************************
 321          //
 322          //      Functions for BAR.
 323          //
 324          //********************************************************************
 325          #define VOLBAR_LENGTH 21+3
 326          void DisplayVolumebar(BYTE val)
 327          {
 328   1              CODE BYTE BAR_ROM_TABLE[] = {
 329   1                      0x01, // ...
 330   1                      0x02,0x02, // |..
 331   1                      0x05,0x05, // ||.
 332   1                      0x03, // |
 333   1                      0x04, // |||
 334   1              };
 335   1      
 336   1              BYTE i;
 337   1              BYTE Bar_str[VOLBAR_LENGTH]={ 0x04, 0x04, 0x04, 0x04, 0x04,
 338   1                                                                 0x04, 0x04, 0x04, 0x04, 0x04,
 339   1                                                                 0x04, 0x04, 0x04, 0x04, 0x04,
 340   1                                                                 0x04, 0x04, 0x04, 0x04, 0x04, 0x03,' ',' ',' ' };
 341   1              WORD addr;
 342   1              
 343   1              if(val < 100)
 344   1              {
 345   2                      Bar_str[val/5] = BAR_ROM_TABLE[val%5];
 346   2                      for(i = val/5 + 1; i < 20; i++)
 347   2                              Bar_str[i] = BAR_ROM_TABLE[0];
 348   2              }
 349   1      
 350   1              if( Bar_str[0] == 0x01 ) Bar_str[0] = 0x02;     // |..
 351   1      
 352   1              // Number
 353   1          Bar_str[23] = val % 10 + '0';    val /= 10;
 354   1          Bar_str[22] =  val % 10 + '0';    val /= 10;
 355   1          Bar_str[21] = val + '0';
 356   1              if( Bar_str[21] == '0' ) Bar_str[21] = ' ';
 357   1      
 358   1              addr = OSDMENU_BARADDR + 1 + VOLBAR_LENGTH;     // 
 359   1      
 360   1              WriteStringToAddr(addr, Bar_str, VOLBAR_LENGTH ); 
 361   1      
 362   1      }
 363          
 364          BYTE Get_cursor_item(BYTE id)
 365          {
 366   1              BYTE i=NIL, tid;
 367   1      
 368   1              #ifdef DEBUG_OSD
                      dPrintf("\r\n++(Get_cursor_item) id:%d", (WORD)id);
                      #endif
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 209 

 371   1      
 372   1              
 373   1              switch ( id ) {
 374   2              case INPUTSELECTION:    tid = GetInputSelection(); 
 375   2                                                              break;
 376   2      
 377   2              default:                                return 0;// The first one
 378   2              }
 379   1      
 380   1              i = GetTargetChild( tid );
 381   1      
 382   1              if( i==NIL ) {  //couldn't find
 383   2                      dPuts("___Couldn't find cursor!!");
 384   2                      i=0;
 385   2              }
 386   1      
 387   1              #ifdef DEBUG_OSD
                      dPrintf("___Cursor:%d\r\n__(GetDefaultForChoiceMenu)", (WORD)i);
                      #endif
 390   1      
 391   1              return i;
 392   1      }
 393          
 394          //==================================================================================================
 395          // Func: DisplayOSDMenuOneItem
 396          //
 397          //
 398          void DisplayOSDMenuOneItem( winno, CODE_P struct DefineMenu *DMp, BYTE x, BYTE y, BYTE NOTViewflag )
 399          {
 400   1              BYTE i,j,k,IconColor;
 401   1              WORD addr;
 402   1              CODE_P BYTE *Str;
 403   1              CODE BYTE RightSign_str[]=      { 0x1c,' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',0 };// RIGHT mark
 404   1              CODE BYTE SpaceStr[]=  { ' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',0 }; // V1.1 02/28/07 simonsung
 405   1      
 406   1              #ifdef DEBUG_OSD
                      dPrintf("\r\n++(DisplayOSDMenuOneItem) ");
                      #endif
 409   1      
 410   1              if( cur_osdwin == OSDMENU_TOPWIN) addr = OSDMENU_MAINADDR;
 411   1              else addr = OSDMENU_SUBADDR;
 412   1      
 413   1              addr = addr + x + y*MenuFormat->width;
 414   1      
 415   1              #ifdef DEBUG_OSD
                      dPrintf("\r\nStartaddr:%d", addr);
                      #endif
 418   1      
 419   1              if( DMp->IconColor !=NIL ) {            // Draw Icon
 420   2                      //if(OnChangingValue) IconColor = BG_COLOR_BLACK|CH_COLOR_WHITE|EXTENDED_COLOR; 
 421   2                      //else
 422   2                              IconColor =  DMp->IconColor;
 423   2      
 424   2                      Str = DMp->Icon;
 425   2                      j=strlen(Str);
 426   2                      WriteStringToAddr(addr, Str, j);
 427   2      
 428   2                      x += ICON_CH_SZ;
 429   2              }
 430   1      
 431   1              if( DMp->DescColor !=NIL ) {            // Draw Desc.
 432   2      
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 210 

 433   2                      Str = DMp->Desc[OSDLang];
 434   2                      j=strlen(Str);
 435   2      
 436   2                      for( i=0,k=0; i<j; i++ )
 437   2                              if( *(Str+i) == ROMFONT || *(Str+i) == RAMFONT ) k++;
 438   2      
 439   2                      #ifdef DEBUG_OSD
                              dPrintf("\r\naddr:%d x:%d y:%d MenuFormat->width:%d", addr, (WORD)x, (WORD)y, (WORD)MenuFormat->width );
                              #endif
 442   2      
 443   2                      WriteStringToAddr(addr, Str, j);
 444   2      
 445   2                      if( (j-k ) < MAX_DESC ) 
 446   2                              ClearDataCnt(addr+j-k, MAX_DESC-j+k);
 447   2              
 448   2                      addr+=MAX_DESC;
 449   2      
 450   2              }
 451   1      
 452   1              if( OSDMenuLevel < 3) // Main Menu Item.
 453   1               if ( NOTViewflag==1 )  return; // In case of not need diplay contents. ex, BAR windows, top menu display.
 454   1              
 455   1              // Menu contents view
 456   1              /*if( x < (MenuFormat->width) )
 457   1                      if( x <  (MAX_DESC + ICON_CH_SZ) ){
 458   1                      //x+=2;
 459   1                      ClearDataCnt(addr, 2);
 460   1                      addr+=2;
 461   1              }*/
 462   1      
 463   1              switch (DMp->Type ) {
 464   2              case BAR:       // Draw Bar and Number value
 465   2                      DisplayViewBar( addr, GetItemValue(DMp->Id));
 466   2                      break;
 467   2      
 468   2              case NUMBER: // Draw Number value
 469   2                      {
 470   3                              CODE_P BYTE *ptr;
 471   3                              ptr = DMp->TypeData;
 472   3                              switch ( DMp->Id ) {
 473   4                              #if defined( PAL_TV )
                                      case MANUAL_TUNE_CHANNEL:
                                              WriteStringToAddr(addr, RightSign_str, BARNUM_LENGTH); 
                                              break;
                                      #endif
 478   4                              default:
 479   4                                      DrawNum( addr, (CODE_P struct NumType *)ptr, GetItemValue(DMp->Id) );
 480   4                                      break;
 481   4                              }
 482   3                      }
 483   2                      break;
 484   2              case ENUM_STRING:               
 485   2                      {
 486   3                              CODE_P BYTE *ptr;
 487   3      
 488   3                              ptr = DMp->TypeData;
 489   3                              DrawStringByLang( addr, (CODE_P struct EnumType *)ptr, GetItemValue(DMp->Id) );
 490   3      
 491   3                      }
 492   2                      break;
 493   2      
 494   2              case NUMBER_STRING:
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 211 

 495   2              case CHOICEMENU:
 496   2              case OSDMENU:
 497   2              case ACTION:
 498   2                              WriteStringToAddr(addr, RightSign_str, BARNUM_LENGTH); 
 499   2                              break;
 500   2              case TEXT_STR:  // V1.1 02/28/07 simonsung
 501   2                      WriteStringToAddr(addr, SpaceStr, BARNUM_LENGTH); 
 502   2                       break;         
 503   2      
 504   2              }
 505   1        
 506   1      }
 507          
 508          void ClearCursor(void)
 509          {
 510   1              //BYTE cursor_x;
 511   1              BYTE cursor_y;
 512   1              WORD addr;
 513   1      
 514   1              if( cursor_item==NIL )
 515   1                      return;
 516   1      
 517   1              //cursor_x = MenuFormat->CursorStart;
 518   1              cursor_y = cursor_item + ( MenuFormat->TitleColor ==NIL ? 0 : 1 );
 519   1              if( cur_osdwin == 4 ) addr = 0;
 520   1              else addr = 10;
 521   1              addr += cursor_y*MenuFormat->width;
 522   1              DrawAttrCnt(addr, DEFAULT_COLOR, MenuFormat->width );   
 523   1      
 524   1      }
 525          
 526          void DisplayCursor(void)
 527          {
 528   1              BYTE cursor_y=0,i ;
 529   1              WORD addr;
 530   1      
 531   1              if( cursor_item==NIL )
 532   1                      return;
 533   1      
 534   1          for(i=0;i<8;i++)  //william-20091026
 535   1          {
 536   2            cursor_y = i ;
 537   2            addr = OSDMENU_SUBADDR;  
 538   2            addr += cursor_y*MenuFormat->width; 
 539   2            DrawAttrCnt(addr, DEFAULT_COLOR, MenuFormat->width );  // Mdp 
 540   2          }
 541   1      
 542   1              
 543   1              cursor_y = cursor_item + ( MenuFormat->TitleColor ==NIL ? 0 : 1 );
 544   1      
 545   1              if( OSDMenuLevel == 1 ) addr = OSDMENU_MAINADDR;
 546   1              else addr = OSDMENU_SUBADDR;
 547   1      
 548   1              addr += cursor_y*MenuFormat->width;
 549   1      
 550   1              if( OSDMenuLevel == 1)
 551   1                      DrawAttrCnt(addr, MenuFormat->CursorColor, MenuFormat->width ); 
 552   1              else
 553   1              {
 554   2                      if(OnChangingValue)
 555   2                      {
 556   3                              GetItemValue(GetItemValue(MenuChild[cursor_item].Id));
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 212 

 557   3                              DrawAttrCnt(addr, MenuFormat->CursorColor, MenuFormat->width ); 
 558   3                      }
 559   2                      else
 560   2                      {
 561   3                              DrawAttrCnt(addr, MenuFormat->CursorColor, MenuFormat->width-BARNUM_LENGTH );   
 562   3                              DrawAttrCnt(addr+MAX_DESC, DEFAULT_COLOR, BARNUM_LENGTH );      
 563   3                      }
 564   2              }       
 565   1      
 566   1      }
 567          
 568          
 569          //===============================================================================
 570          //  OSD Menu Operation funtion moved to "OSDoper.c" by RYU.
 571          // 
 572          //===============================================================================
 573          
 574          WORD GetItemValue( BYTE id)
 575          {
 576   1              WORD val=0;
 577   1      
 578   1              #ifdef DEBUG_OSD
                      dPrintf("\r\n++(GetItemValue) id:0x%x __", (WORD)id);
                      #endif
 581   1      
 582   1              switch( id ) {
 583   2              //case SYSTEM_CLOCK:    val = GetSystemClock_HM();                      break;
 584   2              //case WAKEUP_TIME:             val = OSDItemValue = GetWakeupTime();   break;
 585   2              //case OFF_TIME:                val = OSDItemValue = GetOffTime();              break;
 586   2              //case SLEEP_TIMER:             val = OSDItemValue = GetSleepTimer();   break;
 587   2      
 588   2      #ifdef SUPPORT_OSDPOSITIONMOVE
 589   2              case OSDPOSITIONMODE:   val = GetOSDPositionMode();                             break;
 590   2              //case OSD_VPOS:                        val = GetOSDMenuYValue();                               break;
 591   2              //case OSD_HPOS:                        val = GetOSDMenuXValue();                               break;
 592   2      #endif
 593   2      //      case OSD_DURATION:              val = GetOSDDurationValue();                    break;
 594   2              case OSDLANG:                   val = OSDLang & 0x0f;                                   break;
 595   2      
 596   2              #ifdef SUPPORT_PC
 597   2              case PANEL_CONTRAST:    val = OSDItemValue = GetPanelContrastEE();                              break;
 598   2              case PANEL_BRIGHTNESS:  val = OSDItemValue = GetPanelBrightnessEE();                    break;
 599   2      
 600   2              case PC_VPOS:                   val = GetVPosition();                                   break;
 601   2              case PC_HPOS:                   val = GetHPosition();                                   break;
 602   2              case PC_CLOCK:                  val = GetCoarseValue();                                 break;
 603   2              case PC_PHASE:                  val = GetPhaseCurrent();                                break;
 604   2      
 605   2              case PC_COLOR_TEMP:             val = GetPCColorTempModeEE();                   break;
 606   2              case PC_COLOR_R:                val = GetPCColorTemp(RED);                              break;  
 607   2              case PC_COLOR_G:                val = GetPCColorTemp(GREEN);                    break;  
 608   2              case PC_COLOR_B:                val = GetPCColorTemp(BLUE);                             break;  
 609   2              #endif
 610   2      
 611   2      
 612   2              case VIDEO_MODE:                val = GetVideoModeEE();                                 break;
 613   2      
 614   2              case VIDEO_CONTRAST:    
 615   2              case VIDEO_BRIGHTNESS:  
 616   2              case VIDEO_SATURATION:  
 617   2              case VIDEO_HUE:                 
 618   2              case VIDEO_SHARPNESS:   
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 213 

 619   2              case VIDEO_BACKLIGHT:   
 620   2                                                              val = GetVideoDatawithOffset(id-VIDEO_CONTRAST);        break;
 621   2              case AUDIO_VOLUME:              
 622   2      //if((NowModeState==SelectMode&&SelectModeType==VGAMode)||(NowModeState==JumpMode&&((ReadEEP(EEP_JUMPMode)
             -==14)||SelectModeType==VGAMode)))             //william-v1.1-20110114
 623   2                      if(VGAAudio)
 624   2                              val=PCAudioVol;
 625   2                      else
 626   2                              val = AudioVol;
 627   2                      break;
 628   2      
 629   2              #if 0
                      
                      case AUDIO_BALANCE:             val = GetAudioBalance();                                break;
                      case AUDIO_BASS:                val = GetAudioBass();                                   break;
                      case AUDIO_TREBLE:              val = GetAudioTreble();                                 break;
                  #endif
 635   2              //case AUDIO_EFFECT:            val = GetAudioEffect();                                 break;
 636   2              //case AUDIO_MUTE:              val = IsAudioMuteOn();                                  break;
 637   2      
 638   2              case INPUTSTD:                  val = OSDItemValue = VInputStdDetectMode;                       
 639   2                                                              break;
 640   2      
 641   2              #ifdef WIDE_SCREEN              //.................................................
 642   2              case WIDESCREEN:
 643   2                                                              val = WideScreenMode;                                   break;
 644   2              #endif                                  //.................................................
 645   2          case DayChoice:           
 646   2               val = ReadEEP(EEP_AutoMode);
 647   2                   break;
 648   2              case CAMOSDONOFF:         
 649   2               val = ReadEEP(EEP_COSDMode);
 650   2                   break;
 651   2              case DVRDisplay:         
 652   2               val = ReadEEP(EEP_DVRDisplay);
 653   2                   break;      
 654   2              case GAUGEChoice:        
 655   2               val = ReadEEP(EEP_GAUGEMode);
 656   2                   break; 
 657   2              case OsdLockChoice:        
 658   2               val = ReadEEP(EEP_ONOFFChoice);
 659   2                   break;     
 660   2              case PRIORITYChoice:
 661   2               val = ReadEEP(EEP_PRIORITY);
 662   2                      break;
 663   2          case CAMAONOFF:
 664   2              val = ReadEEP(EEP_CAMAMode);
 665   2                  break;
 666   2              case CAMBONOFF:
 667   2              val = ReadEEP(EEP_CAMBMode);
 668   2                  break;
 669   2              case CAMCONOFF:
 670   2              val = ReadEEP(EEP_CAMCMode);
 671   2                  break;
 672   2              case CAMRONOFF:
 673   2              val = ReadEEP(EEP_CAMRMode);
 674   2                  break;
 675   2              case IMAGEChoice:
 676   2              val = ReadEEP(EEP_IMAGEMode);
 677   2                  break;
 678   2              case IMAGE_A_Choice:                               //ke
 679   2               val = ReadEEP(EEP_IMAGE_A_Mode);  //andy A1.4 20100113
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 214 

 680   2                         break;
 681   2              case IMAGE_B_Choice:                               //ke
 682   2               val = ReadEEP(EEP_IMAGE_B_Mode);  //andy A1.4 20100113
 683   2                         break;
 684   2              case IMAGE_C_Choice:                               //ke
 685   2               val = ReadEEP(EEP_IMAGE_C_Mode);  //andy A1.4 20100113
 686   2                         break;               
 687   2              case REARChoice:
 688   2              val = ReadEEP(EEP_RearMode);
 689   2                  break;
 690   2              case TriggerVGA:
 691   2              val = ReadEEP(EEP_TriggerVGA);
 692   2                  break;      
 693   2              case JUMPChoice:
 694   2              val = ReadEEP(EEP_JUMPMode);
 695   2                  break;
 696   2              case CAMOUTChoice:
 697   2              val = ReadEEP(EEP_CAMOutMode);
 698   2                  break;
 699   2              case STIME_STEP:
 700   2              val = ReadEEP(EEP_TimeStep);
 701   2                      //TimeStep=val; 
 702   2                  break;
 703   2                      
 704   2      //#ifdef SUPPORT_SDCARD         
 705   2              case Resolution:
 706   2                      val = DVR_Resolution;
 707   2                      break;
 708   2              case FPS:
 709   2                      val = DVR_FPS;
 710   2                      break;
 711   2              case Quality:
 712   2                      val = DVR_Quality;
 713   2                      break;
 714   2              case RecordMode:
 715   2                      val = DVR_RecordMode;
 716   2                      break;
 717   2              case RecordLength:
 718   2                      val = DVR_RecordLength;
 719   2                      break;
 720   2              case PreAlarmLength:
 721   2                      val = DVR_PreAlarmLength;
 722   2                      break;
 723   2              case PostAlarmLength:
 724   2                      val = DVR_PostAlarmLength;
 725   2                      break;
 726   2      
 727   2              case AudioRecord:
 728   2                      val = DVR_AudioRecord;
 729   2                      break;
 730   2                      
 731   2              case Year:
 732   2                      val = year2;
 733   2                      break;
 734   2              case Month:
 735   2                      val = month;
 736   2                      break;
 737   2              case Day:
 738   2                      val = day;
 739   2                      break;  
 740   2              case Hour:
 741   2                      val = hour;
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 215 

 742   2                      break;
 743   2              case Minute:
 744   2                      val = minute;
 745   2                      break;
 746   2      
 747   2              case DaylightSaving:
 748   2                      val = DVR_daylightsaving;
 749   2                      break;
 750   2              case TimeBeginesMonth:
 751   2                      val = DVR_timebeginesmonth;
 752   2                      break;
 753   2              case TimeBeginesWeek:
 754   2                      val = DVR_timebeginesweek;
 755   2                      break;
 756   2              case TimeBeginesTime:
 757   2                      val = DVR_timebeginesTime;
 758   2                      break;
 759   2              case StandardTimeBeginesMonth:
 760   2                      val = DVR_sandardtimebeginesMonth;
 761   2                      break;                  
 762   2              case StandardTimeBeginesWeek:
 763   2                      val = DVR_standardtimebeginesWeek;
 764   2                      break;
 765   2              case StandardTimeBeginesTime:
 766   2                      val = DVR_standardtimebeginesTime;
 767   2                      break;
 768   2      
 769   2              case TimeZone:
 770   2                      val = DVR_TimeZone;
 771   2                      break;
 772   2      
 773   2              case OverWrite:
 774   2                      val = DVR_OverWrite;
 775   2                      break;
 776   2      
 777   2              case FirstNumber:
 778   2                      val = PW_FirstNumber;
 779   2                      break;
 780   2      
 781   2              case SecondNumber:
 782   2                      val = PW_SecondNumber;
 783   2                      break;
 784   2      
 785   2              case ThridNumber:
 786   2                      val = PW_ThridNumber;
 787   2                      break;
 788   2              
 789   2              case FourthNumber:
 790   2                      val = PW_FourthNumber;
 791   2                      break;
 792   2      //#endif        //#ifdef SUPPORT_SDCARD 
 793   2      
 794   2             case CAMNumberChoice:                    //TM0350-980227 
 795   2                     val = ReadEEP(EEP_CAMNUMBER);
 796   2                     break;
 797   2             case PelcoChoice:                        //TM0350-980227
 798   2                     val = ReadEEP(EEP_PELCO);
 799   2                     break;
 800   2          
 801   2             case Baud_rateChoice:                    //TM0350-980227
 802   2                     val = ReadEEP(EEP_Baud_rate);
 803   2      
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 216 

 804   2      
 805   2              }
 806   1      
 807   1              return val;
 808   1      }
 809          
 810          #define MAX_VIDEOMODE   4
 811          #define MAXVCHIPMOVIE   7 
 812          
 813          WORD SetItemValue( BYTE id, BYTE flag )
 814          {
 815   1              WORD val=0;
 816   1      //      BYTE    i;
 817   1      
 818   1              Printf("\r\nSET Item Value: id-%X", (WORD)id);
 819   1              switch( id ) {
 820   2              //case SYSTEM_CLOCK_H:  
 821   2              //case WAKEUP_TIME_H:           
 822   2              //case OFF_TIME_H:
 823   2              //                                              val = SetClock_hour(flag);                              break;
 824   2      
 825   2              //case SYSTEM_CLOCK:
 826   2              //case WAKEUP_TIME:
 827   2              //case OFF_TIME:
 828   2              //                                              val = SetClock_min(flag);                               break;
 829   2              //case SLEEP_TIMER:             val = ChangeSleepTimer( flag );                 break;
 830   2      
 831   2      #ifdef SUPPORT_OSDPOSITIONMOVE
 832   2              case OSDPOSITIONMODE:    val = SetOSDPositionMode( flag );              break;
 833   2              //case OSD_VPOS:                        val = SetOSDMenuYValue(flag);                   break;
 834   2              //case OSD_HPOS:                        val = SetOSDMenuXValue(flag);                   break;
 835   2      #endif
 836   2      
 837   2      //      case OSD_DURATION:              val = SetOSDDurationValue(flag);                break;
 838   2              case OSDLANG:                   val = SetLanguage (flag);                               break;
 839   2      
 840   2              #if defined(SUPPORT_PC) || defined(SUPPORT_DTV)
 841   2              case PANEL_CONTRAST:    val = SetPanelContrast(flag);                   break;
 842   2              case PANEL_BRIGHTNESS:  val = SetPanelBrightness(flag);                 break;
 843   2              #endif
 844   2      
 845   2              #ifdef SUPPORT_PC
 846   2              case PC_VPOS:                   val = SetVPosition(flag);                               break;
 847   2              case PC_HPOS:                   val = SetHPosition(flag);                               break;
 848   2              case PC_CLOCK:                  val = SetPCCoarseValue(flag);                   break;
 849   2              case PC_PHASE:                  val = SetPhaseValue(flag);                              break;
 850   2              #endif
 851   2      
 852   2              case PC_COLOR_TEMP:             val = SetPCColorTemp(flag);                     break;
 853   2      
 854   2              case PC_COLOR_R:                val = SetPCColor(RED, flag);                    break;  
 855   2              case PC_COLOR_G:                val = SetPCColor(GREEN, flag);                  break;  
 856   2              case PC_COLOR_B:                val = SetPCColor(BLUE, flag);                   break;  
 857   2      
 858   2              case VIDEO_MODE:                val = GetVideoModeEE();
 859   2                                                              if(flag==UP) val ++;
 860   2                                                              else val = val + MAX_VIDEOMODE -1;
 861   2                                                              val %= MAX_VIDEOMODE ; 
 862   2                                                              SetVideoMode(val);              
 863   2                                                              
 864   2                                                              if( GetVideoModeEE() != 3 )  // if not user mode, mask the control.
 865   2                                                                      DrawAttrCnt(OSDMENU_SUBADDR+MENU_WIDTH*2, BACK_COLOR, (MENU_HEIGHT-1)*MENU_WIDTH );     
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 217 

 866   2                                                              else
 867   2                                                                      DrawAttrCnt(OSDMENU_SUBADDR+MENU_WIDTH*2, DEFAULT_COLOR, (MENU_HEIGHT-1)*MENU_WIDTH );  
 868   2                                                                                                                                              break;
 869   2      
 870   2              case VIDEO_CONTRAST:    
 871   2              case VIDEO_BRIGHTNESS:  
 872   2              case VIDEO_HUE:                 
 873   2                                                              val= ChangeVideoData(id-VIDEO_CONTRAST,flag);                                   break;
 874   2              case VIDEO_SATURATION:  val = ChangeVideoData(id-VIDEO_CONTRAST,flag);  
 875   2                                                              ChangeVideoData(id+1-VIDEO_CONTRAST,flag);
 876   2                                                                                                                                              break;
 877   2                                                              //val = SetVideoSaturation(V_SAT, flag);        break;
 878   2              case VIDEO_SHARPNESS:   val = SetVideoSharpness(flag);                  break;
 879   2              case VIDEO_BACKLIGHT:
 880   2                      val = ChangeVideoData(id-VIDEO_CONTRAST,flag);                  break;
 881   2      
 882   2              case AUDIO_VOLUME:              val = ChangeVol( (flag==UP ? 1 : -1) ); break;
 883   2      
 884   2          #if 0
                      
                      case AUDIO_BALANCE:             val = ChangeBalance( (flag==UP ? 1 : -1) );     break;
                      case AUDIO_BASS:                val = ChangeBass( (flag==UP ? 1 : -1) );        break;
                      case AUDIO_TREBLE:              val = ChangeTreble( (flag==UP ? 1 : -1) );      break;
                  #endif
 890   2      
 891   2              #ifdef WIDE_SCREEN
 892   2              case WIDESCREEN:                        val = WideScreenMode;
 893   2                                                                      if(flag==UP) val++;
 894   2                                                                      else val = ( val+MAXWIDESCREEN -1 );    
 895   2                                                                      val %= MAXWIDESCREEN;
 896   2                                                                      Set4WideScreen( val );
 897   2                                                                      break;
 898   2              #endif  //WIDE_SCREEN
 899   2          case DayChoice:           
 900   2               val = ReadEEP(EEP_AutoMode);
 901   2                if(flag==UP)
 902   2                     val = (!val ? 1 : 0);
 903   2                else 
 904   2                     val = (val ? 0 : 1);     
 905   2               WriteEEP( EEP_AutoMode,val);
 906   2                       AutoDayNight=val;
 907   2                       if(val==1)
 908   2                              AdjustAutoDayNight(0xff);
 909   2               //DaySelect( val );              //]wAuto Day & Night@(No=0,OFF=1)
 910   2                   break;
 911   2              case CAMOSDONOFF:         
 912   2                   val = ReadEEP(EEP_COSDMode);                                                     
 913   2                   if(flag==UP)                                                        
 914   2                     val = (!val ? 1 : 0);                                             
 915   2                   else                                              
 916   2                     val = (val ? 0 : 1);                                              
 917   2                   WriteEEP(EEP_COSDMode,val);   
 918   2                   if(val==0)                     //CAM OSD ON //william-980428
 919   2                   {
 920   3                      Attr_A|=0x02;
 921   3                      Attr_B|=0x02;
 922   3                      Attr_C|=0x02;
 923   3                      Attr_R|=0x02;
 924   3                                      //displayhold_flag=0;
 925   3                   }                   
 926   2                   else                           //CAM OSD OFF 
 927   2                   {
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 218 

 928   3                      Attr_A&=0x0d;
 929   3                      Attr_B&=0x0d;
 930   3                      Attr_C&=0x0d;
 931   3                      Attr_R&=0x0d;
 932   3                   }  
 933   2                      if(TriggerFlag!=0x08)           //william-v1.1-20100204  
 934   2                 SetNowMode();
 935   2                      //CheckNowMode(SourceMode); 
 936   2                   break;
 937   2      
 938   2              case DVRDisplay:        
 939   2               val = ReadEEP(EEP_DVRDisplay);                                                    
 940   2               if(flag==UP)                                  
 941   2                 val = (!val ? 1 : 0);                                             
 942   2               else                                                                
 943   2                 val = (val ? 0 : 1);                                              
 944   2              WriteEEP(EEP_DVRDisplay,val);  
 945   2                   break; 
 946   2                       
 947   2              case GAUGEChoice:        
 948   2               val = ReadEEP(EEP_GAUGEMode);                                                    
 949   2               if(flag==UP)                                  
 950   2                 val = (!val ? 1 : 0);                                             
 951   2               else                                                                
 952   2                 val = (val ? 0 : 1);                                              
 953   2              WriteEEP(EEP_GAUGEMode,val);  
 954   2                   break; 
 955   2              case OsdLockChoice:        
 956   2               val = ReadEEP(EEP_ONOFFChoice);                                                    
 957   2               if(flag==UP)                                  
 958   2                  val = (!val ? 1 : 0);                                             
 959   2               else                                                                
 960   2                  val = (val ? 0 : 1);                                              
 961   2               WriteEEP(EEP_ONOFFChoice,val);   
 962   2                   break;     
 963   2              case PRIORITYChoice:
 964   2                      val = ReadEEP(EEP_PRIORITY);                                                                                               
 965   2                      if(flag==UP)                                                              
 966   2                              val = (!val ? 1 : 0);                                                                                   
 967   2                      else                                                                                                                            
 968   2                              val = (val ? 0 : 1);    
 969   2                      
 970   2                              Priority= val;
 971   2                      if(Priority==0)
 972   2                              {               
 973   3                               WriteEEP( EEP_JUMPMode,0);
 974   3                               WriteEEP(EEP_ONOFFChoice,0x01);     // OSD  lock....... off                            
 975   3                              }
 976   2                      else
 977   2                              {       
 978   3                              WriteEEP(EEP_JUMPMode,13); 
 979   3                              WriteEEP(EEP_ONOFFChoice,0x00);     // OSD  lock....... on   
 980   3                              
 981   3                              if(SelectModeType>CAM_R)
 982   3                                      {
 983   4                                      SelectModeType=CAM_A;
 984   4                                      SetNowMode();
 985   4                                      WriteEEP(EEP_SelectMode,SelectModeType);
 986   4                                      }
 987   3                              }
 988   2      
 989   2                        WriteEEP(EEP_PRIORITY,val);                                                                                                                                                                     
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 219 

 990   2                        break; 
 991   2                      break;
 992   2                                                                                       //CAMA Mirror}]w                                                                          
 993   2              case CAMAONOFF:                                                                                    
 994   2                        val = ReadEEP(EEP_CAMAMode);                                                                                                     
 995   2                        if(flag==UP)                                                                                                            
 996   2                              val = (!val ? 1 : 0);                                                                                     
 997   2                        else                                                                                   
 998   2                              val = (val ? 0 : 1);                                             
 999   2                        WriteEEP(EEP_CAMAMode,val);   
1000   2              
1001   2                        if(val==0)                                     //ON                      
1002   2                              Attr_A|=0x01;                            
1003   2                        else                                                   //OFF                    
1004   2                              Attr_A&=0x0E;                   
1005   2      
1006   2                      if(TriggerFlag!=0x08)           //william-v1.1-20100204
1007   2                        SetNowMode();
1008   2                        //CheckNowMode(SourceMode);
1009   2                        break;                                                                                 
1010   2                                                                                                                       
1011   2              case CAMBONOFF:                                          //CAMB Mirror}]w                             
1012   2                        val = ReadEEP(EEP_CAMBMode);                                                            
1013   2                        if(flag==UP)                                                                   
1014   2                         val = (!val ? 1 : 0);                                                 
1015   2                        else                                                                                   
1016   2                         val = (val ? 0 : 1);                                                  
1017   2                        WriteEEP(EEP_CAMBMode,val);   
1018   2              
1019   2                        if(val==0)                                    //ON                      
1020   2                               Attr_B|=0x01;                           
1021   2                        else                                                  //OFF                                                    
1022   2                               Attr_B&=0x0E;  
1023   2                      if(TriggerFlag!=0x08)           //william-v1.1-20100204  
1024   2                        SetNowMode();
1025   2                        //CheckNowMode(SourceMode);                      
1026   2                        break;                                                                                 
1027   2                               
1028   2              case CAMCONOFF:                                          //CAMC Mirror}]w           
1029   2                         val = ReadEEP(EEP_CAMCMode);                                                                                    
1030   2                         if(flag==UP)                                                                           
1031   2                               val = (!val ? 1 : 0);                                                    
1032   2                         else                                                                 
1033   2                               val = (val ? 0 : 1);                                                     
1034   2                         WriteEEP(EEP_CAMCMode,val);   
1035   2                         
1036   2                         if(val==0)                                    //ON                                              
1037   2                               Attr_C|=0x01;                                            
1038   2                         else                                                  //OFF                                                   
1039   2                               Attr_C&=0x0E;  
1040   2                      if(TriggerFlag!=0x08)           //william-v1.1-20100204  
1041   2                         SetNowMode();
1042   2                         //CheckNowMode(SourceMode);
1043   2                         break;                                                                         
1044   2                                                                                        
1045   2              case CAMRONOFF:                                          //CAMR Mirror}]w                                     
1046   2                         val = ReadEEP(EEP_CAMRMode);                                                                          
1047   2                         if(flag==UP)                                                                           
1048   2                               val = (!val ? 1 : 0);                  
1049   2                         else 
1050   2                               val = (val ? 0 : 1);            
1051   2                         WriteEEP( EEP_CAMRMode,val);   
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 220 

1052   2                       
1053   2                         if(val==0)                                    //CAM OSD ON                                                   
1054   2                               Attr_R|=0x01;                    
1055   2                         else                                                  //CAM OSD OFF                                                  
1056   2                               Attr_R&=0x0E;
1057   2                       if(TriggerFlag!=0x08)                  //william-v1.1-20100204  
1058   2                         SetNowMode();
1059   2                         //CheckNowMode(SourceMode);                   
1060   2                         break;
1061   2      
1062   2      
1063   2              case IMAGEChoice:
1064   2              val = ReadEEP(EEP_IMAGEMode);
1065   2              if(flag==UP)
1066   2                {
1067   3                 if(val<3) val+=1;
1068   3                   else val=0;
1069   3                }            
1070   2                else 
1071   2                {
1072   3                   if(val>0) val-=1;
1073   3                   else val=3;
1074   3                }                                                     
1075   2                WriteEEP(EEP_IMAGEMode,val);   
1076   2                  break;
1077   2                      
1078   2                case IMAGE_A_Choice:                             //ke]w(0=SINGLE , 1=DUAL , 2=TRIPLE)
1079   2                              val = ReadEEP(EEP_IMAGE_A_Mode);  //andy A1.4 20100113
1080   2                              if(flag==UP)
1081   2                              {
1082   3                                 if(val<6) val+=1;
1083   3                                 else val=0;
1084   3                              }                        
1085   2                              else 
1086   2                              {
1087   3                                 if(val>0) val-=1;
1088   3                                 else val=6;
1089   3                              }                                                                                                         
1090   2                              WriteEEP(EEP_IMAGE_A_Mode,val);   
1091   2                              break;
1092   2             
1093   2             case IMAGE_B_Choice:                    //ke]w(0=SINGLE , 1=DUAL , 2=TRIPLE)
1094   2                   val = ReadEEP(EEP_IMAGE_B_Mode);//andy A1.4 20100113
1095   2                   if(flag==UP)
1096   2                   {
1097   3                      if(val<6) val+=1;
1098   3                      else val=0;
1099   3                   }            
1100   2                   else 
1101   2                   {
1102   3                      if(val>0) val-=1;
1103   3                      else val=6;
1104   3                   }                                                     
1105   2                   WriteEEP(EEP_IMAGE_B_Mode,val);   
1106   2                   break;
1107   2                              
1108   2              case IMAGE_C_Choice:                                     //ke]w(0=SINGLE , 1=DUAL , 2=TRIPLE)
1109   2                        val = ReadEEP(EEP_IMAGE_C_Mode);//andy A1.4 20100113
1110   2                        if(flag==UP)
1111   2                        {
1112   3                               if(val<6) val+=1;
1113   3                               else val=0;
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 221 

1114   3                        }                
1115   2                        else 
1116   2                        {
1117   3                               if(val>0) val-=1;
1118   3                               else val=6;
1119   3                        }                                                                                                     
1120   2                        WriteEEP(EEP_IMAGE_C_Mode,val);        
1121   2                      break;
1122   2                      
1123   2              case REARChoice:
1124   2               val = ReadEEP(EEP_RearMode);
1125   2               if(flag==UP)
1126   2                 {
1127   3                      if(val<4) val+=1;
1128   3                      else val=0;
1129   3                 }            
1130   2                 else 
1131   2                 {
1132   3                      if(val>0) val-=1;
1133   3                      else val=4;
1134   3                 }   
1135   2                  WriteEEP(EEP_RearMode,val);  
1136   2                  break;      
1137   2              case TriggerVGA:                                         //CAMR Mirror}]w                                     
1138   2                         val = ReadEEP(EEP_TriggerVGA);                                                                        
1139   2                         if(flag==UP)                                                                           
1140   2                               val = (!val ? 1 : 0);                  
1141   2                         else 
1142   2                               val = (val ? 0 : 1);            
1143   2                         WriteEEP(EEP_TriggerVGA,val);   
1144   2                                               
1145   2                         break;
1146   2                      
1147   2              case JUMPChoice:
1148   2                      val=ReadEEP(EEP_JUMPMode);
1149   2                      if(flag==UP)
1150   2                      {
1151   3                         if(val<14) val+=1;
1152   3                         else val=0;
1153   3                      }                       
1154   2                      else 
1155   2                      {
1156   3                         if(val>0) val-=1;
1157   3                         else val=14;  
1158   3                      }       
1159   2                      
1160   2                      WriteEEP( EEP_JUMPMode,val);  
1161   2                      if(val==SEQ && NowModeState==JumpMode)
1162   2                      {
1163   3                              SEQIndex=0;
1164   3                              SEQMode();
1165   3                              SEQFlag=1;
1166   3                              SEQTime=0;
1167   3                      }
1168   2      
1169   2                      break;
1170   2              case CAMOUTChoice:
1171   2              val = ReadEEP(EEP_CAMOutMode);  
1172   2                      CAMOutDSel( val );             //]wCAMOut@             
1173   2              if(flag==UP)
1174   2                {
1175   3                 if(val<4) val+=1;
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 222 

1176   3                   else val=0;
1177   3                }           
1178   2                else 
1179   2                {
1180   3                 if(val>0) val-=1;
1181   3                   else val=4;
1182   3                }                                                    
1183   2                WriteEEP(EEP_CAMOutMode,val);      
1184   2                CAMOutDSel( val );             //]wCAMOut@   
1185   2                  break;
1186   2              case STIME_STEP:
1187   2              val=ReadEEP(EEP_TimeStep);
1188   2              if(flag==UP)
1189   2                {
1190   3                         if(val<100) val+=1;
1191   3                }           
1192   2                else 
1193   2                {
1194   3                       if(val>2) val-=1;
1195   3                }          
1196   2                WriteEEP(EEP_TimeStep,val); 
1197   2                        TimeStep=val;  
1198   2                  break;
1199   2      
1200   2              case Resolution:
1201   2              val=DVR_Resolution;
1202   2              if(flag==UP)                                                                      
1203   2                        {
1204   3                         if(val<2) val+=1;
1205   3                               else val=1;
1206   3                        }               
1207   2                        else 
1208   2                        {
1209   3                         if(val>1) val-=1;
1210   3                               else val=2;
1211   3                        }      
1212   2                       DVR_Resolution=val; 
1213   2                       DVR_DataChange=1;
1214   2                  break;
1215   2                      
1216   2              case FPS:
1217   2                      val = DVR_FPS;                  
1218   2                      if(flag==UP)
1219   2                        {
1220   3                         if(val<6) val+=1;
1221   3                               else val=1;
1222   3                        }               
1223   2                        else 
1224   2                        {
1225   3                         if(val>1) val-=1;
1226   3                               else val=6;
1227   3                        }                                                                                                
1228   2                        DVR_FPS=val;    
1229   2                        DVR_DataChange=1;
1230   2                break;
1231   2                
1232   2         case Quality:
1233   2                      val = DVR_Quality;                      
1234   2                      if(flag==UP)
1235   2                        {
1236   3                         if(val<5) val+=1;
1237   3                               else val=1;
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 223 

1238   3                        }               
1239   2                        else 
1240   2                        {
1241   3                         if(val>1) val-=1;
1242   3                               else val=5;
1243   3                        }                                                                                                
1244   2                        DVR_Quality=val;
1245   2                        DVR_DataChange=1;
1246   2                break;
1247   2                
1248   2        case RecordMode:
1249   2                val =DVR_RecordMode;            
1250   2                if(flag==UP)
1251   2                      {
1252   3                       if(val<3) val+=1;
1253   3                         else val=1;
1254   3                      }                       
1255   2                      else 
1256   2                      {
1257   3                       if(val>1) val-=1;
1258   3                         else val=3;
1259   3                      }                                                                                                        
1260   2                      DVR_RecordMode=val;
1261   2                      DVR_DataChange=1;
1262   2                break;
1263   2                
1264   2        case RecordLength:
1265   2                val = DVR_RecordLength;                 
1266   2                if(flag==UP)
1267   2                      {
1268   3                       if(val<6) val+=1;
1269   3                         else val=1;
1270   3                      }                       
1271   2                      else 
1272   2                      {
1273   3                       if(val>1) val-=1;
1274   3                         else val=6;
1275   3                      }                                                                                                        
1276   2                      DVR_RecordLength=val;
1277   2                      DVR_DataChange=1;
1278   2                break;
1279   2                
1280   2        case PreAlarmLength:
1281   2                val = DVR_PreAlarmLength;               
1282   2                if(flag==UP)
1283   2                      {
1284   3                       if(val<5) val+=1;
1285   3                         else val=1;
1286   3                      }                       
1287   2                      else 
1288   2                      {
1289   3                       if(val>1) val-=1;
1290   3                         else val=5;
1291   3                      }                                                                                                        
1292   2                      DVR_PreAlarmLength=val;
1293   2                      DVR_DataChange=1;
1294   2                break;
1295   2                
1296   2        case PostAlarmLength:
1297   2                val = DVR_PostAlarmLength;              
1298   2                if(flag==UP)
1299   2                      {
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 224 

1300   3                       if(val<8) val+=1;
1301   3                         else val=1;
1302   3                      }                       
1303   2                      else 
1304   2                      {
1305   3                       if(val>1) val-=1;
1306   3                         else val=8;
1307   3                      }                                                                                                        
1308   2                      DVR_PostAlarmLength=val;
1309   2                      DVR_DataChange=1;
1310   2                break;
1311   2      
1312   2        case AudioRecord:
1313   2                val = DVR_AudioRecord;                  
1314   2                if(flag==UP)
1315   2                      {
1316   3                       if(val<3) val+=1;
1317   3                         else val=0;
1318   3                      }                       
1319   2                      else 
1320   2                      {
1321   3                       if(val>0) val-=1;
1322   3                         else val=3;
1323   3                      }       
1324   2                      
1325   2              DVR_AudioRecord=val;
1326   2              DVRAodioSel(DVR_AudioRecord);
1327   2              WriteEEP(EEP_AudioRecord,val);  
1328   2              
1329   2                break;
1330   2      
1331   2      
1332   2                
1333   2        case Year:
1334   2                val =year2;             
1335   2                if(flag==UP)
1336   2                      {
1337   3                       if(val<99) val+=1;
1338   3                         else val=0;
1339   3                      }                       
1340   2                      else 
1341   2                      {
1342   3                       if(val>0) val-=1;
1343   3                         else val=99;
1344   3                      }       
1345   2                      year2=val;
1346   2                      DVR_DataChange=1;
1347   2                break;
1348   2                
1349   2        case Month:
1350   2                val =month;             
1351   2                if(flag==UP)
1352   2                      {
1353   3                       if(val<12) val+=1;
1354   3                         else val=1;
1355   3                      }                       
1356   2                      else 
1357   2                      {
1358   3                       if(val>1) val-=1;
1359   3                         else val=12;
1360   3                      }       
1361   2                      month=val;
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 225 

1362   2                      DVR_DataChange=1;
1363   2                break;
1364   2                
1365   2        case Day:
1366   2                val =day;               
1367   2                if(flag==UP)
1368   2                      {
1369   3                       if(val<31) val+=1;
1370   3                         else val=1;
1371   3                      }                       
1372   2                      else 
1373   2                      {
1374   3                       if(val>1) val-=1;
1375   3                         else val=31;
1376   3                      }       
1377   2                      day=val;
1378   2                      DVR_DataChange=1;
1379   2                break; 
1380   2                
1381   2        case Hour:
1382   2                val =hour;              
1383   2                if(flag==UP)
1384   2                      {
1385   3                       if(val<23) val+=1;
1386   3                         else val=1;
1387   3                      }                       
1388   2                      else 
1389   2                      {
1390   3                       if(val>1) val-=1;
1391   3                         else val=23;
1392   3                      }       
1393   2                      hour=val;
1394   2                      DVR_DataChange=1;
1395   2                break;
1396   2                
1397   2        case Minute:
1398   2                val = minute;
1399   2                if(flag==UP)
1400   2                      {
1401   3                       if(val<59) val+=1;
1402   3                         else val=0;
1403   3                      }                       
1404   2                      else 
1405   2                      {
1406   3                       if(val>0) val-=1;
1407   3                         else val=59;
1408   3                      }       
1409   2                      minute=val;
1410   2                      DVR_DataChange=1;
1411   2                break;
1412   2                
1413   2        case TimeZone:
1414   2                val = DVR_TimeZone;
1415   2                if(flag==UP)
1416   2                      {
1417   3                       if(val<25) val+=1;
1418   3                         else val=1;
1419   3                      }                       
1420   2                      else 
1421   2                      {
1422   3                       if(val>1) val-=1;
1423   3                         else val=25;
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 226 

1424   3                      }       
1425   2                      DVR_TimeZone=val;
1426   2                      DVR_DataChange=1;
1427   2                break;
1428   2        
1429   2        case DaylightSaving:
1430   2                val = DVR_daylightsaving;                                                                       
1431   2              if(flag==UP)                                                                      
1432   2                        {
1433   3                         if(val<2) val+=1;
1434   3                               else val=1;
1435   3                        }               
1436   2                        else 
1437   2                        {
1438   3                         if(val>1) val-=1;
1439   3                               else val=2;
1440   3                        }  
1441   2               DVR_daylightsaving = val; 
1442   2               DVR_DataChange=1;
1443   2                break;
1444   2                
1445   2        case TimeBeginesMonth:
1446   2                val = DVR_timebeginesmonth;
1447   2                if(flag==UP)
1448   2                      {
1449   3                       if(val<12) val+=1;
1450   3                         else val=1;
1451   3                      }                       
1452   2                      else 
1453   2                      {
1454   3                       if(val>1) val-=1;
1455   3                         else val=12;
1456   3                      }
1457   2                DVR_timebeginesmonth=val;
1458   2                DVR_DataChange=1;
1459   2                break;
1460   2                
1461   2        case TimeBeginesWeek:
1462   2                val = DVR_timebeginesweek;
1463   2                if(flag==UP)
1464   2                      {
1465   3                       if(val<4) val+=1;
1466   3                         else val=1;
1467   3                      }                       
1468   2                      else 
1469   2                      {
1470   3                       if(val>1) val-=1;
1471   3                         else val=4;
1472   3                      }
1473   2                DVR_timebeginesweek = val;
1474   2                DVR_DataChange=1;
1475   2                break;
1476   2        case TimeBeginesTime:
1477   2                val = DVR_timebeginesTime;
1478   2                if(flag==UP)
1479   2                      {
1480   3                       if(val<23) val+=1;
1481   3                         else val=0;
1482   3                      }                       
1483   2                      else 
1484   2                      {
1485   3                       if(val>0) val-=1;
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 227 

1486   3                         else val=23;
1487   3                      }
1488   2                DVR_timebeginesTime = val;
1489   2                DVR_DataChange=1;
1490   2                break;
1491   2        case StandardTimeBeginesMonth:
1492   2                val = DVR_sandardtimebeginesMonth;
1493   2                if(flag==UP)
1494   2                      {
1495   3                       if(val<12) val+=1;
1496   3                         else val=1;
1497   3                      }                       
1498   2                      else 
1499   2                      {
1500   3                       if(val>1) val-=1;
1501   3                         else val=12;
1502   3                      }
1503   2                DVR_sandardtimebeginesMonth=val;      
1504   2                DVR_DataChange=1;
1505   2                break;                  
1506   2        case StandardTimeBeginesWeek:
1507   2                val = DVR_standardtimebeginesWeek;
1508   2                if(flag==UP)
1509   2                      {
1510   3                       if(val<4) val+=1;
1511   3                         else val=1;
1512   3                      }                       
1513   2                      else 
1514   2                      {
1515   3                       if(val>1) val-=1;
1516   3                         else val=4;
1517   3                      }
1518   2                DVR_standardtimebeginesWeek = val;
1519   2                DVR_DataChange=1;
1520   2                break;
1521   2        case StandardTimeBeginesTime:
1522   2                val = DVR_standardtimebeginesTime;
1523   2                if(flag==UP)
1524   2                      {
1525   3                       if(val<23) val+=1;
1526   3                         else val=0;
1527   3                      }                       
1528   2                      else 
1529   2                      {
1530   3                       if(val>1) val-=1;
1531   3                         else val=23;
1532   3                      }
1533   2                DVR_standardtimebeginesTime = val;
1534   2                DVR_DataChange=1;
1535   2                break;
1536   2                
1537   2                case FirstNumber:
1538   2                        val = PW_FirstNumber;
1539   2                        if(flag==UP)
1540   2                              {
1541   3                               if(val<9) val+=1;
1542   3                                 else val=0;
1543   3                              }                       
1544   2                              else 
1545   2                              {
1546   3                               if(val>0) val-=1;
1547   3                                 else val=9;
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 228 

1548   3                              }
1549   2                        PW_FirstNumber = val;
1550   2                        break;
1551   2      
1552   2              case SecondNumber:
1553   2                      val = PW_SecondNumber;
1554   2                      if(flag==UP)
1555   2                        {
1556   3                         if(val<9) val+=1;
1557   3                               else val=0;
1558   3                        }               
1559   2                        else 
1560   2                        {
1561   3                         if(val>0) val-=1;
1562   3                               else val=9;
1563   3                        }
1564   2                      PW_SecondNumber = val;
1565   2                      break;
1566   2      
1567   2              case ThridNumber:
1568   2                val = PW_ThridNumber;
1569   2                if(flag==UP)
1570   2                      {
1571   3                       if(val<9) val+=1;
1572   3                         else val=0;
1573   3                      }                       
1574   2                      else 
1575   2                      {
1576   3                       if(val>0) val-=1;
1577   3                         else val=9;
1578   3                      }
1579   2                PW_ThridNumber = val;
1580   2                break;
1581   2                
1582   2        case FourthNumber:
1583   2                val = PW_FourthNumber;
1584   2                if(flag==UP)
1585   2                      {
1586   3                       if(val<9) val+=1;
1587   3                         else val=0;
1588   3                      }                       
1589   2                      else 
1590   2                      {
1591   3                       if(val>0) val-=1;
1592   3                         else val=9;
1593   3                      }
1594   2                PW_FourthNumber = val;
1595   2                break;
1596   2      
1597   2          case CAMNumberChoice:                    //TM0350-980227          
1598   2                    val=ReadEEP(EEP_CAMNUMBER);
1599   2                    if(flag==UP)
1600   2                    {
1601   3                       if(val<255) val+=1;  
1602   3                       else val=0;
1603   3                    }           
1604   2                    else 
1605   2                    {
1606   3                       if(val>0) val-=1;
1607   3                       else val=255;
1608   3                    }    
1609   2                                CAMNumber=val;
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 229 

1610   2                    WriteEEP(EEP_CAMNUMBER,val);      
1611   2                    break;  
1612   2              
1613   2             case PelcoChoice:                                //TM0350-980227              
1614   2                   val = ReadEEP(EEP_PELCO);                                                     
1615   2                   if(flag==UP)                                                        
1616   2                     val = (!val ? 1 : 0);                                             
1617   2                   else                                              
1618   2                     val = (val ? 0 : 1);
1619   2                               PelcoChoiceFLAG=val;
1620   2                   WriteEEP(EEP_PELCO,val);            
1621   2                   break;     
1622   2      
1623   2             case Baud_rateChoice:                    //TM0350-980227          
1624   2                    val=ReadEEP(EEP_Baud_rate);
1625   2                    if(flag==UP)
1626   2                    {
1627   3                       if(val<2) val+=1;  
1628   3                       else val=0;
1629   3                    }           
1630   2                    else 
1631   2                    {
1632   3                       if(val>0) val-=1;
1633   3                       else val=2;
1634   3                    }    
1635   2                                Baud_rate=val;
1636   2                    WriteEEP(EEP_Baud_rate,val);      
1637   2                    break; 
1638   2      
1639   2        case OverWrite:
1640   2                val = DVR_OverWrite;                                                                    
1641   2              if(flag==UP)                                                                      
1642   2                        {
1643   3                         if(val<2) val+=1;
1644   3                               else val=1;
1645   3                        }               
1646   2                        else 
1647   2                        {
1648   3                         if(val>1) val-=1;
1649   3                               else val=2;
1650   3                        }  
1651   2               DVR_OverWrite = val; 
1652   2               DVR_DataChange=1;
1653   2                break;        
1654   2      
1655   2                      
1656   2              }
1657   1      
1658   1              return val;
1659   1      }
1660          
1661          
1662          void DisplayViewBar(WORD addr, BYTE val)
1663          {
1664   1              CODE BYTE BAR_ROM_TABLE[] = {
1665   1                      0x01,0x01,0x01,0x01, // ...
1666   1                      0x02,0x02,0x02,0x02,0x02, // |..
1667   1                      0x05,0x05,0x05,0x05,0x05,// ||.
1668   1                      0x03, // |
1669   1                      0x04, // |||
1670   1              };
1671   1      
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 230 

1672   1              BYTE i=0;
1673   1              BYTE Bar_str[]={ 0x04, 0x04, 0x04, 0x04, 0x04, 0x04, 0x04, 0x03, ' ', ' ', ' ',0 };
1674   1      
1675   1              // Bar
1676   1              if( BAR_LENGTH != 0 ) {
1677   2                      if(val < 98)
1678   2                      {
1679   3                              Bar_str[val/14] = BAR_ROM_TABLE[val%14];
1680   3                              for(i = val/14 + 1; i < 7; i++)
1681   3                                      Bar_str[i] = BAR_ROM_TABLE[0];
1682   3                      }
1683   2      
1684   2                      if( Bar_str[0] == 0x01 ) Bar_str[0] = 0x02;     // |..
1685   2              }
1686   1      
1687   1              // Number
1688   1          Bar_str[i+2] = val % 10 + '0';    val /= 10;
1689   1          Bar_str[i+1] =  val % 10 + '0';    val /= 10;
1690   1          Bar_str[i] = val + '0';
1691   1              if( Bar_str[i] == '0' ) Bar_str[i] = ' ';
1692   1      
1693   1              for(;i<7;i++)
1694   1                      Bar_str[i+3] = ' ';
1695   1      
1696   1              WriteStringToAddr(addr, Bar_str, BARNUM_LENGTH); 
1697   1      
1698   1      }
1699          
1700          void DrawNum(WORD addr,CODE_P struct NumType *nptr, WORD val)
1701          {
1702   1              BYTE x,i, j,k, len, mstr[5];//,color;
1703   1              BYTE Num_str[]={ ' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',0 };
1704   1              CODE_P BYTE *str;
1705   1              
1706   1              x=  MAX_DESC;//+ICON_CH_SZ;
1707   1              i =  nptr->PrePostCharLen >> 4 ;
1708   1              j =  nptr->PrePostCharLen & 0x0f ;
1709   1              str = nptr->PrePostChar;
1710   1      
1711   1              // Draw char on front of number. 
1712   1              if( i ) 
1713   1                      for(k=0; k<i; k++)
1714   1                              Num_str[k] = *str++;
1715   1              // Draw number.
1716   1              utoa(val,mstr,BAR_NUM_RADIX);
1717   1              len = strlen(mstr);
1718   1              str=mstr;
1719   1              for(k=0; k<len; k++)
1720   1                      Num_str[k+i] = *str++;
1721   1      
1722   1              // Draw char on back of number
1723   1              if( j ) 
1724   1                      for(k=0; k<j; k++)
1725   1                              Num_str[k+i+len] = *str++;
1726   1              WriteStringToAddr(addr, Num_str, BARNUM_LENGTH); 
1727   1              
1728   1      }
1729          
1730          void DrawStringByLang( WORD addr, CODE_P struct EnumType *yptr, WORD val )
1731          {
1732   1      
1733   1              BYTE j,l,Size_val;
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 231 

1734   1              BYTE Buf[]={' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',0 };
1735   1              CODE_P BYTE *Str;
1736   1      
1737   1              Size_val = yptr->Sz;
1738   1              Str = yptr->Str;
1739   1      
1740   1              if ( yptr->ByLang)
1741   1              {
1742   2                      for(j=0; j<OSDLang*Size_val; j++)                       
1743   2                      Str += ( strlen(Str) + 1 );
1744   2              }
1745   1      
1746   1              if( val ){ 
1747   2                      for(j=0; j<val; j++)                    
1748   2                      Str += ( strlen(Str) + 1 );     
1749   2              }
1750   1      
1751   1              WriteStringToAddr(addr, Buf, BARNUM_LENGTH); 
1752   1      
1753   1              l = CStrlen(Str);
1754   1      
1755   1              WriteStringToAddr(addr, Str, l); 
1756   1      
1757   1      }
1758          /*
1759          #ifdef PAL_TV
1760          void DrawFraction( CODE_P struct NumType *nptr, DWORD val, BYTE fp )
1761          {
1762                  BYTE mstr[6], len;
1763          
1764                  ltoa_K( val, mstr, fp );
1765                  len = strlen(mstr);
1766                  CopyStrToOSDWindow(cur_osdwin, 0, 0, len, nptr->NumColor, mstr);
1767                  ClearOSDLine(cur_osdwin, len, 0, nptr->width-len, nptr->NumColor);
1768          }
1769          #endif
1770          
1771          BYTE OnChangingValue(void)
1772          {
1773                  return ( (val_osdwin==0xff  ) ? 0 : 1 );        //OSDItemValue==0xffff: password error
1774          }
1775          // Not used yet *******************************************
1776          BYTE OnChangingTime(void)
1777          {
1778                  if ( val_osdwin==0xff )                                         return 0 ;
1779                  if ( MenuChild[cursor_item].Type==TIME )        return 1;
1780                  else                                                                            return 0;
1781          
1782          }
1783          */
1784          
1785          void DrawMenulist(BYTE NOTViewflag)
1786          {
1787   1              BYTE  i,j,k, x=0, y=0;
1788   1              CODE_P struct DefineMenu *DMp;
1789   1              CODE_P BYTE *Desc;
1790   1              BYTE  Max_y;
1791   1              WORD addr;
1792   1      
1793   1      
1794   1              // Draw Title line
1795   1              if( MenuFormat->TitleColor!=NIL ) {
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 232 

1796   2      
1797   2                      #ifdef DEBUG_OSD
                              dPrintf("\r\nTitle color:0x%x", (WORD)MenuFormat->TitleColor);
                              #endif
1800   2       
1801   2                      DMp = &MenuTitle[title_item];
1802   2                      Desc = DMp->Desc[OSDLang];
1803   2                      j=strlen(Desc);
1804   2      
1805   2                      for( i=0,k=0; i<j; i++ )
1806   2                              if( *(Desc+i) == ROMFONT || *(Desc+i) == RAMFONT ) k++;
1807   2      
1808   2                      //ClearDataCnt(OSDMENU_SUBADDR, MenuFormat->width);     // Clear the counter of OSD RAM Data from addr with 
             -space(' ').
1809   2                      DrawAttrCnt(OSDMENU_SUBADDR, MenuFormat->TitleColor, MenuFormat->width );        
1810   2                      WriteStringToAddr(OSDMENU_SUBADDR, Desc, j);
1811   2      
1812   2                      if( (j-k ) < TITLE_MAX_DESC ) 
1813   2                              ClearDataCnt(OSDMENU_SUBADDR+j-k, TITLE_MAX_DESC-j+k);
1814   2      
1815   2                      y++;
1816   2              }
1817   1              
1818   1              if( MenuChild ) i = 0;
1819   1              else                    i = NIL;
1820   1      
1821   1              // Draw 
1822   1               Max_y = (cur_osdwin == OSDMENU_TOPWIN ? TOTAL_TOP_HEIGHT: MENU_HEIGHT+1);
1823   1               addr = (cur_osdwin == OSDMENU_TOPWIN ? OSDMENU_MAINADDR: OSDMENU_SUBADDR);
1824   1               addr += y*MenuFormat->width;
1825   1      
1826   1               if( NOTViewflag==0 ) {
1827   2                       I2CAutoIncFlagOn = 1;  // speedy submenu drawing 
1828   2                       WriteDecoder(TW88_ENABLERAM, 0x04); // OSD RAM Auto Access Enable
1829   2               }
1830   1      
1831   1               for(  ; y < Max_y; y++)        {
1832   2      
1833   2                      if(i != NIL) {
1834   3                              DisplayOSDMenuOneItem( cur_osdwin, &MenuChild[i], x, y, NOTViewflag);
1835   3                              i = GetLowerMenuItem( MenuChild, i );
1836   3                      }
1837   2                      else {
1838   3                      ClearDataCnt(addr, MenuFormat->width);  // Clear the counter of OSD RAM Data from addr with space(' ').
1839   3                      }
1840   2                      addr += MenuFormat->width;
1841   2      
1842   2               }
1843   1      
1844   1               if( NOTViewflag==0 ) {
1845   2                       I2CAutoIncFlagOn = 0;  // Recover  
1846   2                       WriteDecoder(TW88_ENABLERAM, 0x00); // OSD RAM Auto Access Enable
1847   2               }
1848   1      
1849   1      }
1850          //
1851          // Here, Main Menu will display Only Icon at leftside.
1852          //
1853          #define ALLDATA  175 //25*7  MENU_WIDTH*MENU_HEIGT
1854          void DisplayOSDMenu(void)
1855          {
1856   1              //CODE_P BYTE *Str;
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 233 

1857   1              #ifdef DEBUG_OSD
                      dPrintf("\r\n++(DisplayOSDMenu)");
                      #endif
1860   1      
1861   1      
1862   1              // Clear all MENU Window Ram data
1863   1              DrawAttrCnt(OSDMENU_MAINADDR, DEFAULT_COLOR, 5*2 );      // All Line Attr clear by default color.
1864   1              DrawAttrCnt(OSDMENU_SUBADDR, TITLE_COLOR, TITLE_MAX_DESC );      // All Line Attr clear by default color.
1865   1              if( MenuChild[ cursor_item ].Id == TVINSTALL && GetInputSelection()!= TV )
1866   1                      DrawAttrCnt(OSDMENU_SUBADDR+TITLE_MAX_DESC, CH_COLOR_MAGENTA|BACK_COLOR, MENU_HEIGHT*MENU_WIDTH );      
1867   1              else
1868   1              {
1869   2                      if( (MenuChild[ cursor_item ].Id == PC_COLOR_MODE && GetPCColorTempModeEE() != 3 )  // User
1870   2                      ||( MenuChild[ cursor_item ].Id == VIDEOPICTURE && GetVideoModeEE() != 3 ) ) // User
1871   2                      {
1872   3                              DrawAttrCnt(OSDMENU_SUBADDR+MENU_WIDTH, DEFAULT_COLOR, MENU_WIDTH );    
1873   3                              DrawAttrCnt(OSDMENU_SUBADDR+MENU_WIDTH*2, BACK_COLOR, (MENU_HEIGHT-1)*MENU_WIDTH );     
1874   3                      }
1875   2                      else
1876   2                      DrawAttrCnt(OSDMENU_SUBADDR+TITLE_MAX_DESC, DEFAULT_COLOR, MENU_HEIGHT*MENU_WIDTH );    
1877   2      
1878   2              }
1879   1      
1880   1              DrawAttrCnt(OSDMENU_SUBADDR+TITLE_MAX_DESC*8, COMMENT_COLOR, TITLE_MAX_DESC );   // All Line Attr clear by
             - default color.
1881   1      
1882   1              DrawMenulist(1);
1883   1      
1884   1              // Draw Child
1885   1              if( OSDMenuLevel == 1 ) // 
1886   1              {
1887   2                      pushMenu();     // Store ManuTile, tile_item.
1888   2                      MenuTitle = MenuChild;
1889   2                      title_item = cursor_item;
1890   2                      
1891   2                      MenuFormat = ( CODE_P struct MenuType *) MenuTitle[title_item].TypeData;
1892   2                      MenuChild = MenuTitle[title_item].Child;
1893   2                      cur_osdwin--; 
1894   2      
1895   2                      DrawMenulist(0);        // draw total Submemu.
1896   2                      
1897   2                      popMenu(); // Restore ManuTile, tile_item.
1898   2                      MenuFormat = ( CODE_P struct MenuType *) MenuTitle[title_item].TypeData;
1899   2                      MenuChild = MenuTitle[title_item].Child;
1900   2                      cur_osdwin++;
1901   2              }
1902   1      #if 0                   //william-AWT-ML082Q-v1.2-20100315
                      Str = Str_Comments[OSDLang];
                      i=strlen(Str);
                      WriteStringToAddr(OSDMENU_SUBADDR+TITLE_MAX_DESC*8, Str, i);
              #endif
1907   1              DisplayCursor();
1908   1      }
1909          
1910          void OSDHighMenu_sub(void)
1911          {
1912   1              BYTE temp_cursor;
1913   1      
1914   1              #ifdef DEBUG_OSD
                      dPuts("\r\n(OSDHighMenu_sub)");
                      #endif
1917   1              temp_cursor = cursor_item ;
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 234 

1918   1              MenuChild = MenuTitle;
1919   1              cursor_item = title_item;
1920   1      
1921   1              if( !popMenu() ) {
1922   2                      CloseOSDMenu();
1923   2      
1924   2                      MenuTitle = MenuChild;  //  Restore the Menu status.
1925   2                      title_item = cursor_item;
1926   2                      MenuChild = MenuTitle[title_item].Child;
1927   2                      cursor_item = temp_cursor;
1928   2              
1929   2                      //DoAction(EXITMENU);
1930   2                      #if 0           //william-981029
                              if( DisplayInputHold ) DisplayInput();
                              else if( IsAudioMuteOn() ) DisplayMuteInfo();
                              return;
                              #endif
1935   2              }
1936   1      
1937   1              #ifdef DEBUG_OSD
                      dPrintf("\r\n++(OSDHighMenu_sub) OSDMenuLevel:%d", (WORD)OSDMenuLevel );
                      #endif
1940   1              
1941   1              MenuFormat = ( CODE_P struct MenuType *) MenuTitle[title_item].TypeData;
1942   1      
1943   1              OSDMenuLevel--; // Up Menu tree
1944   1      
1945   1              if(OSDMenuLevel == 1){  // Top Menu Level
1946   2                      cur_osdwin = OSDMENU_TOPWIN;//Window #4
1947   2                      DisplayOSDMenu();
1948   2              }
1949   1              else
1950   1              {
1951   2                      DrawMenulist(0); // Redraw List and contents.
1952   2                      DisplayCursor();
1953   2              }
1954   1              
1955   1              // 3D Effect Cursor Top
1956   1              if(OSDMenuLevel == 1) {
1957   2                      WriteDecoder(TW88_WINNUM, OSDCURSORWINDOW-1);
1958   2                      WriteDecoder(TW88_WINATTR, OSD_Window_Attr(WINDOW_3D_TOP,BG_COLOR_BLACK|EXTENDED_COLOR,0,WINDOW_3D_ENABL
             -E,WINDOW_ENABLE));    
1959   2              }
1960   1      
1961   1              return;
1962   1      }
1963          
1964          
1965          BYTE DoAction(BYTE id)
1966          {
1967   1              BYTE ret = 1;
1968   1      
1969   1              #ifdef DEBUG_OSD
                      dPrintf("\r\n++(DoAction) id:0x%x", (WORD)id );
                      #endif
1972   1              switch( id ) {
1973   2      
1974   2              case CHANGE_TO_COMPOSITE:
1975   2              case CHANGE_TO_SVIDEO:
1976   2              case CHANGE_TO_COMPONENT:
1977   2      
1978   2              #ifdef SUPPORT_PC
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 235 

1979   2              case CHANGE_TO_PC:
1980   2              case CHANGE_TO_DIGITALVGA:
1981   2              #endif
1982   2      
1983   2              #ifdef SUPPORT_DTV
                      case CHANGE_TO_DTV:
                      #endif
1986   2      
1987   2                                                                      ChangeInput( id & 0x0f );                       
1988   2                                                                      break;
1989   2                                                              
1990   2              #ifdef SUPPORT_PC
1991   2              case AUTOADJUST:                        
1992   2                                                                      AutoAdjust();
1993   2                                                                      /*ClearOSDInfo();
1994   2                                                                      DisplayAutoAdjust();
1995   2                                                                      ret = DetectAndSetForVGAInput(0);       
1996   2                                                                      ClearAutoAdjust();
1997   2                                                                      LCDPowerON(0);  //HHY 1.63*/
1998   2                                                                      break;
1999   2              /*case AUTOADJUST2:                     ret = DetectAndSetForVGAInput(2);
2000   2                                                                      LCDPowerON(0);  //HHY 1.63
2001   2                                                                      SetOSDLastKeyInTime();
2002   2                                                                      ClearCursor();
2003   2                                                                      cursor_item = 0;
2004   2                                                                      DisplayCursor();                
2005   2                                                                      break;*/
2006   2              case RESET_PCVALUE:                     ClearOSDInfo();
2007   2                                                                      ResetPanelAttributeValue();
2008   2                                                                      //ResetPCValue();               william-v1.1-20100204
2009   2                                                                      ResetOSDValue();
2010   2                                                                      //ResetAudioValue();
2011   2                                                                      SetNowMode();
2012   2                                                                      Hs_DvrTxCmdPaser(SetDVRDefault);
2013   2                                                                      DisplayInput();
2014   2                                                                      break;
2015   2      
2016   2              case PCCOLORADJUST:                     
2017   2                                                                      AutoColorAdjust();
2018   2                                                                      break;
2019   2              #endif
2020   2              
2021   2              
2022   2              case RESET_VIDEOVALUE:          ClearOSDInfo();
2023   2                                                                      ResetPanelAttributeValue();
2024   2                                                                      ResetVideoValue();
2025   2                                                                      ResetOSDValue();
2026   2                                                                      //ResetAudioValue();
2027   2                                                                      SetNowMode();
2028   2                                                                      Hs_DvrTxCmdPaser(SetDVRDefault);
2029   2                                                                      DisplayInput();
2030   2                                                                      break;
2031   2      #ifdef E_Wintek
                      case RESET_USERVALUE:           ClearOSDInfo();
                                                                              ResetPanelAttributeValue();
                                                                              ResetVideoValue();
                                                                              ResetUESROSDValue();
                                                                              SetNowMode();
                                                                              DisplayInput();
                                                                              break;
              #endif
2040   2      //----
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 236 

2041   2              case TOHIGHMENU:                        OSDHighMenu_sub();                                              
2042   2                                                                      break;
2043   2      
2044   2              case DVRParamApply:                     if(DVR_DataChange==1)
2045   2                                                                      {
2046   3                                                                              Hs_DvrTxCmdPaser(SetDVRParam);
2047   3                                                                              DVR_DataChange=0;
2048   3                                                                      }       
2049   2                                                                      OSDHighMenu_sub();      
2050   2                                                                      break;                                                  
2051   2      
2052   2              case DATETIMEApply:                     if(DVR_DataChange==1)
2053   2                                                                      {
2054   3                                                                              Hs_DvrTxCmdPaser(SetDATETIME);
2055   3                                                                              DVR_DataChange=0;
2056   3                                                                      }
2057   2                                                                      OSDHighMenu_sub();                                                              
2058   2                                                                      break;          
2059   2      
2060   2              case DISP_INFO:                         
2061   2                                                                      DisplayInfo_OSD();      
2062   2                                                                      displayOnValueWindow = 1;
2063   2                                                                      break;
2064   2              case EXITMENU:                          CloseOSDMenu(); 
2065   2                                                                      DisplayInput();
2066   2                                                                      PW_FirstNumber=0;
2067   2                                                                      PW_SecondNumber=0;
2068   2                                                                      PW_ThridNumber=0;
2069   2                                                                      PW_FourthNumber=0;
2070   2                                                                      #if 0   //william-981029
                                                                              if( DisplayInputHold ) DisplayInput();
                                                                              else if( IsAudioMuteOn() ) DisplayMuteInfo();
                                                                              #endif
2074   2                                                                      break;
2075   2          //==========================>>>>HS andy AWT 9801001
2076   2      
2077   2       //#ifdef SUPPORT_SDCARD
2078   2              case ManualRecordStart:
2079   2                                                              if(DVR_Ready==0)
2080   2                                                                      {
2081   3                                                                      DisplayDVRnotReady();
2082   3                                                                      Wait_ms(3000);
2083   3                                                                      ClearGAUGEINFO();
2084   3                                                                      DisplayInput();
2085   3                                                                      }
2086   2                                                              else
2087   2                                                                      {
2088   3                                                                      //Hs_DvrTxCmdPaser(GetDATETIME);
2089   3                                                                      Hs_DvrTxCmdPaser(MANUALRECSTART);
2090   3                                                                      CloseOSDMenu(); 
2091   3                                                                      DisplayInput();
2092   3                                                                      }
2093   2                                                                      break;
2094   2              case ManualRecordStop:
2095   2                                                              if(DVR_Ready==0)
2096   2                                                                      {
2097   3                                                                      DisplayDVRnotReady();
2098   3                                                                      Wait_ms(3000);
2099   3                                                                      ClearGAUGEINFO();
2100   3                                                                      DisplayInput();
2101   3                                                                      }
2102   2                                                              else
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 237 

2103   2                                                                      {
2104   3                                                                      Hs_DvrTxCmdPaser(MANUALRECSTOP);
2105   3                                                                      CloseOSDMenu(); 
2106   3                                                                      DisplayInput();
2107   3                                                                      }
2108   2                                                                      break;
2109   2              case Snapshot:
2110   2                                                              if(DVR_Ready==0)
2111   2                                                                      {
2112   3                                                                      DisplayDVRnotReady();
2113   3                                                                      Wait_ms(3000);
2114   3                                                                      ClearGAUGEINFO();
2115   3                                                                      DisplayInput();
2116   3                                                                      }
2117   2                                                              else
2118   2                                                                      {
2119   3                                                                      Hs_DvrTxCmdPaser(SNAPSHOT);
2120   3                                                                      CloseOSDMenu(); 
2121   3                                                                      DisplayInput();
2122   3                                                                      }
2123   2                                                                      break;                                                  
2124   2      
2125   2              case FormatSD:                          
2126   2                                                      if(DVR_SDCardAvailable!=0xff)
2127   2                                                              {
2128   3                                                                      #if 0
                                                                              Printf("\r\nPW_FirstNumber=%02x",(WORD)PW_FirstNumber);
                                                                              Printf("\r\nPW_SecondNumber=%02x",(WORD)PW_SecondNumber);
                                                                              Printf("\r\nPW_ThridNumber=%02x",(WORD)PW_ThridNumber);
                                                                              Printf("\r\nPW_FourthNumber=%02x",(WORD)PW_FourthNumber);
              
                                                                              Printf("\r\nReadEEP(EEP_FirstNumber)=%02x",(WORD)ReadEEP(EEP_FirstNumber));
                                                                              Printf("\r\nReadEEP(EEP_FirstNumber)=%02x",(WORD)ReadEEP(EEP_SecondNumber));
                                                                              Printf("\r\nReadEEP(EEP_ThridNumber)=%02x",(WORD)ReadEEP(EEP_ThridNumber));
                                                                              Printf("\r\nReadEEP(EEP_FourthNumber)=%02x",(WORD)ReadEEP(EEP_FourthNumber));
              
                                                                              
                                                                              if((ReadEEP(EEP_FirstNumber)==PW_FirstNumber
                                                                                      &&ReadEEP(EEP_SecondNumber)==PW_SecondNumber
                                                                                      &&ReadEEP(EEP_ThridNumber)==PW_ThridNumber
                                                                                      &&ReadEEP(EEP_FourthNumber)==PW_FourthNumber))
                                                                                      {
                                                                                      Printf("\r\n PASSWORD OK",0);
                                                                                      }
                                                                              else            
                                                                                      break;
                                                                              #endif
2150   3                                                                      
2151   3                                                                      Hs_DvrTxCmdPaser(SetFormatSD);
2152   3                                                                      CloseOSDMenu(); 
2153   3                                                                      
2154   3      
2155   3                                                                      DisplayFormatOSD();
2156   3                                                                      
2157   3                                                                      while(FormatWait<=120)
2158   3                                                                              {
2159   4                                                                              if(RS2_in!=0)
2160   4                                                                                      DvrReceivePaser();      
2161   4                                                                              RS2_in=0;
2162   4                                                                              
2163   4                                                                              if(FormatStatus==1)     
2164   4                                                                                      {
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 238 

2165   5                                                                                      DisplayFormatOkOSD();
2166   5                                                                                      Wait_ms(3000);
2167   5                                                                                      ClearGAUGEINFO();
2168   5                                                                                      break;
2169   5                                                                                      }                       
2170   4                                                                              }
2171   3                                                                      
2172   3                                                                      if(FormatStatus==0)
2173   3                                                                              {
2174   4                                                                              DisplayFormatFailOSD();
2175   4                                                                              Wait_ms(3000);
2176   4                                                                              ClearGAUGEINFO();
2177   4                                                                              }
2178   3                                                                      FormatStart=0;
2179   3                                                                      FormatWait=0;
2180   3                                                                      FormatStatus=0;
2181   3                                                                      DisplayInput();
2182   3                                                              }       
2183   2                                                                      break;  
2184   2      
2185   2              case FirmwareUpdate:            
2186   2                                                      if(DVR_SDCardAvailable!=0xff)
2187   2                                                              {
2188   3                                                                      Hs_DvrTxCmdPaser(FW_Update_Start);
2189   3                                                                      CloseOSDMenu(); 
2190   3                                                                      
2191   3              
2192   3                                                                      DisplayFWUpDate();
2193   3                                                                      
2194   3                                                                      while(FormatWait<=120)
2195   3                                                                              {
2196   4                                                                              if(RS2_in!=0)
2197   4                                                                                      DvrReceivePaser();      
2198   4                                                                              RS2_in=0;
2199   4                                                                              
2200   4                                                                              if(FormatStatus==1) 
2201   4                                                                                      {
2202   5                                                                                      DisplayFWUpDateOK();
2203   5                                                                                      Wait_ms(3000);
2204   5                                                                                      ClearGAUGEINFO();
2205   5                                                                                      break;
2206   5                                                                                      }                       
2207   4                                                                              }
2208   3                                                                      
2209   3                                                                      if(FormatStatus==0)
2210   3                                                                              {
2211   4                                                                              DisplayFWUpDateFail();
2212   4                                                                              Wait_ms(3000);
2213   4                                                                              ClearGAUGEINFO();
2214   4                                                                              }
2215   3                                                                      FormatStart=0;
2216   3                                                                      FormatWait=0;
2217   3                                                                      FormatStatus=0;
2218   3                                                                      DisplayInput();
2219   3                                                              }       
2220   2                                                                      break;  
2221   2      
2222   2              case ChangePassword:            
2223   2                                                                      #if 0
                                                                              Printf("\r\nPW_FirstNumber=%02x",(WORD)PW_FirstNumber);
                                                                              Printf("\r\nPW_SecondNumber=%02x",(WORD)PW_SecondNumber);
                                                                              Printf("\r\nPW_ThridNumber=%02x",(WORD)PW_ThridNumber);
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 239 

                                                                              Printf("\r\nPW_FourthNumber=%02x",(WORD)PW_FourthNumber);
                                                                              Printf("\r\nReadEEP(EEP_FirstNumber)=%02x",(WORD)ReadEEP(EEP_FirstNumber));
                                                                              Printf("\r\nReadEEP(EEP_FirstNumber)=%02x",(WORD)ReadEEP(EEP_SecondNumber));
                                                                              Printf("\r\nReadEEP(EEP_ThridNumber)=%02x",(WORD)ReadEEP(EEP_ThridNumber));
                                                                              Printf("\r\nReadEEP(EEP_FourthNumber)=%02x",(WORD)ReadEEP(EEP_FourthNumber));
              
              
              
                                                                              if(  PW_FirstNumber!= 0) break;
                                                                              if(  PW_SecondNumber!= 6) break;
                                                                              if(  PW_ThridNumber!= 3)break;
                                                                              if(  PW_FourthNumber!= 0)break;
              
                                                                              if((ReadEEP(EEP_FirstNumber)==PW_FirstNumber
                                                                              &&ReadEEP(EEP_SecondNumber)==PW_SecondNumber
                                                                              &&ReadEEP(EEP_ThridNumber)==PW_ThridNumber
                                                                              &&ReadEEP(EEP_FourthNumber)==PW_FourthNumber)
                                                                              ||(PW_FirstNumber==0
                                                                              &&PW_SecondNumber==6
                                                                              &&PW_ThridNumber==3
                                                                              &&PW_FourthNumber==0))
                                                                              {
                                                                              Printf("\r\n PASSWORD OK",0);
                                                                              }
                                                                              else    
                                                                                      break;
                                                                              #endif
2254   2      
2255   2                                                                      WriteEEP(EEP_FirstNumber,PW_FirstNumber);
2256   2                                                                      WriteEEP(EEP_SecondNumber,PW_SecondNumber);
2257   2                                                                      WriteEEP(EEP_ThridNumber,PW_ThridNumber);
2258   2                                                                      WriteEEP(EEP_FourthNumber,PW_FourthNumber);
2259   2                                                                      PW_FirstNumber=0;
2260   2                                                                      PW_SecondNumber=0;
2261   2                                                                      PW_ThridNumber=0;
2262   2                                                                      PW_FourthNumber=0;
2263   2                                                                      
2264   2                                                                      OSDHighMenu_sub();      
2265   2      
2266   2                                                                      break;
2267   2                                                                      
2268   2                      
2269   2      
2270   2              case CameraOSD:
2271   2                                                                      CloseOSDMenu();
2272   2                                                                      SpeedDomeMode=1;
2273   2                                                                      RS232Select=1;
2274   2                                                                      Wait_ms(200);
2275   2                                                                      CAM_TxCommand_toRS485(CAM_MENU_ENTER);
2276   2                                                                      DisplayInput();
2277   2      
2278   2                                                                      break;
2279   2      //#endif                //#ifdef SUPPORT_SDCARD                                                         
2280   2              }
2281   1              return ret;
2282   1      }
2283          
2284          
2285          BYTE GetNextCursorMenuItem( CODE_P struct DefineMenu *DMp, BYTE itemno, BYTE flag)
2286          {
2287   1              BYTE new_cursor;
2288   1      
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 240 

2289   1              switch( flag ) {
2290   2              case UP:        new_cursor = GetUpperMenuItem( /*DMp,*/ itemno );               break;
2291   2              case DN:        new_cursor = GetLowerMenuItem( DMp, itemno );           break;
2292   2              }
2293   1              return new_cursor;
2294   1      }
2295          
2296          //============== Public functions =================================================
2297          //CODE BYTE TryAgainMsg[]={ "Try again."};
2298          
2299          BYTE SaveValue1(void)
2300          {
2301   1      //      BYTE          /*ret=0,*/ addroff;
2302   1      
2303   1              switch( MenuChild[cursor_item].Type )   {
2304   2              
2305   2              case NUMBER:
2306   2                      switch ( MenuChild[cursor_item].Id ) {
2307   3      
2308   3                              //case SLEEP_TIMER:             SetSleepTimer( OSDItemValue );  
2309   3                              //                                              return 1;       //break;
2310   3                              }
2311   2                              //ret = 1;
2312   2                              break;
2313   2              
2314   2              default:        break;
2315   2              }
2316   1      
2317   1              return 0;       
2318   1      }
2319          
2320          void ClearValueWin(void)
2321          {
2322   1              SaveValue1();
2323   1              //ShowOSDWindow(OSDBARWINDOW, FALSE);
2324   1              val_osdwin = 0xff;
2325   1              OnChangingValue = 0;
2326   1      }
2327          
2328          void OSDCursorMove(BYTE flag )
2329          {
2330   1              BYTE new_cursor, old_cursor;
2331   1              WORD dat;
2332   1      
2333   1              #ifdef DEBUG_OSD
                      dPrintf("\r\n++(OSDCursorMove)cursor_item:%d __", (WORD)cursor_item);
                      #endif
2336   1      
2337   1                      if(displayOnValueWindow == 1) 
2338   1                              return; 
2339   1                      if( MenuChild[ cursor_item ].Id == PC_COLOR_TEMP && 
2340   1                              GetPCColorTempModeEE() != 3 ) 
2341   1                              return; // User
2342   1                      if( MenuChild[ cursor_item ].Id == VIDEO_MODE && GetVideoModeEE() != 3 ) return; // User
2343   1      
2344   1                      new_cursor = GetNextCursorMenuItem( MenuChild, cursor_item, flag );     // Get item to move
2345   1                      
2346   1                      if( new_cursor ==NIL ) {                
2347   2                              BYTE i;
2348   2                              if( flag == UP )
2349   2                                      for(i=0; i<8; ){
2350   3                                              new_cursor=i;
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 241 

2351   3                                              if( (i=GetLowerMenuItem(MenuChild, i) ) == NIL) break;
2352   3                                              
2353   3                                      }
2354   2                                      //new_cursor = MenuFormat->height - 1;
2355   2                              else
2356   2                                      new_cursor = 0;
2357   2                      }
2358   1      
2359   1                      if( OnChangingValue )   {
2360   2                              ClearValueWin();
2361   2                      }
2362   1                      if( OSDMenuLevel != 1) 
2363   1                              ClearCursor();
2364   1      
2365   1      #if 0
                              Printf("\r\ntitle_item=%02x",(WORD)title_item);
                              Printf("\r\ncur_osdwin=%02x",(WORD)cur_osdwin);
                              Printf("\r\nOSDMenuLevel=%02x",(WORD)OSDMenuLevel);
                              Printf("\r\ncursor_item=%02x",(WORD)cursor_item);
                              Printf("\r\nnew_cursor=%02x",(WORD)new_cursor);
              #endif
2372   1                      if((ReadEEP(EEP_FirstNumber)==PW_FirstNumber
2373   1                      &&ReadEEP(EEP_SecondNumber)==PW_SecondNumber
2374   1                      &&ReadEEP(EEP_ThridNumber)==PW_ThridNumber
2375   1                      &&ReadEEP(EEP_FourthNumber)==PW_FourthNumber)
2376   1                      ||(PW_FirstNumber==0
2377   1                      &&PW_SecondNumber==6
2378   1                      &&PW_ThridNumber==3
2379   1                      &&PW_FourthNumber==0))
2380   1                              {
2381   2                              Printf("\r\n PASSWORD OK",0);
2382   2                              }
2383   1                      else
2384   1                              {
2385   2                              if( title_item==3 && cur_osdwin==2 && OSDMenuLevel==3 
2386   2                                && flag==UP && cursor_item==6 && new_cursor==5 )       
2387   2                                 {
2388   3                                 cursor_item=6;
2389   3                                 new_cursor=3;                                                                //william-v1.43-970331
2390   3                                      }
2391   2                              
2392   2                              if( title_item==3 && cur_osdwin==2 && OSDMenuLevel==3 
2393   2                                && flag==DN&& cursor_item==3 && new_cursor==4 ) //william-v1.43-970331
2394   2                                 {
2395   3                                 cursor_item=3;
2396   3                                 new_cursor=6;
2397   3                                      }
2398   2                              }
2399   1      
2400   1              #ifdef SUPPORT_SDCARD   
2401   1                      //DVR NOT READY         //WILLIAM-v1.1-990921           
2402   1                              if(DVR_Ready==0)
2403   1                              {
2404   2                                      if(/* title_item==4 && */OSDMenuLevel==1 
2405   2                                        && flag==UP && cursor_item==4 )        
2406   2                                         {
2407   3                                         cursor_item=4;
2408   3                                         new_cursor=2;                                                                //william-v1.43-970331
2409   3                                              }
2410   2                                      
2411   2                                      if( /*title_item==2 && */OSDMenuLevel==1 
2412   2                                        && flag==DN&& cursor_item==2  ) //william-v1.43-970331
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 242 

2413   2                                         {
2414   3                                         cursor_item=2;
2415   3                                         new_cursor=4;
2416   3                                              }
2417   2                              }
2418   1              #endif  //      #ifdef SUPPORT_SDCARD           
2419   1                      old_cursor = cursor_item;
2420   1                      cursor_item = new_cursor;
2421   1                      if(OSDMenuLevel == 1)
2422   1                      { 
2423   2                              WaitEndofDisplayArea(); 
2424   2                              dat = GetOSDWindowY(OSDCURSORWINDOW);
2425   2                              dat += (cursor_item-old_cursor)*ICON_HIGH;
2426   2                              SetOSDWindowY_TW88(OSDCURSORWINDOW,dat);
2427   2                              WriteDecoder(TW88_WINNUM, OSDCURSORWINDOW-1);
2428   2                              WriteDecoder(TW88_WINSADDRLO, cursor_item*2);   
2429   2      
2430   2                              DisplayOSDMenu();
2431   2      
2432   2                      }
2433   1                      else    {
2434   2              
2435   2                      if( MenuChild[ old_cursor ].Id == OSDLANG)
2436   2                                      DrawMenulist(0); //             Recover Attr. and menu Data list
2437   2                              DisplayCursor();
2438   2                      }
2439   1      }
2440          
2441          void OSDValueUpDn(BYTE flag)
2442          {
2443   1              CODE_P BYTE *ptr;
2444   1              WORD val;
2445   1              WORD addr;
2446   1      //      BYTE len1;
2447   1      
2448   1              addr = OSDMENU_SUBADDR;
2449   1              addr = addr + MAX_DESC + (cursor_item+1)*MenuFormat->width;
2450   1      
2451   1              switch ( MenuChild[cursor_item].Type ) {
2452   2              
2453   2              case BAR:       
2454   2                                      val = SetItemValue(MenuChild[cursor_item].Id, flag );
2455   2                                      DisplayViewBar( addr, val);
2456   2                                      break;
2457   2              
2458   2              case NUMBER:
2459   2                                      ptr = MenuChild[cursor_item].TypeData;
2460   2                                      switch ( MenuChild[cursor_item].Id ) {
2461   3      
2462   3                                      #ifdef PAL_TV   //-----------------------------------------------
                                              case MANUAL_TUNE_CHANNEL:
                                                              ManualTune(flag);
                                                              break;
                                              #endif                                  //-----------------------------------------------
2467   3                                      default:
2468   3                                                      val = SetItemValue(MenuChild[cursor_item].Id, flag);
2469   3                                                      DrawNum( addr, (CODE_P struct NumType *)ptr, val );
2470   3                                                      break;
2471   3                                      }
2472   2                                      
2473   2                                      break;
2474   2              /*case TIME:
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 243 

2475   2                                      //tptr = (CODE_P struct TimeType *)MenuChild[cursor_item].TypeData;
2476   2                                      //val = SetItemValue( (val_index==HOUR ? MenuChild[cursor_item].Id + 1 : MenuChild[cursor_item].Id ) ,
             - flag);
2477   2                                      //if( val_index == HOUR )
2478   2                                      //      DrawTime( val, tptr->CursorColor, tptr->TimeColor);
2479   2                                      //else
2480   2                                      //      DrawTime( val, tptr->TimeColor,   tptr->CursorColor);
2481   2      
2482   2                                      
2483   2                                      ptr = MenuChild[cursor_item].TypeData;
2484   2                                      val = SetItemValue( (val_index==HOUR ? MenuChild[cursor_item].Id + 1 : MenuChild[cursor_item].Id ) , f
             -lag);
2485   2                                      if( val_index == HOUR )
2486   2                                              DrawTime( val, 
2487   2                                              ((CODE_P struct TimeType *)ptr)->CursorColor, 
2488   2                                              ((CODE_P struct TimeType *)ptr)->TimeColor);
2489   2                                      else
2490   2                                              DrawTime( val, 
2491   2                                              ((CODE_P struct TimeType *)ptr)->TimeColor,   
2492   2                                              ((CODE_P struct TimeType *)ptr)->CursorColor);
2493   2                                      break;
2494   2              */
2495   2              case ENUM_STRING:
2496   2                                      ptr = MenuChild[cursor_item].TypeData;
2497   2                                      val = SetItemValue( MenuChild[cursor_item].Id , flag);
2498   2                                      DrawStringByLang( addr, (CODE_P struct EnumType *)ptr, val );
2499   2                                      break;
2500   2              
2501   2              default:        break;
2502   2              }
2503   1      }
2504          
2505          BYTE CloseOSDMenu(void)
2506          {
2507   1              BYTE i;
2508   1              extern BYTE PcMode;
2509   1      
2510   1              ShowOSDWindowAll(0);  // TW8806B
2511   1      
2512   1              //ClearOSD();
2513   1              WaitEndofDisplayArea(); 
2514   1              for (i=OSDCURSORWINDOW; i<=OSDMENU_TITLEWIN ;i++ )
2515   1              {
2516   2                      SetOSDWindowNum(i);
2517   2                      WriteDecoder(TW88_WINATTR, 0x00);
2518   2              }
2519   1      
2520   1              ClearDisplayedOSD (MENU);
2521   1              #ifdef E_Wintek
                      FactoryMenu=0;
                      #endif
2524   1      /*
2525   1      #ifdef SUPPORT_PC
2526   1              // If PC mode is unknown, display outof range   // HHY 7/25/05
2527   1              if( GetInputSelection()==PC || GetInputSelection()==DTV ) {
2528   1                      if( PcMode==EE_PC_UNKNOWN ) {
2529   1                              //DisplayPCInfo(OutOfRangeStr[GetOSDLang()]);
2530   1                              ShowOSDWindow(PCINFO_OSDWIN,TRUE);
2531   1                              ShowOSDWindowAll(1);
2532   1                              SetDisplayedOSD(PCINFO);
2533   1                      }
2534   1              }
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 244 

2535   1      #endif //
2536   1      */
2537   1              return 1;
2538   1      }
2539          #ifdef SUPPORT_OSDPOSITIONMOVE
2540          void InitOSDMenuXY(void)
2541          {
2542   1              int val, addx, addy;
2543   1              BYTE winno;
2544   1      
2545   1              addx = OSDMenuX - OSDMenuXRange.Default;
2546   1              addy = OSDMenuY - OSDMenuYRange.Default;
2547   1      
2548   1              #ifdef DEBUG_OSD
                      dPrintf("\r\nOSDMenuX:%d, OSDMenuY:%d", (WORD)OSDMenuX, (WORD)OSDMenuY);
                      dPrintf("\r\nOSDMenuYRange.Min=%d", (WORD)OSDMenuXRange.Min);
                      dPrintf("\r\nOSDMenuYRange.Max=%d", (WORD)OSDMenuXRange.Max);
                      dPrintf("\r\nOSDMenuYRange.Default=%d", (WORD)OSDMenuXRange.Default);
                      dPrintf("\r\nOSDMenuX - OSDMenuXRange.Default=%d", (WORD)addx);
                      #endif
2555   1      
2556   1              for( winno=OSDCURSORWINDOW; winno<=OSDMENU_TITLEWIN; winno++) {
2557   2      
2558   2                      val = GetOSDWindowX( winno );
2559   2                      SetOSDWindowX(winno,val+addx);
2560   2      
2561   2                      val = GetOSDWindowY( winno );
2562   2                      SetOSDWindowY(winno,val+addy);
2563   2              }
2564   1      }
2565          #endif
2566          void OpenOSDMenu(void)
2567          {
2568   1              BYTE i;
2569   1      
2570   1              ClearOSDInfo();
2571   1              { // TW8806 
2572   2                      InitOSDMenu();          // reset OSD window and prepare menu
2573   2      #ifdef REFERENCE
                              Change_OSDColorLookup();
              #endif  
2576   2              }
2577   1      
2578   1              for(i=OSDCURSORWINDOW; i<=OSDMENU_TOPWIN; i++) {
2579   2                      ShowOSDWindow_TW88(i,TRUE);
2580   2              }
2581   1      
2582   1      
2583   1              ShowOSDWindow_TW88(DVRStatus_OSDWIN,FALSE);     
2584   1              ShowOSDWindowAll(1);
2585   1              SetDisplayedOSD( MENU );
2586   1      
2587   1      }
2588          
2589          void InitOSDMenu()
2590          {
2591   1              extern CODE BYTE OSDPOSITIONMODE_TABLE[][2] ;
2592   1              BYTE i=0;
2593   1      
2594   1              //DownloadUDFont();                     //WILLIAM-981029
2595   1              OSDLang = GetOSDLangEE();
2596   1      
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 245 

2597   1              switch( GetInputSelection() ) {
2598   2      
2599   2              #ifdef SUPPORT_PC
2600   2              case PC:
2601   2      #ifdef E_Wintek
                              if(FactoryMenu==0)
                              MenuTitle = ChinesePCMenu;
                              else
                      #endif          
2606   2                      MenuTitle = PCMenu;                     
2607   2                      break;
2608   2              #endif
2609   2      
2610   2              //#ifdef SUPPORT_DTV
2611   2              //case DTV:     MenuTitle = DTVMenu;            break;
2612   2              //#endif 
2613   2      
2614   2      
2615   2              default:
2616   2              #ifdef E_Wintek
                              if(FactoryMenu==0)
                              MenuTitle = ChineseMenu;
                              else
                      #endif          
2621   2                      MenuTitle = DefaultMenu;        
2622   2                      break;
2623   2              }
2624   1      
2625   1              MenuSP = 0;                                                             // Clear stack of menu.
2626   1              title_item = 0;
2627   1              MenuFormat = ( CODE_P struct MenuType *) MenuTitle[title_item].TypeData;
2628   1      
2629   1              OSDMenuLevel = 1; // OSD menu tree level
2630   1              cur_osdwin = OSDMENU_TOPWIN;
2631   1      
2632   1              MenuChild = MenuTitle[title_item].Child;
2633   1              cursor_item = 0;
2634   1              
2635   1              val_osdwin = 0xff;
2636   1              val_index = 0;
2637   1              OnChangingValue = 0;
2638   1      
2639   1              //--- OSD Window Initialization
2640   1              #ifdef ADD_ANALOGPANEL
                      if(IsAnalogOn())
                              InitOSDWindow(Init_Osd_MainMenu_A);
                      else    
                      #endif
2645   1              InitOSDWindow(Init_Osd_MainMenu);  // Define Window Top(4), Sub(3), Bar(2), Cursor(1) 
2646   1      
2647   1      
2648   1              //--- Positioning 
2649   1              #ifdef SUPPORT_OSDPOSITIONMOVE
2650   1              i = GetOSDPositionModeEE();
2651   1      
2652   1              OSDMenuX = OSDPOSITIONMODE_TABLE[i][0];
2653   1              OSDMenuY = OSDPOSITIONMODE_TABLE[i][1];
2654   1      
2655   1              InitOSDMenuXY();         // Default + Saved OSD Position
2656   1              #endif
2657   1      
2658   1              //--- Display OSD Menu
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 246 

2659   1              DisplayOSDMenu(); 
2660   1      }
2661          
2662          
2663          void OSDHighMenu(void)
2664          {
2665   1              if( OnChangingValue )
2666   1              {
2667   2                      //OnChangingValue = 0;
2668   2                      ClearValueWin();
2669   2      //              DisplayCursor();
2670   2                      DrawMenulist(0); //             Recover Attr. and menu Data list
2671   2                      DisplayCursor();
2672   2      
2673   2                      return;
2674   2              }
2675   1      
2676   1              displayOnValueWindow = 0;
2677   1              DoAction(MenuChild[cursor_item].PostFnId); // When exiting from the previous menu, Use to need some of ac
             -tion.
2678   1      
2679   1              if( OSDMenuLevel != 1) ClearCursor();
2680   1              OSDHighMenu_sub();
2681   1              
2682   1      }
2683          
2684          
2685          void OSDSelect(void)
2686          {
2687   1              BYTE ret;
2688   1              WORD addr;
2689   1      
2690   1              if( cursor_item==NIL )                  return;
2691   1              if( MenuChild[ cursor_item ].Id == TVINSTALL && GetInputSelection()!= TV )return;
2692   1      
2693   1              if( MenuChild[ cursor_item ].Id == VIDEO_HUE && ReadVInputSTD()!= NTSC && ReadVInputSTD()!= NTSC4 )             re
             -turn;
2694   1              //if( MenuChild[ cursor_item ].Id == VIDEO_SHARPNESS && GetInputSelection()== SCART )           return;
2695   1      
2696   1              //do  {
2697   1                      ret = DoAction(MenuChild[cursor_item].PreFnId);
2698   1                      if(!ret) return;
2699   1      
2700   1                      switch ( MenuChild[ cursor_item ].Type ) {
2701   2                      case ACTION:
2702   2                                                      DoAction(MenuChild[cursor_item].Id); // Action.
2703   2                                                      return;
2704   2      
2705   2                      case ENUM_STRING:               
2706   2                      case BAR:
2707   2                                                      OnChangingValue = 1; // Value changable label on                                
2708   2                                                      DisplayCursor();        //Display Setect Item cursor
2709   2                                                      GetItemValue(MenuChild[cursor_item].Id);
2710   2                                                      return;
2711   2                                                      
2712   2                      case NUMBER:    
2713   2                                                      OnChangingValue = 1;
2714   2      
2715   2                                                      switch ( MenuChild[cursor_item].Id ) {
2716   3                                                      default:
2717   3                                                                      DisplayCursor();
2718   3      
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 247 

2719   3                                                      //              DrawNum( (CODE_P struct NumType *)ptr, GetItemValue(MenuChild[cursor_item].Id) );
2720   3                                                                      break;
2721   3                                                      }
2722   2                                                      return;
2723   2      
2724   2                      case OSDMENU:
2725   2                      case CHOICEMENU:
2726   2                                                      if(OSDMenuLevel == 1) {
2727   3                                                              addr = OSDMENU_MAINADDR + cursor_item*MenuFormat->width + 0;
2728   3                                                              //DrawAttrCnt(addr, CURSOR_COLOR, 2);   // TOP Menu Icon Selected by color
2729   3                                                              // 3D Effect Cursor Bottom
2730   3                                                              WriteDecoder(TW88_WINNUM, OSDCURSORWINDOW-1);
2731   3                                                              WriteDecoder(TW88_WINATTR, OSD_Window_Attr(WINDOW_3D_BOTTOM,BG_COLOR_BLACK|EXTENDED_COLOR,0,WINDOW_
             -3D_ENABLE,WINDOW_ENABLE));    
2732   3                                                      }
2733   2      
2734   2                                                      OSDMenuLevel++; // Down Menu tree.
2735   2      
2736   2                                                      pushMenu();     // Push MenuTitle, title_item in stack.
2737   2                                                      MenuTitle = MenuChild;
2738   2                                                      title_item = cursor_item;
2739   2      
2740   2                                                      MenuFormat = ( CODE_P struct MenuType *) MenuTitle[title_item].TypeData;                                
2741   2                                                      MenuChild = MenuTitle[title_item].Child;
2742   2                                                      cursor_item = Get_cursor_item( MenuTitle[title_item].Id );
2743   2      
2744   2                                                      if( cur_osdwin == OSDMENU_TOPWIN ) // Window #4
2745   2                                                              cur_osdwin = OSDMENUWINDOW; // Window #3
2746   2                                                      else
2747   2                                                              DisplayOSDMenu();
2748   2      
2749   2                                                      DisplayCursor();
2750   2                                                      break;
2751   2                      }
2752   1              //} while( cursor_item!=NIL && MenuChild[cursor_item].ActiveWithCursor==YES );
2753   1      
2754   1      }
2755          #if 0
              //-------------------------------------------
              //         ]wAuto Day & Night@
              //-------------------------------------------
              //0->ON ; 1->0FF
              void DaySelect(BYTE val)
              {     
                 if(val)      //Auto OFF
                   CDS_CTRL=0;
                 else         //Auto ON
                   CDS_CTRL=1;
              }
              #endif
2768          //-------------------------------------------
2769          //         ]wCAM Out@
2770          //-------------------------------------------
2771          //0->QUAL ; 1->CAMA ;2->CAMB ; 3->CAMC
2772          void CAMOutDSel(BYTE  val)
2773          {
2774   1          if(val==0)
2775   1            TW2835Cmd("\n\ryvmix 4\n\r"); 
2776   1          else if(val==1)
2777   1            TW2835Cmd("\n\ryvmix 0\n\r");
2778   1          else if(val==2)
2779   1            TW2835Cmd("\n\ryvmix 1\n\r");
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 248 

2780   1          else if(val==3)
2781   1            TW2835Cmd("\n\ryvmix 2\n\r");
2782   1          else if(val==4)
2783   1            TW2835Cmd("\n\ryvmix 3\n\r");
2784   1      }
2785          
2786          //-------------------------------------------
2787          //         ]wDVR AUDIO RECORD CH@
2788          //-------------------------------------------
2789          //0->A ; 2->B ;1->C ; 3->R
2790          void DVRAodioSel(BYTE  val)
2791          {
2792   1          if(val==0)
2793   1            TW2835Cmd("\n\raudio 0\n\r"); 
2794   1          else if(val==1)
2795   1            TW2835Cmd("\n\raudio 2\n\r");
2796   1          else if(val==2)
2797   1            TW2835Cmd("\n\raudio 1\n\r");
2798   1          else if(val==3)
2799   1            TW2835Cmd("\n\raudio 3\n\r");
2800   1      
2801   1      }
2802          
2803          
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 249 

ASSEMBLY LISTING OF GENERATED OBJECT CODE


             ; FUNCTION Com0449 (BEGIN)
0000         L?1098:
0000         L?1099:
0000 E2                MOVX    A,@R0
0001 FF                MOV     R7,A
0002         L?1100:
0002 7800        R     MOV     R0,#LOW val
0004 E4                CLR     A
0005 F2                MOVX    @R0,A
0006 08                INC     R0
0007 EF                MOV     A,R7
0008 F2                MOVX    @R0,A
0009 7800        R     MOV     R0,#LOW flag
000B E2                MOVX    A,@R0
000C 22                RET     
000D         L?1101:
000D         L?1102:
000D 08                INC     R0
000E         L?1103:
000E E2                MOVX    A,@R0
000F 2401              ADD     A,#01H
0011         L?1104:
0011 F2                MOVX    @R0,A
0012 18                DEC     R0
0013 E2                MOVX    A,@R0
0014 3400              ADDC    A,#00H
0016 F2                MOVX    @R0,A
0017 22                RET     
0018         L?1105:
0018         L?1106:
0018 08                INC     R0
0019 E2                MOVX    A,@R0
001A 24FF              ADD     A,#0FFH
001C F2                MOVX    @R0,A
001D 18                DEC     R0
001E E2                MOVX    A,@R0
001F 34FF              ADDC    A,#0FFH
0021 F2                MOVX    @R0,A
0022 22                RET     
0023         L?1107:
0023         L?1108:
0023 7800        R     MOV     R0,#LOW MenuChild
0025 E2                MOVX    A,@R0
0026 FE                MOV     R6,A
0027 08                INC     R0
0028 E2                MOVX    A,@R0
0029         L?1109:
0029 F582              MOV     DPL,A
002B         L?1110:
002B 8E83              MOV     DPH,R6
002D 7800        R     MOV     R0,#LOW cursor_item
002F         L?1111:
002F E2                MOVX    A,@R0
0030         L?1112:
0030 75F010            MOV     B,#010H
0033 020000      E     LJMP    ?C?OFFXADD
0036         L?1113:
0036 7E00              MOV     R6,#00H
0038 7BFE              MOV     R3,#0FEH
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 250 

003A         L?1114:
003A 7800        E     MOV     R0,#LOW ?_Mapping1?BYTE+05H
003C 120000      E     LCALL   ?C?PSTPDATA
003F 7A00        R     MOV     R2,#HIGH PanelContrastRange
0041 7900        R     MOV     R1,#LOW PanelContrastRange
0043         L?1115:
0043 0B                INC     R3
0044         L?1116:
0044 7800        E     MOV     R0,#LOW ?_Mapping1?BYTE+08H
0046 120000      E     LCALL   ?C?PSTPDATA
0049 7A00        R     MOV     R2,#HIGH UserRange
004B 7900        R     MOV     R1,#LOW UserRange
004D 22                RET     
004E         L?1117:
004E         L?1118:
004E D3                SETB    C
004F 7800        R     MOV     R0,#LOW val+01H
0051 E2                MOVX    A,@R0
0052 9401              SUBB    A,#01H
0054 18                DEC     R0
0055 E2                MOVX    A,@R0
0056 9400              SUBB    A,#00H
0058 22                RET     
0059         L?1119:
0059         L?1120:
0059 D3                SETB    C
005A 7800        R     MOV     R0,#LOW val+01H
005C E2                MOVX    A,@R0
005D 9400              SUBB    A,#00H
005F 18                DEC     R0
0060 E2                MOVX    A,@R0
0061 9400              SUBB    A,#00H
0063 22                RET     
0064         L?1122:
0064         L?1123:
0064 7800        E     MOV     R0,#LOW PcMode
0066         L?1124:
0066 900000      E     MOV     DPTR,#PCMDATA+01H
0069         L?1125:
0069 E2                MOVX    A,@R0
006A 75F016            MOV     B,#016H
006D         L?1126:
006D 120000      E     LCALL   ?C?OFFXADD
0070         L?1127:
0070 E4                CLR     A
0071 93                MOVC    A,@A+DPTR
0072 FE                MOV     R6,A
0073 7401              MOV     A,#01H
0075 93                MOVC    A,@A+DPTR
0076 FF                MOV     R7,A
0077 22                RET     
0078         L?1129:
0078 7800        R     MOV     R0,#LOW newv
007A 7A00        R     MOV     R2,#HIGH regv
007C 7900        R     MOV     R1,#LOW regv
007E         L?1130:
007E E2                MOVX    A,@R0
007F FF                MOV     R7,A
0080 7E00              MOV     R6,#00H
0082 7BFE              MOV     R3,#0FEH
0084         L?1131:
0084 7800        E     MOV     R0,#LOW ?_Mapping1?BYTE+05H
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 251 

0086 120000      E     LCALL   ?C?PSTPDATA
0089 0B                INC     R3
008A 22                RET     
008B         L?1132:
008B 740E              MOV     A,#0EH
008D 93                MOVC    A,@A+DPTR
008E FB                MOV     R3,A
008F 740F              MOV     A,#0FH
0091 93                MOVC    A,@A+DPTR
0092 7800        R     MOV     R0,#LOW MenuFormat
0094 CB                XCH     A,R3
0095 F2                MOVX    @R0,A
0096 08                INC     R0
0097 EB                MOV     A,R3
0098         L?1133:
0098 F2                MOVX    @R0,A
0099 8F82              MOV     DPL,R7
009B 8E83              MOV     DPH,R6
009D ED                MOV     A,R5
009E         L?1134:
009E 75F010            MOV     B,#010H
00A1 120000      E     LCALL   ?C?OFFXADD
00A4         L?1135:
00A4 7409              MOV     A,#09H
00A6 93                MOVC    A,@A+DPTR
00A7 FF                MOV     R7,A
00A8 740A              MOV     A,#0AH
00AA 93                MOVC    A,@A+DPTR
00AB         L?1136:
00AB 7800        R     MOV     R0,#LOW MenuChild
00AD CF                XCH     A,R7
00AE F2                MOVX    @R0,A
00AF 08                INC     R0
00B0 EF                MOV     A,R7
00B1 F2                MOVX    @R0,A
00B2 22                RET     
00B3         L?1138:
00B3 7E00              MOV     R6,#00H
00B5 EE                MOV     A,R6
00B6 F2                MOVX    @R0,A
00B7 08                INC     R0
00B8 EF                MOV     A,R7
00B9 F2                MOVX    @R0,A
00BA 22                RET     
00BB         L?1139:
00BB         L?1140:
00BB 7800        R     MOV     R0,#LOW scale
00BD         L?1141:
00BD E4                CLR     A
00BE FF                MOV     R7,A
00BF FE                MOV     R6,A
00C0 7D01              MOV     R5,#01H
00C2 FC                MOV     R4,A
00C3         L?1142:
00C3 120000      E     LCALL   ?C?LLDPDATA0
00C6 020000      E     LJMP    ?C?LMUL
00C9         L?1143:
00C9 E4                CLR     A
00CA F2                MOVX    @R0,A
00CB 740F              MOV     A,#0FH
00CD         L?1144:
00CD 08                INC     R0
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 252 

00CE F2                MOVX    @R0,A
00CF         L?1145:
00CF 7800        R     MOV     R0,#LOW MenuFormat
00D1         L?1146:
00D1 E2                MOVX    A,@R0
00D2 FE                MOV     R6,A
00D3 08                INC     R0
00D4 E2                MOVX    A,@R0
00D5 F582              MOV     DPL,A
00D7 8E83              MOV     DPH,R6
00D9 22                RET     
00DA         L?1149:
00DA         L?1150:
00DA 7800        R     MOV     R0,#LOW val
00DC E4                CLR     A
00DD F2                MOVX    @R0,A
00DE 08                INC     R0
00DF 04                INC     A
00E0 F2                MOVX    @R0,A
00E1 22                RET     
00E2         L?1151:
00E2         L?1152:
00E2 E2                MOVX    A,@R0
00E3 FE                MOV     R6,A
00E4 08                INC     R0
00E5 E2                MOVX    A,@R0
00E6 FF                MOV     R7,A
00E7         L?1153:
00E7 7800        R     MOV     R0,#LOW OSDItemValue
00E9 EE                MOV     A,R6
00EA F2                MOVX    @R0,A
00EB 08                INC     R0
00EC EF                MOV     A,R7
00ED F2                MOVX    @R0,A
00EE 22                RET     
00EF         L?1155:
00EF         L?1156:
00EF EE                MOV     A,R6
00F0         L?1157:
00F0 F2                MOVX    @R0,A
00F1 08                INC     R0
00F2 EF                MOV     A,R7
00F3 F2                MOVX    @R0,A
00F4 D3                SETB    C
00F5 900000      R     MOV     DPTR,#UserRange
00F8 7401              MOV     A,#01H
00FA 93                MOVC    A,@A+DPTR
00FB 9F                SUBB    A,R7
00FC EE                MOV     A,R6
00FD 6480              XRL     A,#080H
00FF F8                MOV     R0,A
0100 E4                CLR     A
0101 93                MOVC    A,@A+DPTR
0102 6480              XRL     A,#080H
0104 98                SUBB    A,R0
0105 22                RET     
0106         L?1159:
0106         L?1160:
0106 E4                CLR     A
0107 7800        R     MOV     R0,#LOW val
0109 F2                MOVX    @R0,A
010A 08                INC     R0
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 253 

010B F2                MOVX    @R0,A
010C 22                RET     
010D         L?1163:
010D         L?1164:
010D EE                MOV     A,R6
010E         L?1165:
010E 7800        R     MOV     R0,#LOW val
0110 F2                MOVX    @R0,A
0111 08                INC     R0
0112 EF                MOV     A,R7
0113 F2                MOVX    @R0,A
0114 22                RET     
0115         L?1167:
0115 7800        R     MOV     R0,#LOW cursor_y
0117 E2                MOVX    A,@R0
0118 7800        R     MOV     R0,#LOW addr+01H
011A         L?1168:
011A A4                MUL     AB
011B FF                MOV     R7,A
011C AEF0              MOV     R6,B
011E         L?1169:
011E E2                MOVX    A,@R0
011F 2F                ADD     A,R7
0120 F2                MOVX    @R0,A
0121 18                DEC     R0
0122 E2                MOVX    A,@R0
0123 3E                ADDC    A,R6
0124 F2                MOVX    @R0,A
0125 22                RET     
0126         L?1173:
0126 F2                MOVX    @R0,A
0127         L?1174:
0127 7800        R     MOV     R0,#LOW MenuTitle
0129         L?1175:
0129 E2                MOVX    A,@R0
012A FE                MOV     R6,A
012B 08                INC     R0
012C E2                MOVX    A,@R0
012D FF                MOV     R7,A
012E F582              MOV     DPL,A
0130 8E83              MOV     DPH,R6
0132 22                RET     
0133         L?1177:
0133 7800        R     MOV     R0,#LOW DMp
0135 120000      E     LCALL   ?C?PLDPDATA
0138 90000E            MOV     DPTR,#0EH
013B 120000      E     LCALL   ?C?ILDOPTR
013E AAF0              MOV     R2,B
0140 F9                MOV     R1,A
0141 7BFF              MOV     R3,#0FFH
0143 7800        R     MOV     R0,#LOW ptr
0145 120000      E     LCALL   ?C?PSTPDATA
0148 7800        R     MOV     R0,#LOW DMp
014A 120000      E     LCALL   ?C?PLDPDATA
014D         L?1178:
014D 90000D            MOV     DPTR,#0DH
0150 120000      E     LCALL   ?C?CLDOPTR
0153 FF                MOV     R7,A
0154 22                RET     
0155         L?1179:
0155         L?1180:
0155 7800        R     MOV     R0,#LOW addr
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 254 

0157 E2                MOVX    A,@R0
0158 FE                MOV     R6,A
0159 08                INC     R0
015A E2                MOVX    A,@R0
015B FF                MOV     R7,A
015C 22                RET     
015D         L?1181:
015D E2                MOVX    A,@R0
015E FE                MOV     R6,A
015F 08                INC     R0
0160 E2                MOVX    A,@R0
0161 FF                MOV     R7,A
0162         L?1182:
0162 7800        R     MOV     R0,#LOW MenuFormat
0164         L?1183:
0164 E2                MOVX    A,@R0
0165 FC                MOV     R4,A
0166 08                INC     R0
0167 E2                MOVX    A,@R0
0168 F582              MOV     DPL,A
016A 8C83              MOV     DPH,R4
016C 22                RET     
016D         L?1185:
016D         L?1186:
016D 7800        R     MOV     R0,#LOW outv
016F         L?1187:
016F 120000      E     LCALL   ?C?LLDPDATA0
0172 020000      E     LJMP    ?C?ULDIV
0175         L?1189:
0175         L?1190:
0175 C3                CLR     C
0176 7800        R     MOV     R0,#LOW val+01H
0178 E2                MOVX    A,@R0
0179 9406              SUBB    A,#06H
017B 18                DEC     R0
017C E2                MOVX    A,@R0
017D 9400              SUBB    A,#00H
017F 22                RET     
0180         L?1194:
0180 EF                MOV     A,R7
0181 75F00A            MOV     B,#0AH
0184 84                DIV     AB
0185 F2                MOVX    @R0,A
0186         L?1195:
0186 E2                MOVX    A,@R0
0187 FF                MOV     R7,A
0188 75F00A            MOV     B,#0AH
018B 84                DIV     AB
018C E5F0              MOV     A,B
018E 2430              ADD     A,#030H
0190 22                RET     
0191         L?1196:
0191         L?1197:
0191 C3                CLR     C
0192         L?1198:
0192 7800        R     MOV     R0,#LOW val+01H
0194 E2                MOVX    A,@R0
0195 9402              SUBB    A,#02H
0197 18                DEC     R0
0198 E2                MOVX    A,@R0
0199 9400              SUBB    A,#00H
019B 22                RET     
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 255 

019C         L?1200:
019C 900000      R     MOV     DPTR,#UserRange+02H
019F E4                CLR     A
01A0 93                MOVC    A,@A+DPTR
01A1 FC                MOV     R4,A
01A2 7401              MOV     A,#01H
01A4 93                MOVC    A,@A+DPTR
01A5 FD                MOV     R5,A
01A6 E2                MOVX    A,@R0
01A7 FA                MOV     R2,A
01A8 08                INC     R0
01A9 E2                MOVX    A,@R0
01AA FB                MOV     R3,A
01AB 9D                SUBB    A,R5
01AC EC                MOV     A,R4
01AD         L?1201:
01AD 6480              XRL     A,#080H
01AF F8                MOV     R0,A
01B0 EA                MOV     A,R2
01B1 6480              XRL     A,#080H
01B3 98                SUBB    A,R0
01B4 22                RET     
01B5         L?1205:
01B5         L?1206:
01B5 E2                MOVX    A,@R0
01B6 2401              ADD     A,#01H
01B8         L?1207:
01B8 FF                MOV     R7,A
01B9 18                DEC     R0
01BA E2                MOVX    A,@R0
01BB 3400              ADDC    A,#00H
01BD FE                MOV     R6,A
01BE 22                RET     
01BF         L?1208:
01BF 120000      R     LCALL   pushMenu
01C2 7800        R     MOV     R0,#LOW MenuChild
01C4         L?1209:
01C4 E2                MOVX    A,@R0
01C5 FF                MOV     R7,A
01C6 08                INC     R0
01C7 E2                MOVX    A,@R0
01C8 7800        R     MOV     R0,#LOW MenuTitle
01CA CF                XCH     A,R7
01CB F2                MOVX    @R0,A
01CC 08                INC     R0
01CD EF                MOV     A,R7
01CE F2                MOVX    @R0,A
01CF 22                RET     
01D0         L?1210:
01D0         L?1211:
01D0 C3                CLR     C
01D1 7800        R     MOV     R0,#LOW val+01H
01D3 E2                MOVX    A,@R0
01D4 9404              SUBB    A,#04H
01D6 18                DEC     R0
01D7 E2                MOVX    A,@R0
01D8 9400              SUBB    A,#00H
01DA 22                RET     
01DB         L?1212:
01DB         L?1213:
01DB C3                CLR     C
01DC 7800        R     MOV     R0,#LOW val+01H
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 256 

01DE E2                MOVX    A,@R0
01DF 9409              SUBB    A,#09H
01E1 18                DEC     R0
01E2 E2                MOVX    A,@R0
01E3 9400              SUBB    A,#00H
01E5 22                RET     
01E6         L?1214:
01E6 8F82              MOV     DPL,R7
01E8 8E83              MOV     DPH,R6
01EA         L?1215:
01EA ED                MOV     A,R5
01EB         L?1216:
01EB 75F010            MOV     B,#010H
01EE 020000      E     LJMP    ?C?OFFXADD
01F1         L?1217:
01F1 7800        R     MOV     R0,#LOW addr
01F3 E2                MOVX    A,@R0
01F4 FE                MOV     R6,A
01F5 08                INC     R0
01F6 E2                MOVX    A,@R0
01F7 FF                MOV     R7,A
01F8 7800        R     MOV     R0,#LOW MenuFormat
01FA E2                MOVX    A,@R0
01FB FA                MOV     R2,A
01FC 08                INC     R0
01FD E2                MOVX    A,@R0
01FE F582              MOV     DPL,A
0200 8A83              MOV     DPH,R2
0202 7403              MOV     A,#03H
0204 93                MOVC    A,@A+DPTR
0205 FD                MOV     R5,A
0206 E4                CLR     A
0207 93                MOVC    A,@A+DPTR
0208 22                RET     
0209         L?1218:
0209         L?1219:
0209 7800        R     MOV     R0,#LOW val
020B E4                CLR     A
020C F2                MOVX    @R0,A
020D 08                INC     R0
020E 7406              MOV     A,#06H
0210 F2                MOVX    @R0,A
0211 22                RET     
0212         L?1220:
0212 7DFE              MOV     R5,#0FEH
0214 7BFF              MOV     R3,#0FFH
0216 7E00              MOV     R6,#00H
0218 7F0C              MOV     R7,#0CH
021A 020000      E     LJMP    ?C?COPY
021D         L?1223:
021D 900002            MOV     DPTR,#02H
0220 120000      E     LCALL   ?C?PLDOPTR
0223 7800        R     MOV     R0,#LOW OSDLang
0225 E2                MOVX    A,@R0
0226 75F003            MOV     B,#03H
0229 A4                MUL     AB
022A F582              MOV     DPL,A
022C 85F083            MOV     DPH,B
022F 020000      E     LJMP    ?C?PLDOPTR
0232         L?1224:
0232 E2                MOVX    A,@R0
0233 FE                MOV     R6,A
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 257 

0234 08                INC     R0
0235 E2                MOVX    A,@R0
0236 FF                MOV     R7,A
0237 7BFE              MOV     R3,#0FEH
0239 7800        E     MOV     R0,#LOW ?_WriteStringToAddr?BYTE+05H
023B 7408              MOV     A,#08H
023D F2                MOVX    @R0,A
023E 22                RET     
023F         L?1225:
023F         L?1226:
023F 7800        R     MOV     R0,#LOW str
0241 E4                CLR     A
0242 75F001            MOV     B,#01H
0245 120000      E     LCALL   ?C?PLDIPDATA
0248 020000      E     LJMP    ?C?CLDPTR
024B         L?1227:
024B         L?1228:
024B 7800        R     MOV     R0,#LOW MenuChild
024D E2                MOVX    A,@R0
024E FE                MOV     R6,A
024F 08                INC     R0
0250 E2                MOVX    A,@R0
0251 22                RET     
0252         L?1230:
0252 E2                MOVX    A,@R0
0253 FF                MOV     R7,A
0254 7E00              MOV     R6,#00H
0256         L?1231:
0256 7D17              MOV     R5,#017H
0258         L?1232:
0258 7C00              MOV     R4,#00H
025A 120000      E     LCALL   ?C?IMUL
025D EF                MOV     A,R7
025E 22                RET     
025F         L?1233:
025F 7E00              MOV     R6,#00H
0261 7800        R     MOV     R0,#LOW val+01H
0263 E2                MOVX    A,@R0
0264         L?1234:
0264 5403              ANL     A,#03H
0266 FF                MOV     R7,A
0267 18                DEC     R0
0268 EE                MOV     A,R6
0269 F2                MOVX    @R0,A
026A 08                INC     R0
026B EF                MOV     A,R7
026C F2                MOVX    @R0,A
026D 22                RET     
026E         L?1235:
026E 740E              MOV     A,#0EH
0270 93                MOVC    A,@A+DPTR
0271 FC                MOV     R4,A
0272 740F              MOV     A,#0FH
0274 93                MOVC    A,@A+DPTR
0275 AA04              MOV     R2,AR4
0277 7800        R     MOV     R0,#LOW ptr
0279         L?1236:
0279 F9                MOV     R1,A
027A 7BFF              MOV     R3,#0FFH
027C 020000      E     LJMP    ?C?PSTPDATA
027F         L?1238:
027F E2                MOVX    A,@R0
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 258 

0280 FE                MOV     R6,A
0281 08                INC     R0
0282 E2                MOVX    A,@R0
0283 2D                ADD     A,R5
0284 FD                MOV     R5,A
0285 EE                MOV     A,R6
0286 3C                ADDC    A,R4
0287 FC                MOV     R4,A
0288 ED                MOV     A,R5
0289 A4                MUL     AB
028A FB                MOV     R3,A
028B AAF0              MOV     R2,B
028D FF                MOV     R7,A
028E 7800        R     MOV     R0,#LOW winno
0290 E2                MOVX    A,@R0
0291 22                RET     
0292         L?1239:
0292         L?1240:
0292 7800        R     MOV     R0,#LOW val
0294 E4                CLR     A
0295 F2                MOVX    @R0,A
0296 08                INC     R0
0297 7404              MOV     A,#04H
0299 F2                MOVX    @R0,A
029A 22                RET     
029B         L?1241:
029B         L?1242:
029B 7800        R     MOV     R0,#LOW val
029D E4                CLR     A
029E F2                MOVX    @R0,A
029F 08                INC     R0
02A0 7402              MOV     A,#02H
02A2 F2                MOVX    @R0,A
02A3 22                RET     
02A4         L?1243:
02A4         L?1244:
02A4 7800        R     MOV     R0,#LOW val
02A6 E4                CLR     A
02A7 F2                MOVX    @R0,A
02A8 08                INC     R0
02A9 7409              MOV     A,#09H
02AB F2                MOVX    @R0,A
02AC 22                RET     
02AD         L?1247:
02AD 7800        R     MOV     R0,#LOW scale
02AF         L?1248:
02AF E4                CLR     A
02B0 FC                MOV     R4,A
02B1 FD                MOV     R5,A
02B2 020000      E     LJMP    ?C?LSTPDATA
02B5         L?1249:
02B5         L?1250:
02B5 C3                CLR     C
02B6 7800        R     MOV     R0,#LOW val+01H
02B8 E2                MOVX    A,@R0
02B9 9403              SUBB    A,#03H
02BB 18                DEC     R0
02BC E2                MOVX    A,@R0
02BD 9400              SUBB    A,#00H
02BF 22                RET     
02C0         L?1251:
02C0         L?1252:
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 259 

02C0 C3                CLR     C
02C1 7800        R     MOV     R0,#LOW val+01H
02C3 E2                MOVX    A,@R0
02C4 940C              SUBB    A,#0CH
02C6 18                DEC     R0
02C7 E2                MOVX    A,@R0
02C8 9400              SUBB    A,#00H
02CA 22                RET     
02CB         L?1253:
02CB         L?1254:
02CB C3                CLR     C
02CC 7800        R     MOV     R0,#LOW val+01H
02CE E2                MOVX    A,@R0
02CF 9417              SUBB    A,#017H
02D1 18                DEC     R0
02D2 E2                MOVX    A,@R0
02D3 9400              SUBB    A,#00H
02D5 22                RET     
02D6         L?1255:
02D6 75F010            MOV     B,#010H
02D9 A4                MUL     AB
02DA FF                MOV     R7,A
02DB E2                MOVX    A,@R0
02DC 2F                ADD     A,R7
02DD FF                MOV     R7,A
02DE 18                DEC     R0
02DF E2                MOVX    A,@R0
02E0 35F0              ADDC    A,B
02E2 FA                MOV     R2,A
02E3 A907              MOV     R1,AR7
02E5 7BFF              MOV     R3,#0FFH
02E7 22                RET     
02E8         L?1260:
02E8 F2                MOVX    @R0,A
02E9 E2                MOVX    A,@R0
02EA FF                MOV     R7,A
02EB 25E0              ADD     A,ACC
02ED 2400        R     ADD     A,#LOW OSDPOSITIONMODE_TABLE
02EF F582              MOV     DPL,A
02F1 E4                CLR     A
02F2 3400        R     ADDC    A,#HIGH OSDPOSITIONMODE_TABLE
02F4 F583              MOV     DPH,A
02F6 E4                CLR     A
02F7 93                MOVC    A,@A+DPTR
02F8 22                RET     
02F9         L?1261:
02F9 E4                CLR     A
02FA 93                MOVC    A,@A+DPTR
02FB FF                MOV     R7,A
02FC E2                MOVX    A,@R0
02FD 8FF0              MOV     B,R7
02FF A4                MUL     AB
0300 FF                MOV     R7,A
0301 22                RET     
0302         L?1263:
0302 F2                MOVX    @R0,A
0303 EF                MOV     A,R7
0304 25E0              ADD     A,ACC
0306 2400        R     ADD     A,#LOW OSDPOSITIONMODE_TABLE+01H
0308 F582              MOV     DPL,A
030A E4                CLR     A
030B 3400        R     ADDC    A,#HIGH OSDPOSITIONMODE_TABLE+01H
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 260 

030D F583              MOV     DPH,A
030F E4                CLR     A
0310 93                MOVC    A,@A+DPTR
0311 22                RET     
0312         L?1264:
0312         L?1265:
0312 E2                MOVX    A,@R0
0313 24FF              ADD     A,#0FFH
0315 FF                MOV     R7,A
0316 18                DEC     R0
0317 E2                MOVX    A,@R0
0318 34FF              ADDC    A,#0FFH
031A FE                MOV     R6,A
031B 22                RET     
031C         L?1266:
031C         L?1267:
031C EE                MOV     A,R6
031D F2                MOVX    @R0,A
031E 08                INC     R0
031F EF                MOV     A,R7
0320 F2                MOVX    @R0,A
0321 08                INC     R0
0322 020000      E     LJMP    ?C?PSTPDATA
0325         L?1268:
0325 E4                CLR     A
0326 93                MOVC    A,@A+DPTR
0327 FC                MOV     R4,A
0328 7401              MOV     A,#01H
032A 93                MOVC    A,@A+DPTR
032B FD                MOV     R5,A
032C C3                CLR     C
032D EF                MOV     A,R7
032E 9D                SUBB    A,R5
032F F2                MOVX    @R0,A
0330 E4                CLR     A
0331 9C                SUBB    A,R4
0332 18                DEC     R0
0333 F2                MOVX    @R0,A
0334 22                RET     
0335         L?1273:
0335 EF                MOV     A,R7
0336 54F8              ANL     A,#0F8H
0338 FF                MOV     R7,A
0339 08                INC     R0
033A E2                MOVX    A,@R0
033B 5407              ANL     A,#07H
033D 4F                ORL     A,R7
033E FB                MOV     R3,A
033F 7D17              MOV     R5,#017H
0341 7F8A              MOV     R7,#08AH
0343 22                RET     
0344         L?1274:
0344 740E              MOV     A,#0EH
0346 93                MOVC    A,@A+DPTR
0347 FB                MOV     R3,A
0348 740F              MOV     A,#0FH
034A 93                MOVC    A,@A+DPTR
034B 7800        R     MOV     R0,#LOW MenuFormat
034D CB                XCH     A,R3
034E F2                MOVX    @R0,A
034F 08                INC     R0
0350 EB                MOV     A,R3
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 261 

0351 F2                MOVX    @R0,A
0352 22                RET     
0353         L?1277:
0353         L?1278:
0353 7800        R     MOV     R0,#LOW val
0355 E4                CLR     A
0356 F2                MOVX    @R0,A
0357 08                INC     R0
0358 7403              MOV     A,#03H
035A F2                MOVX    @R0,A
035B 22                RET     
035C         L?1279:
035C         L?1280:
035C 7800        R     MOV     R0,#LOW val
035E E4                CLR     A
035F F2                MOVX    @R0,A
0360 08                INC     R0
0361 740C              MOV     A,#0CH
0363 F2                MOVX    @R0,A
0364 22                RET     
0365         L?1281:
0365         L?1282:
0365 7800        R     MOV     R0,#LOW val
0367 E4                CLR     A
0368 F2                MOVX    @R0,A
0369 08                INC     R0
036A 7417              MOV     A,#017H
036C F2                MOVX    @R0,A
036D 22                RET     
036E         L?1286:
036E 7800        R     MOV     R0,#LOW winno
0370 E2                MOVX    A,@R0
0371         L?1287:
0371 75F003            MOV     B,#03H
0374 A4                MUL     AB
0375 2400        R     ADD     A,#LOW OSDStart+0FFFDH
0377 22                RET     
0378         L?1288:
0378 FF                MOV     R7,A
0379 7800        R     MOV     R0,#LOW MenuTitle
037B EE                MOV     A,R6
037C F2                MOVX    @R0,A
037D FE                MOV     R6,A
037E 08                INC     R0
037F EF                MOV     A,R7
0380 F2                MOVX    @R0,A
0381 FF                MOV     R7,A
0382 08                INC     R0
0383 E2                MOVX    A,@R0
0384 22                RET     
0385         L?1289:
0385 E4                CLR     A
0386 7800        R     MOV     R0,#LOW PW_FirstNumber
0388 F2                MOVX    @R0,A
0389 7800        R     MOV     R0,#LOW PW_SecondNumber
038B F2                MOVX    @R0,A
038C 7800        R     MOV     R0,#LOW PW_ThridNumber
038E F2                MOVX    @R0,A
038F 18                DEC     R0
0390 F2                MOVX    @R0,A
0391 22                RET     
0392         L?1290:
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 262 

0392 7800        R     MOV     R0,#LOW val
0394 EE                MOV     A,R6
0395 F2                MOVX    @R0,A
0396 08                INC     R0
0397 EF                MOV     A,R7
0398 F2                MOVX    @R0,A
0399 FD                MOV     R5,A
039A 7800        R     MOV     R0,#LOW winno
039C E2                MOVX    A,@R0
039D FF                MOV     R7,A
039E 22                RET     
039F         L?1291:
039F 08                INC     R0
03A0 E2                MOVX    A,@R0
03A1 5407              ANL     A,#07H
03A3 4438              ORL     A,#038H
03A5 FB                MOV     R3,A
03A6 7D78              MOV     R5,#078H
03A8 7F8A              MOV     R7,#08AH
03AA 22                RET     
03AB         L?1294:
03AB FD                MOV     R5,A
03AC C3                CLR     C
03AD E2                MOVX    A,@R0
03AE 9D                SUBB    A,R5
03AF F2                MOVX    @R0,A
03B0 18                DEC     R0
03B1 E2                MOVX    A,@R0
03B2 9400              SUBB    A,#00H
03B4 F2                MOVX    @R0,A
03B5 22                RET     
03B6         L?1295:
03B6 E2                MOVX    A,@R0
03B7 FF                MOV     R7,A
03B8 7E00              MOV     R6,#00H
03BA 7BFE              MOV     R3,#0FEH
03BC 7A00        R     MOV     R2,#HIGH regv
03BE 7900        R     MOV     R1,#LOW regv
03C0 22                RET     
03C1         L?1296:
03C1 7800        R     MOV     R0,#LOW scale
03C3 120000      E     LCALL   ?C?LSTPDATA
03C6 7800        R     MOV     R0,#LOW scale
03C8 020000      E     LJMP    ?C?LLDPDATA
03CB         L?1297:
03CB FF                MOV     R7,A
03CC E4                CLR     A
03CD 3E                ADDC    A,R6
03CE FE                MOV     R6,A
03CF E4                CLR     A
03D0 3D                ADDC    A,R5
03D1 FD                MOV     R5,A
03D2 E4                CLR     A
03D3 3C                ADDC    A,R4
03D4 FC                MOV     R4,A
03D5 22                RET     
03D6         L?1298:
03D6 E4                CLR     A
03D7 FC                MOV     R4,A
03D8 FD                MOV     R5,A
03D9 7800        R     MOV     R0,#LOW scale
03DB 120000      E     LCALL   ?C?LSTPDATA
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 263 

03DE 7800        R     MOV     R0,#LOW outv
03E0 22                RET     
03E1         L?1299:
03E1 7800        R     MOV     R0,#LOW scale
03E3 120000      E     LCALL   ?C?LSTPDATA
03E6 7800        R     MOV     R0,#LOW scale
03E8 020000      E     LJMP    ?C?LLDPDATA
03EB         L?1300:
03EB FB                MOV     R3,A
03EC C3                CLR     C
03ED EF                MOV     A,R7
03EE 9B                SUBB    A,R3
03EF FF                MOV     R7,A
03F0 EE                MOV     A,R6
03F1 9400              SUBB    A,#00H
03F3 FE                MOV     R6,A
03F4 C3                CLR     C
03F5 22                RET     
03F6         L?1301:
03F6 C3                CLR     C
03F7 7800        R     MOV     R0,#LOW val+01H
03F9 E2                MOVX    A,@R0
03FA 9405              SUBB    A,#05H
03FC 18                DEC     R0
03FD E2                MOVX    A,@R0
03FE 9400              SUBB    A,#00H
0400 22                RET     
0401         L?1302:
0401 E2                MOVX    A,@R0
0402 2405              ADD     A,#05H
0404 2F                ADD     A,R7
0405 F2                MOVX    @R0,A
0406 75F005            MOV     B,#05H
0409 84                DIV     AB
040A 22                RET     
040B         L?1303:
040B 7E00              MOV     R6,#00H
040D EE                MOV     A,R6
040E F2                MOVX    @R0,A
040F 08                INC     R0
0410 EF                MOV     A,R7
0411 F2                MOVX    @R0,A
0412 7BFE              MOV     R3,#0FEH
0414 22                RET     
0415         L?1304:
0415 9F                SUBB    A,R7
0416 EE                MOV     A,R6
0417 6480              XRL     A,#080H
0419 F8                MOV     R0,A
041A EC                MOV     A,R4
041B 6480              XRL     A,#080H
041D 98                SUBB    A,R0
041E 22                RET     
041F         L?1305:
041F         L?1306:
041F 120000      E     LCALL   ?C?PLDPDATA
0422 020000      E     LJMP    ?C?CLDPTR
0425         L?1307:
0425 75F011            MOV     B,#011H
0428 A4                MUL     AB
0429 2400        E     ADD     A,#LOW struct_InputSelection+01H
042B F9                MOV     R1,A
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 264 

042C 7400        E     MOV     A,#HIGH struct_InputSelection+01H
042E 22                RET     
042F         L?1308:
042F EF                MOV     A,R7
0430 75F00A            MOV     B,#0AH
0433 84                DIV     AB
0434 F2                MOVX    @R0,A
0435 2430              ADD     A,#030H
0437 FF                MOV     R7,A
0438 22                RET     
0439         L?1309:
0439         L?1310:
0439 F2                MOVX    @R0,A
043A 7800        R     MOV     R0,#LOW k
043C E2                MOVX    A,@R0
043D 04                INC     A
043E F2                MOVX    @R0,A
043F 22                RET     
0440         L?1311:
0440         L?1312:
0440 7BFE              MOV     R3,#0FEH
0442 7A00        R     MOV     R2,#HIGH mstr
0444 7900        R     MOV     R1,#LOW mstr
0446 22                RET     
0447         L?1313:
0447         L?1314:
0447 E4                CLR     A
0448 FB                MOV     R3,A
0449 7D9E              MOV     R5,#09EH
044B 7F8A              MOV     R7,#08AH
044D 22                RET     
044E         L?1315:
044E C200        E     CLR     FormatStart
0450 E4                CLR     A
0451 7800        E     MOV     R0,#LOW FormatWait
0453 F2                MOVX    @R0,A
0454 7800        E     MOV     R0,#LOW FormatStatus
0456 F2                MOVX    @R0,A
0457 22                RET     
             ; FUNCTION Com0449 (END)

             ; FUNCTION GetOSDPositionMode (BEGIN)
                                           ; SOURCE LINE # 83
                                           ; SOURCE LINE # 84
                                           ; SOURCE LINE # 86
0000 120000      E     LCALL   GetOSDPositionModeEE
;---- Variable 'val' assigned to Register 'R7' ----
                                           ; SOURCE LINE # 89
                                           ; SOURCE LINE # 90
0003         ?C0001:
0003 22                RET     
             ; FUNCTION GetOSDPositionMode (END)

             ; FUNCTION _SetOSDPositionMode (BEGIN)
                                           ; SOURCE LINE # 92
0000 7800        R     MOV     R0,#LOW flag
0002 EF                MOV     A,R7
0003 F2                MOVX    @R0,A
                                           ; SOURCE LINE # 93
                                           ; SOURCE LINE # 105
0004 120000      R     LCALL   GetOSDPositionMode
0007 7800        R     MOV     R0,#LOW i
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 265 

0009 EF                MOV     A,R7
000A F2                MOVX    @R0,A
                                           ; SOURCE LINE # 106
000B 7800        R     MOV     R0,#LOW flag
000D E2                MOVX    A,@R0
000E B40104            CJNE    A,#01H,?C0002
0011 7F01              MOV     R7,#01H
0013 8002              SJMP    ?C0003
0015         ?C0002:
0015 7FFF              MOV     R7,#0FFH
0017         ?C0003:
;---- Variable 'inc' assigned to Register 'R7' ----
                                           ; SOURCE LINE # 107
0017 7800        R     MOV     R0,#LOW i
                                           ; SOURCE LINE # 108
0019 120000      R     LCALL   L?1302
001C E5F0              MOV     A,B
                                           ; SOURCE LINE # 110
001E 120000      R     LCALL   L?1260
0021 FE                MOV     R6,A
0022 FD                MOV     R5,A
0023 7800        R     MOV     R0,#LOW addx
0025 E4                CLR     A
0026 F2                MOVX    @R0,A
0027 08                INC     R0
0028 ED                MOV     A,R5
0029 F2                MOVX    @R0,A
                                           ; SOURCE LINE # 111
002A 7800        R     MOV     R0,#LOW OSDMenuX
002C E2                MOVX    A,@R0
002D 7800        R     MOV     R0,#LOW addx+01H
002F 120000      R     LCALL   L?1294
                                           ; SOURCE LINE # 112
0032 7800        R     MOV     R0,#LOW OSDMenuX
0034 EE                MOV     A,R6
                                           ; SOURCE LINE # 114
0035 120000      R     LCALL   L?1263
0038 FF                MOV     R7,A
0039 FD                MOV     R5,A
003A 7800        R     MOV     R0,#LOW addy
003C E4                CLR     A
003D F2                MOVX    @R0,A
003E 08                INC     R0
003F ED                MOV     A,R5
0040 F2                MOVX    @R0,A
                                           ; SOURCE LINE # 115
0041 7800        R     MOV     R0,#LOW OSDMenuY
0043 E2                MOVX    A,@R0
0044 7800        R     MOV     R0,#LOW addy+01H
0046 120000      R     LCALL   L?1294
                                           ; SOURCE LINE # 116
0049 7800        R     MOV     R0,#LOW OSDMenuY
004B EF                MOV     A,R7
004C F2                MOVX    @R0,A
                                           ; SOURCE LINE # 118
004D 7800        R     MOV     R0,#LOW winno
004F 7401              MOV     A,#01H
0051 F2                MOVX    @R0,A
0052         ?C0004:
0052 7800        R     MOV     R0,#LOW winno
0054 E2                MOVX    A,@R0
0055 FF                MOV     R7,A
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 266 

0056 D3                SETB    C
0057 9404              SUBB    A,#04H
0059 5059              JNC     ?C0005
                                           ; SOURCE LINE # 119
005B 120000      E     LCALL   _GetOSDWindowX
;---- Variable 'val' assigned to Register 'R4/R5' ----
005E AD07              MOV     R5,AR7
0060 AC06              MOV     R4,AR6
                                           ; SOURCE LINE # 120
0062 7800        R     MOV     R0,#LOW addx
                                           ; SOURCE LINE # 121
0064 75F008            MOV     B,#08H
;---- Variable 'tmp' assigned to Register 'R2/R3' ----
                                           ; SOURCE LINE # 122
0067 120000      R     LCALL   L?1238
006A F9                MOV     R1,A
006B 75F003            MOV     B,#03H
006E A4                MUL     AB
006F 2400        R     ADD     A,#LOW OSDStart+0FFFEH
0071 F8                MOV     R0,A
0072 EF                MOV     A,R7
0073 F2                MOVX    @R0,A
                                           ; SOURCE LINE # 123
0074 EA                MOV     A,R2
0075 FF                MOV     R7,A
0076 E9                MOV     A,R1
0077 120000      R     LCALL   L?1287
007A F8                MOV     R0,A
007B EF                MOV     A,R7
007C F2                MOVX    @R0,A
                                           ; SOURCE LINE # 125
007D AF01              MOV     R7,AR1
007F 120000      E     LCALL   _GetOSDWindowY
0082 AC06              MOV     R4,AR6
0084 AD07              MOV     R5,AR7
                                           ; SOURCE LINE # 126
0086 7800        R     MOV     R0,#LOW addy
                                           ; SOURCE LINE # 127
0088 75F004            MOV     B,#04H
                                           ; SOURCE LINE # 128
008B 120000      R     LCALL   L?1238
008E 75F003            MOV     B,#03H
0091 A4                MUL     AB
0092 2400        R     ADD     A,#LOW OSDStart+0FFFFH
0094 F8                MOV     R0,A
0095 EF                MOV     A,R7
0096 F2                MOVX    @R0,A
                                           ; SOURCE LINE # 129
0097 EA                MOV     A,R2
0098 C4                SWAP    A
0099 F8                MOV     R0,A
009A 54F0              ANL     A,#0F0H
009C C8                XCH     A,R0
009D EB                MOV     A,R3
009E C4                SWAP    A
009F 540F              ANL     A,#0FH
00A1 48                ORL     A,R0
00A2 5470              ANL     A,#070H
00A4 FF                MOV     R7,A
00A5 120000      R     LCALL   L?1286
00A8 F8                MOV     R0,A
00A9 E2                MOVX    A,@R0
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 267 

00AA 4F                ORL     A,R7
00AB F2                MOVX    @R0,A
                                           ; SOURCE LINE # 130
00AC 7800        R     MOV     R0,#LOW winno
00AE E2                MOVX    A,@R0
00AF 04                INC     A
00B0 F2                MOVX    @R0,A
00B1 020000      R     LJMP    ?C0004
00B4         ?C0005:
                                           ; SOURCE LINE # 132
00B4 120000      E     LCALL   WaitEndofDisplayArea
                                           ; SOURCE LINE # 145
00B7 7DE0              MOV     R5,#0E0H
00B9 7F8A              MOV     R7,#08AH
00BB 120000      E     LCALL   _ReadI2C
00BE EF                MOV     A,R7
00BF 54EF              ANL     A,#0EFH
00C1 120000      R     LCALL   L?1275
                                           ; SOURCE LINE # 146
00C4 7800        R     MOV     R0,#LOW winno
00C6 7401              MOV     A,#01H
00C8 F2                MOVX    @R0,A
00C9         ?C0007:
00C9 7800        R     MOV     R0,#LOW winno
00CB E2                MOVX    A,@R0
00CC FF                MOV     R7,A
00CD D3                SETB    C
00CE 9404              SUBB    A,#04H
00D0 5025              JNC     ?C0008
                                           ; SOURCE LINE # 147
00D2 EF                MOV     A,R7
00D3 14                DEC     A
00D4 FB                MOV     R3,A
00D5 7D9E              MOV     R5,#09EH
00D7 7F8A              MOV     R7,#08AH
00D9 120000      E     LCALL   _WriteI2C
                                           ; SOURCE LINE # 148
00DC 120000      R     LCALL   L?1286
00DF F9                MOV     R1,A
00E0 E4                CLR     A
00E1 FA                MOV     R2,A
00E2 7BFE              MOV     R3,#0FEH
00E4 7800        E     MOV     R0,#LOW ?_WriteI2Cn?BYTE+05H
00E6 7403              MOV     A,#03H
00E8 F2                MOVX    @R0,A
00E9 7DA0              MOV     R5,#0A0H
00EB 7F8A              MOV     R7,#08AH
00ED 120000      E     LCALL   _WriteI2Cn
                                           ; SOURCE LINE # 149
00F0 7800        R     MOV     R0,#LOW winno
00F2 E2                MOVX    A,@R0
00F3 04                INC     A
00F4 F2                MOVX    @R0,A
00F5 80D2              SJMP    ?C0007
00F7         ?C0008:
                                           ; SOURCE LINE # 151
00F7 7DE0              MOV     R5,#0E0H
00F9 7F8A              MOV     R7,#08AH
00FB 120000      E     LCALL   _ReadI2C
00FE EF                MOV     A,R7
00FF 4410              ORL     A,#010H
0101 120000      R     LCALL   L?1275
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 268 

                                           ; SOURCE LINE # 152
0104 7800        R     MOV     R0,#LOW i
0106 E2                MOVX    A,@R0
0107 FF                MOV     R7,A
0108 120000      E     LCALL   _SaveOSDPositionModeEE
                                           ; SOURCE LINE # 154
010B 120000      E     LCALL   WaitEndofDisplayArea
                                           ; SOURCE LINE # 155
010E E4                CLR     A
010F FB                MOV     R3,A
0110 7D90              MOV     R5,#090H
0112 7F8A              MOV     R7,#08AH
0114 120000      E     LCALL   _WriteI2C
                                           ; SOURCE LINE # 158
0117 7800        R     MOV     R0,#LOW i
0119 E2                MOVX    A,@R0
011A FF                MOV     R7,A
                                           ; SOURCE LINE # 159
011B         ?C0010:
011B 22                RET     
011C         L?1275:
011C FB                MOV     R3,A
011D 7DE0              MOV     R5,#0E0H
011F 7F8A              MOV     R7,#08AH
0121 120000      E     LCALL   _WriteI2C
0124 22                RET     
             ; FUNCTION _SetOSDPositionMode (END)

             ; FUNCTION ResetOSDValue (BEGIN)
                                           ; SOURCE LINE # 241
                                           ; SOURCE LINE # 242
                                           ; SOURCE LINE # 244
0000 900000      R     MOV     DPTR,#OSDPOSITIONMODE_TABLE
0003 E4                CLR     A
0004 93                MOVC    A,@A+DPTR
0005 7800        R     MOV     R0,#LOW OSDMenuX
0007 F2                MOVX    @R0,A
                                           ; SOURCE LINE # 245
0008 A3                INC     DPTR
0009 E4                CLR     A
000A 93                MOVC    A,@A+DPTR
000B 08                INC     R0
000C F2                MOVX    @R0,A
                                           ; SOURCE LINE # 247
000D E4                CLR     A
000E FF                MOV     R7,A
000F 120000      E     LCALL   _SaveOSDPositionModeEE
                                           ; SOURCE LINE # 251
0012 7D03              MOV     R5,#03H
0014 7FB0              MOV     R7,#0B0H
0016 7E00              MOV     R6,#00H
0018 120000      E     LCALL   _WriteEEP
                                           ; SOURCE LINE # 252
001B 7FA0              MOV     R7,#0A0H
001D 120000      R     LCALL   L?1171
                                           ; SOURCE LINE # 253
0020 7FA1              MOV     R7,#0A1H
0022 120000      R     LCALL   L?1172
                                           ; SOURCE LINE # 254
0025 7FA2              MOV     R7,#0A2H
0027 120000      R     LCALL   L?1172
                                           ; SOURCE LINE # 255
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 269 

002A 7FBA              MOV     R7,#0BAH
002C 120000      R     LCALL   L?1184
                                           ; SOURCE LINE # 256
002F 7FA4              MOV     R7,#0A4H
0031 120000      R     LCALL   L?1184
                                           ; SOURCE LINE # 257
0034 7FAB              MOV     R7,#0ABH
0036 120000      R     LCALL   L?1171
                                           ; SOURCE LINE # 258
0039 7FA3              MOV     R7,#0A3H
003B 120000      R     LCALL   L?1203
                                           ; SOURCE LINE # 259
003E 7FBB              MOV     R7,#0BBH
0040 120000      R     LCALL   L?1203
                                           ; SOURCE LINE # 260
0043 7FA5              MOV     R7,#0A5H
0045 120000      R     LCALL   L?1191
                                           ; SOURCE LINE # 261
0048 7FA6              MOV     R7,#0A6H
004A 120000      R     LCALL   L?1191
                                           ; SOURCE LINE # 262
004D 7FA7              MOV     R7,#0A7H
004F 120000      R     LCALL   L?1221
                                           ; SOURCE LINE # 263
0052 7FA8              MOV     R7,#0A8H
0054 120000      R     LCALL   L?1229
                                           ; SOURCE LINE # 264
0057 7D32              MOV     R5,#032H
0059 7F38              MOV     R7,#038H
005B 7E00              MOV     R6,#00H
005D 120000      E     LCALL   _WriteEEP
                                           ; SOURCE LINE # 265
0060 7D32              MOV     R5,#032H
0062 7F37              MOV     R7,#037H
0064 7E00              MOV     R6,#00H
0066 120000      E     LCALL   _WriteEEP
                                           ; SOURCE LINE # 266
0069 7D03              MOV     R5,#03H
006B 7FB2              MOV     R7,#0B2H
006D 7E00              MOV     R6,#00H
006F 120000      E     LCALL   _WriteEEP
                                           ; SOURCE LINE # 268
0072 7FBC              MOV     R7,#0BCH
0074 120000      R     LCALL   L?1229
                                           ; SOURCE LINE # 269
0077 7FBD              MOV     R7,#0BDH
0079 120000      R     LCALL   L?1269
                                           ; SOURCE LINE # 270
007C 7FBE              MOV     R7,#0BEH
007E 120000      R     LCALL   L?1269
                                           ; SOURCE LINE # 272
0081 7800        E     MOV     R0,#LOW Priority
0083 E2                MOVX    A,@R0
0084 700F              JNZ     ?C0011
                                           ; SOURCE LINE # 273
                                           ; SOURCE LINE # 274
0086 FD                MOV     R5,A
0087 7FAE              MOV     R7,#0AEH
0089 FE                MOV     R6,A
008A 120000      E     LCALL   _WriteEEP
                                           ; SOURCE LINE # 275
008D 7D01              MOV     R5,#01H
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 270 

008F 7FAC              MOV     R7,#0ACH
0091 7E00              MOV     R6,#00H
                                           ; SOURCE LINE # 276
0093 800E              SJMP    ?C0913
0095         ?C0011:
                                           ; SOURCE LINE # 278
                                           ; SOURCE LINE # 279
0095 7D0D              MOV     R5,#0DH
0097 7FAE              MOV     R7,#0AEH
0099 7E00              MOV     R6,#00H
009B 120000      E     LCALL   _WriteEEP
                                           ; SOURCE LINE # 280
009E E4                CLR     A
009F FD                MOV     R5,A
00A0 7FAC              MOV     R7,#0ACH
00A2 FE                MOV     R6,A
00A3         ?C0913:
00A3 120000      E     LCALL   _WriteEEP
                                           ; SOURCE LINE # 281
00A6         ?C0012:
                                           ; SOURCE LINE # 282
00A6 E4                CLR     A
00A7 7800        E     MOV     R0,#LOW SEQFlag
00A9 F2                MOVX    @R0,A
                                           ; SOURCE LINE # 284
00AA 7D02              MOV     R5,#02H
00AC 7FAA              MOV     R7,#0AAH
00AE FE                MOV     R6,A
00AF 120000      E     LCALL   _WriteEEP
                                           ; SOURCE LINE # 285
00B2 7FA9              MOV     R7,#0A9H
00B4 120000      R     LCALL   L?1316
                                           ; SOURCE LINE # 286
00B7 E4                CLR     A
00B8 FF                MOV     R7,A
00B9 120000      R     LCALL   _CAMOutDSel
                                           ; SOURCE LINE # 287
00BC 7BFF              MOV     R3,#0FFH
00BE 7A00        R     MOV     R2,#HIGH ?SC_0
00C0 7900        R     MOV     R1,#LOW ?SC_0
00C2 120000      E     LCALL   _Puts
                                           ; SOURCE LINE # 288
00C5 7D33              MOV     R5,#033H
00C7 7FA0              MOV     R7,#0A0H
00C9 7E00              MOV     R6,#00H
00CB 120000      E     LCALL   _ClearDataCnt
                                           ; SOURCE LINE # 290
00CE 7FB2              MOV     R7,#0B2H
00D0 120000      R     LCALL   L?1316
                                           ; SOURCE LINE # 291
00D3 7FB3              MOV     R7,#0B3H
00D5 120000      R     LCALL   L?1221
                                           ; SOURCE LINE # 292
00D8 7FB4              MOV     R7,#0B4H
00DA 120000      R     LCALL   L?1270
                                           ; SOURCE LINE # 293
00DD 7FB5              MOV     R7,#0B5H
00DF 120000      R     LCALL   L?1270
                                           ; SOURCE LINE # 294
00E2 7D01              MOV     R5,#01H
00E4 7FB6              MOV     R7,#0B6H
00E6 7E00              MOV     R6,#00H
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 271 

00E8 120000      E     LCALL   _WriteEEP
                                           ; SOURCE LINE # 295
00EB 120000      E     LCALL   LoadEEPROM
                                           ; SOURCE LINE # 296
00EE E4                CLR     A
00EF FF                MOV     R7,A
00F0 120000      E     LCALL   _SaveOSDLangEE
                                           ; SOURCE LINE # 298
00F3 E4                CLR     A
00F4 FD                MOV     R5,A
00F5 7FB8              MOV     R7,#0B8H
00F7 FE                MOV     R6,A
00F8 120000      E     LCALL   _WriteEEP
                                           ; SOURCE LINE # 299
00FB 7FB8              MOV     R7,#0B8H
00FD 7E00              MOV     R6,#00H
00FF 120000      E     LCALL   _ReadEEP
0102 7800        E     MOV     R0,#LOW PelcoChoiceFLAG
0104 EF                MOV     A,R7
0105 F2                MOVX    @R0,A
                                           ; SOURCE LINE # 300
0106 7D01              MOV     R5,#01H
0108 7FB7              MOV     R7,#0B7H
010A 7E00              MOV     R6,#00H
010C 120000      E     LCALL   _WriteEEP
                                           ; SOURCE LINE # 301
010F 7FB7              MOV     R7,#0B7H
0111 7E00              MOV     R6,#00H
0113 120000      E     LCALL   _ReadEEP
0116 7800        E     MOV     R0,#LOW CAMNumber
0118 EF                MOV     A,R7
0119 F2                MOVX    @R0,A
                                           ; SOURCE LINE # 302
011A 7D02              MOV     R5,#02H
011C 7FB9              MOV     R7,#0B9H
011E 7E00              MOV     R6,#00H
0120 120000      E     LCALL   _WriteEEP
                                           ; SOURCE LINE # 303
0123 7FB9              MOV     R7,#0B9H
0125 7E00              MOV     R6,#00H
0127 120000      E     LCALL   _ReadEEP
012A 7800        E     MOV     R0,#LOW Baud_rate
012C EF                MOV     A,R7
012D F2                MOVX    @R0,A
                                           ; SOURCE LINE # 305
012E 020000      R     LJMP    InitOSDMenu
                                           ; SOURCE LINE # 306
0131         L?1171:
0131 7D01              MOV     R5,#01H
0133 7E00              MOV     R6,#00H
0135 120000      E     LCALL   _WriteEEP
0138 22                RET     
0139         L?1172:
0139 E4                CLR     A
013A FD                MOV     R5,A
013B FE                MOV     R6,A
013C 120000      E     LCALL   _WriteEEP
013F 22                RET     
0140         L?1184:
0140 E4                CLR     A
0141 FD                MOV     R5,A
0142 FE                MOV     R6,A
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 272 

0143 120000      E     LCALL   _WriteEEP
0146 22                RET     
0147         L?1191:
0147 7D01              MOV     R5,#01H
0149 7E00              MOV     R6,#00H
014B 120000      E     LCALL   _WriteEEP
014E 22                RET     
014F         L?1203:
014F E4                CLR     A
0150 FD                MOV     R5,A
0151 FE                MOV     R6,A
0152 120000      E     LCALL   _WriteEEP
0155 22                RET     
0156         L?1221:
0156 7D01              MOV     R5,#01H
0158 7E00              MOV     R6,#00H
015A 120000      E     LCALL   _WriteEEP
015D 22                RET     
015E         L?1229:
015E E4                CLR     A
015F FD                MOV     R5,A
0160 FE                MOV     R6,A
0161 120000      E     LCALL   _WriteEEP
0164 22                RET     
0165         L?1269:
0165 E4                CLR     A
0166 FD                MOV     R5,A
0167 FE                MOV     R6,A
0168 120000      E     LCALL   _WriteEEP
016B 22                RET     
016C         L?1270:
016C 7D01              MOV     R5,#01H
016E 7E00              MOV     R6,#00H
0170 120000      E     LCALL   _WriteEEP
0173 22                RET     
0174         L?1316:
0174 E4                CLR     A
0175 FD                MOV     R5,A
0176 FE                MOV     R6,A
0177 120000      E     LCALL   _WriteEEP
017A 22                RET     
             ; FUNCTION ResetOSDValue (END)

             ; FUNCTION GetOSDLang (BEGIN)
                                           ; SOURCE LINE # 340
                                           ; SOURCE LINE # 341
                                           ; SOURCE LINE # 342
0000 120000      E     LCALL   GetOSDLangEE
0003 7800        R     MOV     R0,#LOW OSDLang
0005 EF                MOV     A,R7
0006 F2                MOVX    @R0,A
                                           ; SOURCE LINE # 343
0007 75F005            MOV     B,#05H
000A 84                DIV     AB
000B AFF0              MOV     R7,B
000D EF                MOV     A,R7
000E F2                MOVX    @R0,A
                                           ; SOURCE LINE # 344
                                           ; SOURCE LINE # 345
000F         ?C0014:
000F 22                RET     
             ; FUNCTION GetOSDLang (END)
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 273 


             ; FUNCTION _SetLanguage (BEGIN)
                                           ; SOURCE LINE # 347
;---- Variable 'flag' assigned to Register 'R7' ----
                                           ; SOURCE LINE # 348
                                           ; SOURCE LINE # 350
0000 EF                MOV     A,R7
0001 B40104            CJNE    A,#01H,?C0015
0004 7F01              MOV     R7,#01H
0006 8002              SJMP    ?C0016
0008         ?C0015:
0008 7FFF              MOV     R7,#0FFH
000A         ?C0016:
;---- Variable 'inc' assigned to Register 'R7' ----
                                           ; SOURCE LINE # 351
000A 7800        R     MOV     R0,#LOW OSDLang
                                           ; SOURCE LINE # 352
000C 120000      R     LCALL   L?1302
000F AFF0              MOV     R7,B
0011 EF                MOV     A,R7
0012 F2                MOVX    @R0,A
                                           ; SOURCE LINE # 354
0013 120000      E     LCALL   _SaveOSDLangEE
                                           ; SOURCE LINE # 356
0016 7800        R     MOV     R0,#LOW OSDLang
0018 E2                MOVX    A,@R0
0019 FF                MOV     R7,A
                                           ; SOURCE LINE # 357
001A         ?C0017:
001A 22                RET     
             ; FUNCTION _SetLanguage (END)

             ; FUNCTION _SetRGBContrast (BEGIN)
                                           ; SOURCE LINE # 393
0000 7800        R     MOV     R0,#LOW val
0002 ED                MOV     A,R5
0003 F2                MOVX    @R0,A
;---- Variable 'temp' assigned to Register 'R7' ----
                                           ; SOURCE LINE # 394
                                           ; SOURCE LINE # 399
0004 EF                MOV     A,R7
0005 75F003            MOV     B,#03H
0008 A4                MUL     AB
0009 AEF0              MOV     R6,B
000B 2481              ADD     A,#081H
000D 7800        R     MOV     R0,#LOW index+01H
000F F2                MOVX    @R0,A
0010 E4                CLR     A
0011 3E                ADDC    A,R6
0012 18                DEC     R0
0013 F2                MOVX    @R0,A
                                           ; SOURCE LINE # 400
0014 E4                CLR     A
0015 7800        R     MOV     R0,#LOW i
0017 F2                MOVX    @R0,A
0018         ?C0018:
0018 7800        R     MOV     R0,#LOW i
001A E2                MOVX    A,@R0
001B FF                MOV     R7,A
001C C3                CLR     C
001D 9403              SUBB    A,#03H
001F 503F              JNC     ?C0021
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 274 

                                           ; SOURCE LINE # 401
                                           ; SOURCE LINE # 402
0021 18                DEC     R0
0022 E2                MOVX    A,@R0
0023 2F                ADD     A,R7
0024 120000      R     LCALL   L?1207
0027 120000      E     LCALL   _ReadEEP
002A 7800        R     MOV     R0,#LOW newval
002C 120000      R     LCALL   L?1138
                                           ; SOURCE LINE # 403
002F 7BFE              MOV     R3,#0FEH
0031 7A00        R     MOV     R2,#HIGH toValue
0033 7900        R     MOV     R1,#LOW toValue
0035 7800        E     MOV     R0,#LOW ?_Mapping1?BYTE+05H
0037 120000      E     LCALL   ?C?PSTPDATA
003A 7A00        R     MOV     R2,#HIGH PCUserColorTempRange
003C 7900        R     MOV     R1,#LOW PCUserColorTempRange
003E 120000      R     LCALL   L?1115
0041 120000      E     LCALL   _Mapping1
                                           ; SOURCE LINE # 404
0044 7800        R     MOV     R0,#LOW i
0046 E2                MOVX    A,@R0
0047 2471              ADD     A,#071H
0049 FD                MOV     R5,A
004A 7800        R     MOV     R0,#LOW toValue
004C 08                INC     R0
004D E2                MOVX    A,@R0
004E FF                MOV     R7,A
004F 7800        R     MOV     R0,#LOW val
0051 E2                MOVX    A,@R0
0052 2F                ADD     A,R7
0053 FB                MOV     R3,A
0054 7F8A              MOV     R7,#08AH
0056 120000      E     LCALL   _WriteI2C
                                           ; SOURCE LINE # 405
0059 7800        R     MOV     R0,#LOW i
005B E2                MOVX    A,@R0
005C 04                INC     A
005D F2                MOVX    @R0,A
005E 80B8              SJMP    ?C0018
                                           ; SOURCE LINE # 406
0060         ?C0021:
0060 22                RET     
             ; FUNCTION _SetRGBContrast (END)

             ; FUNCTION _SetPCColorTemp (BEGIN)
                                           ; SOURCE LINE # 420
;---- Variable 'flag' assigned to Register 'R7' ----
                                           ; SOURCE LINE # 421
                                           ; SOURCE LINE # 428
0000 EF                MOV     A,R7
0001 B40104            CJNE    A,#01H,?C0022
0004 7F01              MOV     R7,#01H
0006 8002              SJMP    ?C0023
0008         ?C0022:
0008 7FFF              MOV     R7,#0FFH
000A         ?C0023:
;---- Variable 'inc' assigned to Register 'R7' ----
                                           ; SOURCE LINE # 429
000A 7800        R     MOV     R0,#LOW OSDItemValue+01H
000C E2                MOVX    A,@R0
000D 2404              ADD     A,#04H
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 275 

000F FD                MOV     R5,A
0010 18                DEC     R0
0011 E2                MOVX    A,@R0
0012 3400              ADDC    A,#00H
0014 FC                MOV     R4,A
0015 EF                MOV     A,R7
0016 33                RLC     A
0017 95E0              SUBB    A,ACC
0019 FE                MOV     R6,A
001A ED                MOV     A,R5
001B 2F                ADD     A,R7
001C FF                MOV     R7,A
001D EC                MOV     A,R4
001E 3E                ADDC    A,R6
001F F2                MOVX    @R0,A
0020 08                INC     R0
0021 EF                MOV     A,R7
0022 F2                MOVX    @R0,A
                                           ; SOURCE LINE # 430
0023 7E00              MOV     R6,#00H
0025 120000      R     LCALL   L?1234
                                           ; SOURCE LINE # 432
0028 FD                MOV     R5,A
0029 7F80              MOV     R7,#080H
002B 120000      E     LCALL   _WriteEEP
                                           ; SOURCE LINE # 433
002E 7F10              MOV     R7,#010H
0030 7E00              MOV     R6,#00H
0032 120000      E     LCALL   _ReadEEP
;---- Variable 'val' assigned to Register 'R7' ----
                                           ; SOURCE LINE # 434
0035 7A00        R     MOV     R2,#HIGH regv
0037 7900        R     MOV     R1,#LOW regv
0039 120000      R     LCALL   L?1113
003C 120000      E     LCALL   _Mapping1
                                           ; SOURCE LINE # 435
003F 7800        R     MOV     R0,#LOW OSDItemValue
0041 08                INC     R0
0042 E2                MOVX    A,@R0
0043 FF                MOV     R7,A
0044 7800        R     MOV     R0,#LOW regv
0046 08                INC     R0
0047 E2                MOVX    A,@R0
0048 FD                MOV     R5,A
0049 120000      R     LCALL   _SetRGBContrast
                                           ; SOURCE LINE # 437
004C 7F80              MOV     R7,#080H
004E 7E00              MOV     R6,#00H
0050 120000      E     LCALL   _ReadEEP
0053 EF                MOV     A,R7
0054 6403              XRL     A,#03H
0056 7B8A              MOV     R3,#08AH
0058 6004              JZ      ?C0024
                                           ; SOURCE LINE # 438
005A 7D30              MOV     R5,#030H
005C 8002              SJMP    ?C0914
005E         ?C0024:
                                           ; SOURCE LINE # 440
005E 7D37              MOV     R5,#037H
0060         ?C0914:
0060 7F3D              MOV     R7,#03DH
0062 7E00              MOV     R6,#00H
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 276 

0064 120000      E     LCALL   _DrawAttrCnt
0067         ?C0025:
                                           ; SOURCE LINE # 442
0067 7800        R     MOV     R0,#LOW OSDItemValue
0069 08                INC     R0
006A E2                MOVX    A,@R0
006B FF                MOV     R7,A
                                           ; SOURCE LINE # 443
006C         ?C0026:
006C 22                RET     
             ; FUNCTION _SetPCColorTemp (END)

             ; FUNCTION _GetPCColorTemp (BEGIN)
                                           ; SOURCE LINE # 446
;---- Variable 'color' assigned to Register 'R7' ----
                                           ; SOURCE LINE # 447
                                           ; SOURCE LINE # 448
0000 EF                MOV     A,R7
0001 248A              ADD     A,#08AH
0003 FF                MOV     R7,A
0004 E4                CLR     A
0005 33                RLC     A
0006 FE                MOV     R6,A
0007 120000      E     LCALL   _ReadEEP
000A 7E00              MOV     R6,#00H
000C 120000      R     LCALL   L?1153
                                           ; SOURCE LINE # 449
                                           ; SOURCE LINE # 450
000F         ?C0027:
000F 22                RET     
             ; FUNCTION _GetPCColorTemp (END)

             ; FUNCTION _SetPCColor (BEGIN)
                                           ; SOURCE LINE # 453
0000 7800        R     MOV     R0,#LOW color
0002 EF                MOV     A,R7
0003 F2                MOVX    @R0,A
;---- Variable 'flag' assigned to Register 'R5' ----
                                           ; SOURCE LINE # 454
                                           ; SOURCE LINE # 458
0004 ED                MOV     A,R5
0005 7800        R     MOV     R0,#LOW OSDItemValue+01H
0007 B40105            CJNE    A,#01H,?C0028
000A 120000      R     LCALL   L?1205
000D 8003              SJMP    ?C0029
000F         ?C0028:
000F 120000      R     LCALL   L?1264
0012         ?C0029:
0012 7800        R     MOV     R0,#LOW newval
                                           ; SOURCE LINE # 459
0014 120000      R     LCALL   L?1155
0017 5017              JNC     ?C0031
0019 900000      R     MOV     DPTR,#UserRange+02H
001C 120000      R     LCALL   L?1127
001F 7800        R     MOV     R0,#LOW newval+01H
0021 E2                MOVX    A,@R0
0022 9F                SUBB    A,R7
0023 EE                MOV     A,R6
0024 6480              XRL     A,#080H
0026 F5F0              MOV     B,A
0028 18                DEC     R0
0029 E2                MOVX    A,@R0
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 277 

002A 6480              XRL     A,#080H
002C 95F0              SUBB    A,B
002E 4002              JC      ?C0030
0030         ?C0031:
                                           ; SOURCE LINE # 460
0030 8054              SJMP    ?C0915
0032         ?C0030:
                                           ; SOURCE LINE # 462
0032 7800        R     MOV     R0,#LOW newval
0034 120000      R     LCALL   L?1151
                                           ; SOURCE LINE # 463
0037 7BFE              MOV     R3,#0FEH
0039 7A00        R     MOV     R2,#HIGH toValue
003B 7900        R     MOV     R1,#LOW toValue
003D 120000      R     LCALL   L?1131
0040 7A00        R     MOV     R2,#HIGH PCUserColorTempRange
0042 7900        R     MOV     R1,#LOW PCUserColorTempRange
0044 120000      R     LCALL   L?1116
0047 120000      E     LCALL   _Mapping1
                                           ; SOURCE LINE # 464
004A 7800        R     MOV     R0,#LOW color
004C E2                MOVX    A,@R0
004D 248A              ADD     A,#08AH
004F FF                MOV     R7,A
0050 E4                CLR     A
0051 33                RLC     A
0052 FE                MOV     R6,A
0053 08                INC     R0
0054 08                INC     R0
0055 E2                MOVX    A,@R0
0056 FD                MOV     R5,A
0057 120000      E     LCALL   _WriteEEP
                                           ; SOURCE LINE # 466
005A 7F10              MOV     R7,#010H
005C 7E00              MOV     R6,#00H
005E 120000      E     LCALL   _ReadEEP
0061 7800        R     MOV     R0,#LOW newval
                                           ; SOURCE LINE # 467
0063 120000      R     LCALL   L?1303
0066 7A00        R     MOV     R2,#HIGH regv
0068 7900        R     MOV     R1,#LOW regv
006A 120000      R     LCALL   L?1114
006D 120000      E     LCALL   _Mapping1
                                           ; SOURCE LINE # 469
0070 7800        R     MOV     R0,#LOW color
0072 E2                MOVX    A,@R0
0073 2471              ADD     A,#071H
0075 FD                MOV     R5,A
0076 7800        R     MOV     R0,#LOW regv
0078 08                INC     R0
0079 E2                MOVX    A,@R0
007A FF                MOV     R7,A
007B 7800        R     MOV     R0,#LOW toValue
007D 08                INC     R0
007E E2                MOVX    A,@R0
007F 2F                ADD     A,R7
0080 FB                MOV     R3,A
0081 7F8A              MOV     R7,#08AH
0083 120000      E     LCALL   _WriteI2C
                                           ; SOURCE LINE # 471
0086         ?C0915:
0086 7800        R     MOV     R0,#LOW OSDItemValue
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 278 

0088 08                INC     R0
0089 E2                MOVX    A,@R0
008A FF                MOV     R7,A
                                           ; SOURCE LINE # 472
008B         ?C0032:
008B 22                RET     
             ; FUNCTION _SetPCColor (END)

             ; FUNCTION ResetPanelAttributeValue (BEGIN)
                                           ; SOURCE LINE # 478
                                           ; SOURCE LINE # 479
                                           ; SOURCE LINE # 482
0000 7D03              MOV     R5,#03H
0002 7F80              MOV     R7,#080H
0004 7E00              MOV     R6,#00H
0006 120000      E     LCALL   _WriteEEP
                                           ; SOURCE LINE # 483
0009 E4                CLR     A
000A 7800        R     MOV     R0,#LOW j
000C F2                MOVX    @R0,A
000D         ?C0033:
                                           ; SOURCE LINE # 484
000D E4                CLR     A
000E 7800        R     MOV     R0,#LOW i
0010 F2                MOVX    @R0,A
0011         ?C0036:
0011 7800        R     MOV     R0,#LOW i
0013 E2                MOVX    A,@R0
0014 FD                MOV     R5,A
0015 C3                CLR     C
0016 9403              SUBB    A,#03H
0018 503B              JNC     ?C0035
                                           ; SOURCE LINE # 485
001A 08                INC     R0
001B E2                MOVX    A,@R0
001C FC                MOV     R4,A
001D 75F003            MOV     B,#03H
0020 A4                MUL     AB
0021 2481              ADD     A,#081H
0023 FF                MOV     R7,A
0024 E4                CLR     A
0025 35F0              ADDC    A,B
0027 FE                MOV     R6,A
0028 ED                MOV     A,R5
0029 7A00              MOV     R2,#00H
002B 2F                ADD     A,R7
002C FF                MOV     R7,A
002D EA                MOV     A,R2
002E 3E                ADDC    A,R6
002F FE                MOV     R6,A
0030 EC                MOV     A,R4
0031 75F003            MOV     B,#03H
0034 A4                MUL     AB
0035 2400        R     ADD     A,#LOW PCColorTempRGB
0037 F582              MOV     DPL,A
0039 E4                CLR     A
003A 3400        R     ADDC    A,#HIGH PCColorTempRGB
003C F583              MOV     DPH,A
003E E582              MOV     A,DPL
0040 2D                ADD     A,R5
0041 F582              MOV     DPL,A
0043 E4                CLR     A
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 279 

0044 3583              ADDC    A,DPH
0046 F583              MOV     DPH,A
0048 E4                CLR     A
0049 93                MOVC    A,@A+DPTR
004A FD                MOV     R5,A
004B 120000      E     LCALL   _WriteEEP
004E 7800        R     MOV     R0,#LOW i
0050 E2                MOVX    A,@R0
0051 04                INC     A
0052 F2                MOVX    @R0,A
0053 80BC              SJMP    ?C0036
0055         ?C0035:
0055 7800        R     MOV     R0,#LOW j
0057 E2                MOVX    A,@R0
0058 04                INC     A
0059 F2                MOVX    @R0,A
005A E2                MOVX    A,@R0
005B C3                CLR     C
005C 9404              SUBB    A,#04H
005E 40AD              JC      ?C0033
0060         ?C0034:
                                           ; SOURCE LINE # 487
0060 7F10              MOV     R7,#010H
0062 120000      R     LCALL   L?1283
                                           ; SOURCE LINE # 488
0065 7F11              MOV     R7,#011H
0067 120000      R     LCALL   L?1283
                                           ; SOURCE LINE # 490
006A 020000      E     LJMP    GetInitPanelAttribute1
                                           ; SOURCE LINE # 491
006D         L?1283:
006D 900000      R     MOV     DPTR,#UserRange+04H
0070 E4                CLR     A
0071 7401              MOV     A,#01H
0073 93                MOVC    A,@A+DPTR
0074 FD                MOV     R5,A
0075 7E00              MOV     R6,#00H
0077 120000      E     LCALL   _WriteEEP
007A 22                RET     
             ; FUNCTION ResetPanelAttributeValue (END)

             ; FUNCTION _SetPanelContrast (BEGIN)
                                           ; SOURCE LINE # 493
;---- Variable 'flag' assigned to Register 'R7' ----
                                           ; SOURCE LINE # 494
                                           ; SOURCE LINE # 498
0000 EF                MOV     A,R7
0001 7800        R     MOV     R0,#LOW OSDItemValue+01H
0003 B40105            CJNE    A,#01H,?C0040
0006 120000      R     LCALL   L?1205
0009 8003              SJMP    ?C0041
000B         ?C0040:
000B 120000      R     LCALL   L?1264
000E         ?C0041:
000E 7800        R     MOV     R0,#LOW newval
                                           ; SOURCE LINE # 499
0010 120000      R     LCALL   L?1155
0013 5007              JNC     ?C0043
0015 7800        R     MOV     R0,#LOW newval
0017 120000      R     LCALL   L?1200
001A 4006              JC      ?C0042
001C         ?C0043:
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 280 

                                           ; SOURCE LINE # 500
001C 7800        R     MOV     R0,#LOW OSDItemValue
001E 08                INC     R0
001F E2                MOVX    A,@R0
0020 FF                MOV     R7,A
0021 22                RET     
0022         ?C0042:
                                           ; SOURCE LINE # 502
0022 AF03              MOV     R7,AR3
0024 AE02              MOV     R6,AR2
0026 7BFE              MOV     R3,#0FEH
0028 7A00        R     MOV     R2,#HIGH regv
002A 7900        R     MOV     R1,#LOW regv
002C 120000      R     LCALL   L?1114
002F 120000      E     LCALL   _Mapping1
                                           ; SOURCE LINE # 503
0032 7F80              MOV     R7,#080H
0034 7E00              MOV     R6,#00H
0036 120000      E     LCALL   _ReadEEP
0039 7800        R     MOV     R0,#LOW regv
003B 08                INC     R0
003C E2                MOVX    A,@R0
003D FD                MOV     R5,A
003E 120000      R     LCALL   _SetRGBContrast
                                           ; SOURCE LINE # 504
0041 7800        R     MOV     R0,#LOW newval
0043 08                INC     R0
0044 E2                MOVX    A,@R0
0045 FD                MOV     R5,A
0046 7F10              MOV     R7,#010H
0048 7E00              MOV     R6,#00H
004A 120000      E     LCALL   _WriteEEP
                                           ; SOURCE LINE # 506
004D 7800        R     MOV     R0,#LOW newval
004F 120000      R     LCALL   L?1151
                                           ; SOURCE LINE # 507
                                           ; SOURCE LINE # 508
0052         ?C0044:
0052 22                RET     
             ; FUNCTION _SetPanelContrast (END)

             ; FUNCTION _SetPanelBrightness (BEGIN)
                                           ; SOURCE LINE # 510
;---- Variable 'flag' assigned to Register 'R7' ----
                                           ; SOURCE LINE # 511
                                           ; SOURCE LINE # 515
0000 EF                MOV     A,R7
0001 7800        R     MOV     R0,#LOW OSDItemValue+01H
0003 B40105            CJNE    A,#01H,?C0045
0006 120000      R     LCALL   L?1206
0009 8003              SJMP    ?C0046
000B         ?C0045:
000B 120000      R     LCALL   L?1265
000E         ?C0046:
000E 7800        R     MOV     R0,#LOW newv
                                           ; SOURCE LINE # 516
0010 120000      R     LCALL   L?1156
0013 5007              JNC     ?C0048
0015 7800        R     MOV     R0,#LOW newv
0017 120000      R     LCALL   L?1200
001A 4006              JC      ?C0047
001C         ?C0048:
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 281 

                                           ; SOURCE LINE # 517
001C 7800        R     MOV     R0,#LOW OSDItemValue
001E 08                INC     R0
001F E2                MOVX    A,@R0
0020 FF                MOV     R7,A
0021 22                RET     
0022         ?C0047:
                                           ; SOURCE LINE # 519
0022 AF03              MOV     R7,AR3
0024 AE02              MOV     R6,AR2
0026 7BFE              MOV     R3,#0FEH
0028 7A00        R     MOV     R2,#HIGH regv
002A 7900        R     MOV     R1,#LOW regv
002C 120000      R     LCALL   L?1131
002F 7A00        R     MOV     R2,#HIGH PanelBrightnessRange
0031 7900        R     MOV     R1,#LOW PanelBrightnessRange
0033 120000      R     LCALL   L?1116
0036 120000      E     LCALL   _Mapping1
                                           ; SOURCE LINE # 520
0039 7D74              MOV     R5,#074H
003B 120000      R     LCALL   L?1256
                                           ; SOURCE LINE # 521
003E 7D75              MOV     R5,#075H
0040 120000      R     LCALL   L?1256
                                           ; SOURCE LINE # 522
0043 7800        R     MOV     R0,#LOW regv
0045 08                INC     R0
0046 E2                MOVX    A,@R0
0047 FB                MOV     R3,A
0048 7D76              MOV     R5,#076H
004A 7F8A              MOV     R7,#08AH
004C 120000      E     LCALL   _WriteI2C
                                           ; SOURCE LINE # 523
004F 7800        R     MOV     R0,#LOW newv
0051 08                INC     R0
0052 E2                MOVX    A,@R0
0053 FD                MOV     R5,A
0054 7F11              MOV     R7,#011H
0056 7E00              MOV     R6,#00H
0058 120000      E     LCALL   _WriteEEP
                                           ; SOURCE LINE # 524
005B 7800        R     MOV     R0,#LOW newv
005D 120000      R     LCALL   L?1152
                                           ; SOURCE LINE # 525
                                           ; SOURCE LINE # 526
0060         ?C0049:
0060 22                RET     
0061         L?1256:
0061 7800        R     MOV     R0,#LOW regv
0063 08                INC     R0
0064 E2                MOVX    A,@R0
0065 FB                MOV     R3,A
0066 7F8A              MOV     R7,#08AH
0068 120000      E     LCALL   _WriteI2C
006B 22                RET     
             ; FUNCTION _SetPanelBrightness (END)

             ; FUNCTION CheckPanelImage (BEGIN)
                                           ; SOURCE LINE # 530
                                           ; SOURCE LINE # 531
                                           ; SOURCE LINE # 534
0000 7800        E     MOV     R0,#LOW InputSelection
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 282 

0002 E2                MOVX    A,@R0
0003 6407              XRL     A,#07H
0005 7056              JNZ     ?C0050
                                           ; SOURCE LINE # 535
                                           ; SOURCE LINE # 537
0007 7F11              MOV     R7,#011H
0009 FE                MOV     R6,A
000A 120000      E     LCALL   _ReadEEP
000D 7E00              MOV     R6,#00H
;---- Variable 'newv' assigned to Register 'R6/R7' ----
                                           ; SOURCE LINE # 538
000F 7BFE              MOV     R3,#0FEH
0011 7A00        R     MOV     R2,#HIGH regv
0013 7900        R     MOV     R1,#LOW regv
0015 120000      R     LCALL   L?1131
0018 7A00        R     MOV     R2,#HIGH PanelBrightnessRange
001A 7900        R     MOV     R1,#LOW PanelBrightnessRange
001C 120000      R     LCALL   L?1116
001F 120000      E     LCALL   _Mapping1
                                           ; SOURCE LINE # 539
0022 120000      R     LCALL   L?1188
                                           ; SOURCE LINE # 540
0025 7800        R     MOV     R0,#LOW regv
0027 08                INC     R0
0028 E2                MOVX    A,@R0
0029 FB                MOV     R3,A
002A 120000      R     LCALL   L?1204
                                           ; SOURCE LINE # 541
002D 7800        R     MOV     R0,#LOW regv
002F 08                INC     R0
0030 E2                MOVX    A,@R0
0031 FB                MOV     R3,A
0032 120000      R     LCALL   L?1222
                                           ; SOURCE LINE # 542
0035 7800        R     MOV     R0,#LOW regv
0037 08                INC     R0
0038 E2                MOVX    A,@R0
0039 FB                MOV     R3,A
003A 120000      R     LCALL   L?1237
                                           ; SOURCE LINE # 545
003D 7F10              MOV     R7,#010H
003F 7E00              MOV     R6,#00H
0041 120000      E     LCALL   _ReadEEP
;---- Variable 'newval' assigned to Register 'R6/R7' ----
                                           ; SOURCE LINE # 546
0044 7A00        R     MOV     R2,#HIGH regv
0046 7900        R     MOV     R1,#LOW regv
0048 120000      R     LCALL   L?1113
004B 120000      E     LCALL   _Mapping1
                                           ; SOURCE LINE # 547
004E 7F80              MOV     R7,#080H
0050 7E00              MOV     R6,#00H
0052 120000      E     LCALL   _ReadEEP
0055 7800        R     MOV     R0,#LOW regv
0057 08                INC     R0
0058 E2                MOVX    A,@R0
0059 FD                MOV     R5,A
005A 020000      R     LJMP    _SetRGBContrast
                                           ; SOURCE LINE # 548
005D         ?C0050:
                                           ; SOURCE LINE # 550
                                           ; SOURCE LINE # 551
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 283 

005D 120000      R     LCALL   L?1188
                                           ; SOURCE LINE # 552
0060 7B80              MOV     R3,#080H
0062 120000      R     LCALL   L?1204
                                           ; SOURCE LINE # 553
0065 7B80              MOV     R3,#080H
0067 120000      R     LCALL   L?1222
                                           ; SOURCE LINE # 554
006A 7B80              MOV     R3,#080H
006C 120000      R     LCALL   L?1237
                                           ; SOURCE LINE # 555
006F 7D71              MOV     R5,#071H
0071 120000      R     LCALL   L?1292
                                           ; SOURCE LINE # 556
0074 7D72              MOV     R5,#072H
0076 120000      R     LCALL   L?1292
                                           ; SOURCE LINE # 557
0079 7B80              MOV     R3,#080H
007B 7D73              MOV     R5,#073H
007D 7F8A              MOV     R7,#08AH
007F 120000      E     LCALL   _WriteI2C
                                           ; SOURCE LINE # 558
0082 7D70              MOV     R5,#070H
0084 7F8A              MOV     R7,#08AH
0086 120000      E     LCALL   _ReadI2C
0089 EF                MOV     A,R7
008A 4440              ORL     A,#040H
008C FB                MOV     R3,A
008D 7D70              MOV     R5,#070H
008F 7F8A              MOV     R7,#08AH
0091 120000      E     LCALL   _WriteI2C
                                           ; SOURCE LINE # 559
                                           ; SOURCE LINE # 561
0094         ?C0052:
0094 22                RET     
0095         L?1188:
0095 7D70              MOV     R5,#070H
0097 7F8A              MOV     R7,#08AH
0099 120000      E     LCALL   _ReadI2C
009C EF                MOV     A,R7
009D 54BF              ANL     A,#0BFH
009F FB                MOV     R3,A
00A0 7D70              MOV     R5,#070H
00A2 7F8A              MOV     R7,#08AH
00A4 120000      E     LCALL   _WriteI2C
00A7 22                RET     
00A8         L?1204:
00A8 7D74              MOV     R5,#074H
00AA 7F8A              MOV     R7,#08AH
00AC 120000      E     LCALL   _WriteI2C
00AF 22                RET     
00B0         L?1222:
00B0 7D75              MOV     R5,#075H
00B2 7F8A              MOV     R7,#08AH
00B4 120000      E     LCALL   _WriteI2C
00B7 22                RET     
00B8         L?1237:
00B8 7D76              MOV     R5,#076H
00BA 7F8A              MOV     R7,#08AH
00BC 120000      E     LCALL   _WriteI2C
00BF 22                RET     
00C0         L?1292:
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 284 

00C0 7B80              MOV     R3,#080H
00C2 7F8A              MOV     R7,#08AH
00C4 120000      E     LCALL   _WriteI2C
00C7 22                RET     
             ; FUNCTION CheckPanelImage (END)

             ; FUNCTION _SetVideoMode (BEGIN)
                                           ; SOURCE LINE # 572
0000 7800        R     MOV     R0,#LOW mode
0002 EF                MOV     A,R7
0003 F2                MOVX    @R0,A
0004 FD                MOV     R5,A
                                           ; SOURCE LINE # 573
                                           ; SOURCE LINE # 576
0005 7F0B              MOV     R7,#0BH
0007 7E00              MOV     R6,#00H
0009 120000      E     LCALL   _WriteEEP
                                           ; SOURCE LINE # 578
000C 7800        R     MOV     R0,#LOW mode
000E E2                MOVX    A,@R0
000F 6403              XRL     A,#03H
0011 606B              JZ      ?C0053
                                           ; SOURCE LINE # 580
0013 E4                CLR     A
0014 08                INC     R0
0015 F2                MOVX    @R0,A
0016 08                INC     R0
0017 F2                MOVX    @R0,A
0018         ?C0054:
0018 7800        R     MOV     R0,#LOW i
001A E2                MOVX    A,@R0
001B FE                MOV     R6,A
001C 08                INC     R0
001D E2                MOVX    A,@R0
001E FF                MOV     R7,A
001F C3                CLR     C
0020 940F              SUBB    A,#0FH
0022 EE                MOV     A,R6
0023 6480              XRL     A,#080H
0025 9480              SUBB    A,#080H
0027 5039              JNC     ?C0055
                                           ; SOURCE LINE # 581
0029 7800        R     MOV     R0,#LOW mode
002B E2                MOVX    A,@R0
002C C4                SWAP    A
002D 54F0              ANL     A,#0F0H
002F 2400        R     ADD     A,#LOW VideoModeTable+010H
0031 F582              MOV     DPL,A
0033 E4                CLR     A
0034 3400        R     ADDC    A,#HIGH VideoModeTable+010H
0036 F583              MOV     DPH,A
0038 E582              MOV     A,DPL
003A 2F                ADD     A,R7
003B F582              MOV     DPL,A
003D E583              MOV     A,DPH
003F 3E                ADDC    A,R6
0040 F583              MOV     DPH,A
0042 E4                CLR     A
0043 93                MOVC    A,@A+DPTR
0044 FB                MOV     R3,A
0045 08                INC     R0
0046 E2                MOVX    A,@R0
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 285 

0047 FE                MOV     R6,A
0048 08                INC     R0
0049 E2                MOVX    A,@R0
004A 2400        R     ADD     A,#LOW VideoModeTable
004C F582              MOV     DPL,A
004E 7400        R     MOV     A,#HIGH VideoModeTable
0050 3E                ADDC    A,R6
0051 F583              MOV     DPH,A
0053 E4                CLR     A
0054 93                MOVC    A,@A+DPTR
0055 FD                MOV     R5,A
0056 7F8A              MOV     R7,#08AH
0058 120000      E     LCALL   _WriteI2C
005B 7800        R     MOV     R0,#LOW i+01H
005D 120000      R     LCALL   L?1103
0060 80B6              SJMP    ?C0054
0062         ?C0055:
                                           ; SOURCE LINE # 583
0062 7800        R     MOV     R0,#LOW mode
0064 E2                MOVX    A,@R0
0065 C4                SWAP    A
0066 54F0              ANL     A,#0F0H
0068 2400        R     ADD     A,#LOW VideoModeTable+01FH
006A F582              MOV     DPL,A
006C E4                CLR     A
006D 3400        R     ADDC    A,#HIGH VideoModeTable+01FH
006F F583              MOV     DPH,A
0071 E4                CLR     A
0072 93                MOVC    A,@A+DPTR
0073 FF                MOV     R7,A
0074 7800        R     MOV     R0,#LOW regv
0076 E4                CLR     A
0077 F2                MOVX    @R0,A
0078 08                INC     R0
0079 EF                MOV     A,R7
007A F2                MOVX    @R0,A
                                           ; SOURCE LINE # 584
007B 18                DEC     R0
                                           ; SOURCE LINE # 585
                                           ; SOURCE LINE # 587
007C 804D              SJMP    ?C0916
007E         ?C0053:
                                           ; SOURCE LINE # 589
                                           ; SOURCE LINE # 591
                                           ; SOURCE LINE # 595
007E E4                CLR     A
007F FF                MOV     R7,A
0080 120000      R     LCALL   _GetVideoDatawithOffset
0083 120000      R     LCALL   _SetVideoContrast
                                           ; SOURCE LINE # 596
0086 7F01              MOV     R7,#01H
0088 120000      R     LCALL   _GetVideoDatawithOffset
008B 120000      R     LCALL   _SetVideoBrightness
                                           ; SOURCE LINE # 597
008E 7F02              MOV     R7,#02H
0090 120000      R     LCALL   _GetVideoDatawithOffset
0093 AD07              MOV     R5,AR7
0095 E4                CLR     A
0096 FF                MOV     R7,A
0097 120000      R     LCALL   _SetVideoSaturation
                                           ; SOURCE LINE # 598
009A 7F03              MOV     R7,#03H
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 286 

009C 120000      R     LCALL   _GetVideoDatawithOffset
009F AD07              MOV     R5,AR7
00A1 7F01              MOV     R7,#01H
00A3 120000      R     LCALL   _SetVideoSaturation
                                           ; SOURCE LINE # 599
00A6 7F04              MOV     R7,#04H
00A8 120000      R     LCALL   _GetVideoDatawithOffset
00AB 120000      R     LCALL   _SetVideoHue
                                           ; SOURCE LINE # 601
00AE 7F05              MOV     R7,#05H
00B0 120000      R     LCALL   _GetVideoDatawithOffset
00B3 7800        R     MOV     R0,#LOW userv
                                           ; SOURCE LINE # 602
00B5 120000      R     LCALL   L?1303
00B8 7A00        R     MOV     R2,#HIGH regv
00BA 7900        R     MOV     R1,#LOW regv
00BC 120000      R     LCALL   L?1131
00BF 7A00        R     MOV     R2,#HIGH VideoSharpnessRange
00C1 7900        R     MOV     R1,#LOW VideoSharpnessRange
00C3 120000      R     LCALL   L?1116
00C6 120000      E     LCALL   _Mapping1
                                           ; SOURCE LINE # 603
                                           ; SOURCE LINE # 604
00C9 7800        R     MOV     R0,#LOW regv
00CB         ?C0916:
00CB 120000      R     LCALL   L?1291
00CE 120000      E     LCALL   _WriteI2C
                                           ; SOURCE LINE # 605
00D1 7D17              MOV     R5,#017H
00D3 7F8A              MOV     R7,#08AH
00D5 120000      E     LCALL   _ReadI2C
00D8 7800        R     MOV     R0,#LOW regv
00DA 120000      R     LCALL   L?1273
00DD 120000      E     LCALL   _WriteI2C
                                           ; SOURCE LINE # 610
                                           ; SOURCE LINE # 612
00E0         ?C0058:
00E0 22                RET     
             ; FUNCTION _SetVideoMode (END)

             ; FUNCTION IsInputAnalogRGB (BEGIN)
                                           ; SOURCE LINE # 614
                                           ; SOURCE LINE # 615
                                           ; SOURCE LINE # 622
0000 7F00              MOV     R7,#00H
                                           ; SOURCE LINE # 623
0002         ?C0059:
0002 22                RET     
             ; FUNCTION IsInputAnalogRGB (END)

             ; FUNCTION _GetVideoDatawithOffset (BEGIN)
                                           ; SOURCE LINE # 625
;---- Variable 'offset' assigned to Register 'R7' ----
                                           ; SOURCE LINE # 626
                                           ; SOURCE LINE # 627
0000 120000      E     LCALL   _GetVideoDatafromEE
0003 7E00              MOV     R6,#00H
0005 120000      R     LCALL   L?1153
                                           ; SOURCE LINE # 629
                                           ; SOURCE LINE # 630
0008         ?C0060:
0008 22                RET     
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 287 

             ; FUNCTION _GetVideoDatawithOffset (END)

             ; FUNCTION _ChangeVideoData (BEGIN)
                                           ; SOURCE LINE # 632
0000 7800        R     MOV     R0,#LOW offset
0002 EF                MOV     A,R7
0003 F2                MOVX    @R0,A
;---- Variable 'flag' assigned to Register 'R5' ----
                                           ; SOURCE LINE # 633
                                           ; SOURCE LINE # 636
0004 ED                MOV     A,R5
0005 B40106            CJNE    A,#01H,?C0061
0008 7E00              MOV     R6,#00H
000A 7F01              MOV     R7,#01H
000C 8004              SJMP    ?C0062
000E         ?C0061:
000E 7EFF              MOV     R6,#0FFH
0010 7FFF              MOV     R7,#0FFH
0012         ?C0062:
;---- Variable 'inc' assigned to Register 'R6/R7' ----
                                           ; SOURCE LINE # 638
0012 7800        R     MOV     R0,#LOW OSDItemValue
0014 E2                MOVX    A,@R0
0015 FC                MOV     R4,A
0016 08                INC     R0
0017 E2                MOVX    A,@R0
0018 FD                MOV     R5,A
0019 2F                ADD     A,R7
001A FF                MOV     R7,A
001B EC                MOV     A,R4
001C 3E                ADDC    A,R6
001D FE                MOV     R6,A
001E 7800        R     MOV     R0,#LOW newv
                                           ; SOURCE LINE # 639
0020 120000      R     LCALL   L?1157
0023 5014              JNC     ?C0064
0025 900000      R     MOV     DPTR,#UserRange+02H
0028 120000      R     LCALL   L?1127
002B 7800        R     MOV     R0,#LOW newv
002D E2                MOVX    A,@R0
002E FA                MOV     R2,A
002F 08                INC     R0
0030 E2                MOVX    A,@R0
0031 FB                MOV     R3,A
0032 9F                SUBB    A,R7
0033 EE                MOV     A,R6
0034 120000      R     LCALL   L?1201
0037 4003              JC      ?C0063
0039         ?C0064:
                                           ; SOURCE LINE # 640
0039 AF05              MOV     R7,AR5
003B 22                RET     
                                           ; SOURCE LINE # 641
003C         ?C0063:
                                           ; SOURCE LINE # 643
003C 7800        R     MOV     R0,#LOW offset
003E E2                MOVX    A,@R0
003F 14                DEC     A
0040 6018              JZ      ?C0068
0042 14                DEC     A
0043 601F              JZ      ?C0070
0045 14                DEC     A
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 288 

0046 601C              JZ      ?C0070
0048 14                DEC     A
0049 6028              JZ      ?C0071
004B 24FD              ADD     A,#0FDH
004D 602E              JZ      ?C0072
004F 2407              ADD     A,#07H
0051 7032              JNZ     ?C0066
                                           ; SOURCE LINE # 644
                                           ; SOURCE LINE # 645
0053         ?C0067:
0053 AF03              MOV     R7,AR3
0055 120000      R     LCALL   _SetVideoContrast
                                           ; SOURCE LINE # 646
0058 802B              SJMP    ?C0066
                                           ; SOURCE LINE # 647
005A         ?C0068:
005A 7800        R     MOV     R0,#LOW newv
005C 08                INC     R0
005D E2                MOVX    A,@R0
005E FF                MOV     R7,A
005F 120000      R     LCALL   _SetVideoBrightness
                                           ; SOURCE LINE # 648
0062 8021              SJMP    ?C0066
                                           ; SOURCE LINE # 649
                                           ; SOURCE LINE # 650
0064         ?C0070:
                                           ; SOURCE LINE # 651
0064 7800        R     MOV     R0,#LOW offset
0066 E2                MOVX    A,@R0
0067 24FE              ADD     A,#0FEH
0069 FF                MOV     R7,A
006A 08                INC     R0
006B 08                INC     R0
006C E2                MOVX    A,@R0
006D FD                MOV     R5,A
006E 120000      R     LCALL   _SetVideoSaturation
                                           ; SOURCE LINE # 652
0071 8012              SJMP    ?C0066
                                           ; SOURCE LINE # 653
0073         ?C0071:
0073 7800        R     MOV     R0,#LOW newv
0075 08                INC     R0
0076 E2                MOVX    A,@R0
0077 FF                MOV     R7,A
0078 120000      R     LCALL   _SetVideoHue
                                           ; SOURCE LINE # 654
007B 8008              SJMP    ?C0066
                                           ; SOURCE LINE # 655
007D         ?C0072:
007D 7800        R     MOV     R0,#LOW newv
007F 08                INC     R0
0080 E2                MOVX    A,@R0
0081 FF                MOV     R7,A
0082 120000      R     LCALL   _SetVideoBacklight
                                           ; SOURCE LINE # 656
                                           ; SOURCE LINE # 657
0085         ?C0066:
                                           ; SOURCE LINE # 659
0085 7800        R     MOV     R0,#LOW offset
0087 E2                MOVX    A,@R0
0088 FF                MOV     R7,A
0089 08                INC     R0
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 289 

008A 08                INC     R0
008B E2                MOVX    A,@R0
008C FD                MOV     R5,A
008D 120000      E     LCALL   _SaveVideoDatatoEE
                                           ; SOURCE LINE # 661
0090 7800        R     MOV     R0,#LOW newv
0092 120000      R     LCALL   L?1152
                                           ; SOURCE LINE # 662
                                           ; SOURCE LINE # 664
0095         ?C0065:
0095 22                RET     
             ; FUNCTION _ChangeVideoData (END)

             ; FUNCTION _SetVideoContrast (BEGIN)
                                           ; SOURCE LINE # 666
;---- Variable 'newv' assigned to Register 'R7' ----
                                           ; SOURCE LINE # 667
                                           ; SOURCE LINE # 670
0000 7E00              MOV     R6,#00H
0002 7BFE              MOV     R3,#0FEH
0004 7A00        R     MOV     R2,#HIGH regv
0006 7900        R     MOV     R1,#LOW regv
0008 120000      R     LCALL   L?1131
000B 7A00        R     MOV     R2,#HIGH VideoContrastRange
000D 7900        R     MOV     R1,#LOW VideoContrastRange
000F 120000      R     LCALL   L?1116
0012 120000      E     LCALL   _Mapping1
                                           ; SOURCE LINE # 671
0015 7800        E     MOV     R0,#LOW InputSelection
0017 E2                MOVX    A,@R0
0018 900000      R     MOV     DPTR,#Contast_Reg_Addr-01H
001B 93                MOVC    A,@A+DPTR
001C FD                MOV     R5,A
001D 7800        R     MOV     R0,#LOW regv
001F 08                INC     R0
0020 E2                MOVX    A,@R0
0021 FB                MOV     R3,A
0022 7F8A              MOV     R7,#08AH
0024 020000      E     LJMP    _WriteI2C
             ; FUNCTION _SetVideoContrast (END)

             ; FUNCTION _SetVideoBrightness (BEGIN)
                                           ; SOURCE LINE # 675
0000 7800        R     MOV     R0,#LOW newv
0002 EF                MOV     A,R7
0003 F2                MOVX    @R0,A
                                           ; SOURCE LINE # 676
                                           ; SOURCE LINE # 680
0004 7800        E     MOV     R0,#LOW InputSelection
0006 E2                MOVX    A,@R0
0007 6404              XRL     A,#04H
0009 7016              JNZ     ?C0074
                                           ; SOURCE LINE # 681
000B 120000      R     LCALL   L?1129
000E 7A00        R     MOV     R2,#HIGH PanelBrightnessRange
0010 7900        R     MOV     R1,#LOW PanelBrightnessRange
0012 120000      R     LCALL   L?1116
0015 120000      E     LCALL   _Mapping1
                                           ; SOURCE LINE # 682
0018 7800        R     MOV     R0,#LOW regv
001A 08                INC     R0
001B E2                MOVX    A,@R0
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 290 

001C FB                MOV     R3,A
001D 7D74              MOV     R5,#074H
                                           ; SOURCE LINE # 683
001F 8021              SJMP    ?C0918
0021         ?C0074:
                                           ; SOURCE LINE # 684
                                           ; SOURCE LINE # 685
0021 120000      R     LCALL   L?1129
0024 7A00        R     MOV     R2,#HIGH VideoBrightnessRange
0026 7900        R     MOV     R1,#LOW VideoBrightnessRange
0028 120000      R     LCALL   L?1116
002B 120000      E     LCALL   _Mapping1
                                           ; SOURCE LINE # 687
002E 120000      R     LCALL   IsInputAnalogRGB
0031 EF                MOV     A,R7
0032 7800        R     MOV     R0,#LOW regv
0034 6007              JZ      ?C0076
                                           ; SOURCE LINE # 688
0036 08                INC     R0
0037 E2                MOVX    A,@R0
0038 FB                MOV     R3,A
0039 7D3A              MOV     R5,#03AH
003B 8005              SJMP    ?C0917
003D         ?C0076:
                                           ; SOURCE LINE # 690
003D 08                INC     R0
003E E2                MOVX    A,@R0
003F FB                MOV     R3,A
0040 7D10              MOV     R5,#010H
0042         ?C0917:
0042         ?C0918:
0042 7F8A              MOV     R7,#08AH
0044 120000      E     LCALL   _WriteI2C
                                           ; SOURCE LINE # 691
                                           ; SOURCE LINE # 692
0047         ?C0078:
0047 22                RET     
             ; FUNCTION _SetVideoBrightness (END)

             ; FUNCTION _SetVideoBacklight (BEGIN)
                                           ; SOURCE LINE # 693
;---- Variable 'newv' assigned to Register 'R7' ----
                                           ; SOURCE LINE # 694
                                           ; SOURCE LINE # 699
0000 7E00              MOV     R6,#00H
0002 7BFE              MOV     R3,#0FEH
0004 7A00        R     MOV     R2,#HIGH regv
0006 7900        R     MOV     R1,#LOW regv
0008 120000      R     LCALL   L?1131
000B 7A00        R     MOV     R2,#HIGH PanelBacklightRange
000D 7900        R     MOV     R1,#LOW PanelBacklightRange
000F 120000      R     LCALL   L?1116
0012 120000      E     LCALL   _Mapping1
                                           ; SOURCE LINE # 710
0015 7DFF              MOV     R5,#0FFH
0017 7F8A              MOV     R7,#08AH
0019 120000      E     LCALL   _ReadI2C
001C 7800        R     MOV     R0,#LOW page
001E EF                MOV     A,R7
001F F2                MOVX    @R0,A
                                           ; SOURCE LINE # 711
0020 E4                CLR     A
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 291 

0021 7DFF              MOV     R5,#0FFH
0023 120000      R     LCALL   L?1317
                                           ; SOURCE LINE # 712
0026 7DBE              MOV     R5,#0BEH
0028 7F8A              MOV     R7,#08AH
002A 120000      E     LCALL   _ReadI2C
002D EF                MOV     A,R7
002E 54CF              ANL     A,#0CFH
0030 4410              ORL     A,#010H
0032 7DBE              MOV     R5,#0BEH
0034 120000      R     LCALL   L?1317
                                           ; SOURCE LINE # 713
0037 7DC4              MOV     R5,#0C4H
0039 7F8A              MOV     R7,#08AH
003B 120000      E     LCALL   _ReadI2C
003E EF                MOV     A,R7
003F 5480              ANL     A,#080H
0041 FD                MOV     R5,A
0042 7800        R     MOV     R0,#LOW regv
0044 E2                MOVX    A,@R0
0045 A2E7              MOV     C,ACC.7
0047 13                RRC     A
0048 08                INC     R0
0049 E2                MOVX    A,@R0
004A 13                RRC     A
004B 4D                ORL     A,R5
004C FB                MOV     R3,A
004D 7DC4              MOV     R5,#0C4H
004F 7F8A              MOV     R7,#08AH
0051 120000      E     LCALL   _WriteI2C
                                           ; SOURCE LINE # 714
0054 7800        R     MOV     R0,#LOW page
0056 E2                MOVX    A,@R0
0057 FB                MOV     R3,A
0058 7DFF              MOV     R5,#0FFH
005A 7F8A              MOV     R7,#08AH
005C 020000      E     LJMP    _WriteI2C
                                           ; SOURCE LINE # 716
005F         L?1317:
005F FB                MOV     R3,A
0060 7F8A              MOV     R7,#08AH
0062 120000      E     LCALL   _WriteI2C
0065 22                RET     
             ; FUNCTION _SetVideoBacklight (END)

             ; FUNCTION _SetVideoHue (BEGIN)
                                           ; SOURCE LINE # 718
0000 7800        R     MOV     R0,#LOW newv
0002 EF                MOV     A,R7
0003 F2                MOVX    @R0,A
                                           ; SOURCE LINE # 719
                                           ; SOURCE LINE # 723
0004 7800        E     MOV     R0,#LOW InputSelection
0006 E2                MOVX    A,@R0
0007 6404              XRL     A,#04H
0009 7028              JNZ     ?C0080
                                           ; SOURCE LINE # 724
000B 7800        R     MOV     R0,#LOW newv
000D 7A00        R     MOV     R2,#HIGH regv
000F 7900        R     MOV     R1,#LOW regv
0011 120000      R     LCALL   L?1130
0014 7A00        R     MOV     R2,#HIGH PanelHueRange
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 292 

0016 7900        R     MOV     R1,#LOW PanelHueRange
0018 120000      R     LCALL   L?1116
001B 120000      E     LCALL   _Mapping1
                                           ; SOURCE LINE # 725
001E 7D70              MOV     R5,#070H
0020 7F8A              MOV     R7,#08AH
0022 120000      E     LCALL   _ReadI2C
0025 EF                MOV     A,R7
0026 54C0              ANL     A,#0C0H
0028 FF                MOV     R7,A
0029 7800        R     MOV     R0,#LOW regv
002B 08                INC     R0
002C E2                MOVX    A,@R0
002D 4F                ORL     A,R7
002E FB                MOV     R3,A
002F 7D70              MOV     R5,#070H
                                           ; SOURCE LINE # 726
0031 802D              SJMP    ?C0920
0033         ?C0080:
                                           ; SOURCE LINE # 727
                                           ; SOURCE LINE # 728
0033 7800        R     MOV     R0,#LOW newv
0035 E2                MOVX    A,@R0
0036 FF                MOV     R7,A
0037 7E00              MOV     R6,#00H
0039 7BFE              MOV     R3,#0FEH
003B 7A00        R     MOV     R2,#HIGH regv
003D 7900        R     MOV     R1,#LOW regv
003F 120000      R     LCALL   L?1131
0042 7A00        R     MOV     R2,#HIGH VideoHueRange
0044 7900        R     MOV     R1,#LOW VideoHueRange
0046 120000      R     LCALL   L?1116
0049 120000      E     LCALL   _Mapping1
                                           ; SOURCE LINE # 729
004C 120000      R     LCALL   IsInputAnalogRGB
004F EF                MOV     A,R7
0050 7800        R     MOV     R0,#LOW regv
0052 6007              JZ      ?C0082
                                           ; SOURCE LINE # 730
0054 08                INC     R0
0055 E2                MOVX    A,@R0
0056 FB                MOV     R3,A
0057 7D3E              MOV     R5,#03EH
0059 8005              SJMP    ?C0919
005B         ?C0082:
                                           ; SOURCE LINE # 732
005B 08                INC     R0
005C E2                MOVX    A,@R0
005D FB                MOV     R3,A
005E 7D15              MOV     R5,#015H
0060         ?C0919:
0060         ?C0920:
0060 7F8A              MOV     R7,#08AH
0062 120000      E     LCALL   _WriteI2C
                                           ; SOURCE LINE # 733
                                           ; SOURCE LINE # 735
0065         ?C0084:
0065 22                RET     
             ; FUNCTION _SetVideoHue (END)

             ; FUNCTION _SetVideoSaturation (BEGIN)
                                           ; SOURCE LINE # 737
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 293 

0000 7800        R     MOV     R0,#LOW svtype
0002 EF                MOV     A,R7
0003 F2                MOVX    @R0,A
0004 08                INC     R0
0005 ED                MOV     A,R5
0006 F2                MOVX    @R0,A
                                           ; SOURCE LINE # 738
                                           ; SOURCE LINE # 742
0007 120000      R     LCALL   IsInputAnalogRGB
000A EF                MOV     A,R7
000B 602D              JZ      ?C0085
                                           ; SOURCE LINE # 743
000D 120000      R     LCALL   L?1295
0010 120000      R     LCALL   L?1131
0013 7A00        R     MOV     R2,#HIGH DigitalVideoSaturationRange
0015 7900        R     MOV     R1,#LOW DigitalVideoSaturationRange
0017 120000      R     LCALL   L?1116
001A 120000      E     LCALL   _Mapping1
                                           ; SOURCE LINE # 744
001D 7800        R     MOV     R0,#LOW svtype
001F E2                MOVX    A,@R0
0020 243C              ADD     A,#03CH
0022 FD                MOV     R5,A
0023 7F8A              MOV     R7,#08AH
0025 120000      E     LCALL   _ReadI2C
0028 EF                MOV     A,R7
0029 5480              ANL     A,#080H
002B FF                MOV     R7,A
002C 7800        R     MOV     R0,#LOW regv
002E 08                INC     R0
002F E2                MOVX    A,@R0
0030 2F                ADD     A,R7
0031 FB                MOV     R3,A
0032 7800        R     MOV     R0,#LOW svtype
0034 E2                MOVX    A,@R0
0035 243C              ADD     A,#03CH
0037 FD                MOV     R5,A
                                           ; SOURCE LINE # 745
0038 8028              SJMP    ?C0922
003A         ?C0085:
                                           ; SOURCE LINE # 746
                                           ; SOURCE LINE # 748
003A 7800        R     MOV     R0,#LOW newv
003C 120000      R     LCALL   L?1295
003F 120000      R     LCALL   L?1131
0042 7A00        R     MOV     R2,#HIGH VideoSaturationRange
0044 7900        R     MOV     R1,#LOW VideoSaturationRange
0046 120000      R     LCALL   L?1116
0049 120000      E     LCALL   _Mapping1
                                           ; SOURCE LINE # 750
004C 7800        E     MOV     R0,#LOW InputSelection
004E E2                MOVX    A,@R0
004F 7800        R     MOV     R0,#LOW svtype
0051 B40405            CJNE    A,#04H,?C0087
                                           ; SOURCE LINE # 751
0054 E2                MOVX    A,@R0
0055 2472              ADD     A,#072H
                                           ; SOURCE LINE # 752
0057 8003              SJMP    ?C0921
0059         ?C0087:
                                           ; SOURCE LINE # 753
                                           ; SOURCE LINE # 754
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 294 

0059 E2                MOVX    A,@R0
005A 2413              ADD     A,#013H
005C         ?C0921:
005C FD                MOV     R5,A
005D 7800        R     MOV     R0,#LOW regv
005F 08                INC     R0
0060 E2                MOVX    A,@R0
0061 FB                MOV     R3,A
0062         ?C0922:
0062 7F8A              MOV     R7,#08AH
0064 120000      E     LCALL   _WriteI2C
                                           ; SOURCE LINE # 755
                                           ; SOURCE LINE # 756
                                           ; SOURCE LINE # 757
0067         ?C0089:
0067 22                RET     
             ; FUNCTION _SetVideoSaturation (END)

             ; FUNCTION _SetVideoSharpness (BEGIN)
                                           ; SOURCE LINE # 760
0000 7800        R     MOV     R0,#LOW flag
0002 EF                MOV     A,R7
0003 F2                MOVX    @R0,A
                                           ; SOURCE LINE # 761
                                           ; SOURCE LINE # 766
0004 7D78              MOV     R5,#078H
0006 7F8A              MOV     R7,#08AH
0008 120000      E     LCALL   _ReadI2C
000B EF                MOV     A,R7
000C 5407              ANL     A,#07H
;---- Variable 'orgv' assigned to Register 'R7' ----
                                           ; SOURCE LINE # 767
000E 540F              ANL     A,#0FH
0010 FF                MOV     R7,A
0011 7800        R     MOV     R0,#LOW regv
0013 E4                CLR     A
0014 F2                MOVX    @R0,A
0015 08                INC     R0
0016 EF                MOV     A,R7
0017 F2                MOVX    @R0,A
                                           ; SOURCE LINE # 768
0018 7800        R     MOV     R0,#LOW flag
001A E2                MOVX    A,@R0
001B B40104            CJNE    A,#01H,?C0090
001E 7F01              MOV     R7,#01H
0020 8002              SJMP    ?C0091
0022         ?C0090:
0022 7FFF              MOV     R7,#0FFH
0024         ?C0091:
;---- Variable 'inc' assigned to Register 'R7' ----
                                           ; SOURCE LINE # 769
0024 EF                MOV     A,R7
0025 33                RLC     A
0026 95E0              SUBB    A,ACC
0028 FE                MOV     R6,A
0029 7800        R     MOV     R0,#LOW regv+01H
002B 120000      R     LCALL   L?1169
                                           ; SOURCE LINE # 770
002E 900000      R     MOV     DPTR,#VideoSharpnessRange
0031 120000      R     LCALL   L?1127
0034 E2                MOVX    A,@R0
0035 FC                MOV     R4,A
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 295 

0036 08                INC     R0
0037 E2                MOVX    A,@R0
0038 FD                MOV     R5,A
0039 C3                CLR     C
003A 120000      R     LCALL   L?1304
003D 400D              JC      ?C0093
003F 900000      R     MOV     DPTR,#VideoSharpnessRange+02H
0042 120000      R     LCALL   L?1127
0045 D3                SETB    C
0046 ED                MOV     A,R5
0047 120000      R     LCALL   L?1304
004A 4006              JC      ?C0092
004C         ?C0093:
                                           ; SOURCE LINE # 772
004C 7800        R     MOV     R0,#LOW OSDItemValue
004E 08                INC     R0
004F E2                MOVX    A,@R0
0050 FF                MOV     R7,A
0051 22                RET     
0052         ?C0092:
                                           ; SOURCE LINE # 774
0052 AF05              MOV     R7,AR5
0054 7E00              MOV     R6,#00H
0056 7BFE              MOV     R3,#0FEH
0058 7A00        R     MOV     R2,#HIGH newv
005A 7900        R     MOV     R1,#LOW newv
005C 120000      R     LCALL   L?1131
005F 7A00        R     MOV     R2,#HIGH UserRange
0061 7900        R     MOV     R1,#LOW UserRange
0063 7800        E     MOV     R0,#LOW ?_Mapping1?BYTE+08H
0065 120000      E     LCALL   ?C?PSTPDATA
0068 7A00        R     MOV     R2,#HIGH VideoSharpnessRange
006A 7900        R     MOV     R1,#LOW VideoSharpnessRange
006C 120000      E     LCALL   _Mapping1
                                           ; SOURCE LINE # 776
006F 7800        R     MOV     R0,#LOW regv
0071 120000      R     LCALL   L?1291
0074 120000      E     LCALL   _WriteI2C
                                           ; SOURCE LINE # 777
0077 7D17              MOV     R5,#017H
0079 7F8A              MOV     R7,#08AH
007B 120000      E     LCALL   _ReadI2C
007E 7800        R     MOV     R0,#LOW regv
0080 120000      R     LCALL   L?1273
0083 120000      E     LCALL   _WriteI2C
                                           ; SOURCE LINE # 780
0086 7800        R     MOV     R0,#LOW newv
0088 08                INC     R0
0089 E2                MOVX    A,@R0
008A FD                MOV     R5,A
008B 7F05              MOV     R7,#05H
008D 120000      E     LCALL   _SaveVideoDatatoEE
                                           ; SOURCE LINE # 781
0090 7800        R     MOV     R0,#LOW newv
0092 120000      R     LCALL   L?1152
                                           ; SOURCE LINE # 783
                                           ; SOURCE LINE # 784
0095         ?C0094:
0095 22                RET     
             ; FUNCTION _SetVideoSharpness (END)

             ; FUNCTION ResetVideoValue (BEGIN)
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 296 

                                           ; SOURCE LINE # 819
                                           ; SOURCE LINE # 820
                                           ; SOURCE LINE # 826
0000 7800        E     MOV     R0,#LOW InputSelection
0002 E2                MOVX    A,@R0
0003 7800        R     MOV     R0,#LOW CurInput
0005 F2                MOVX    @R0,A
                                           ; SOURCE LINE # 827
0006 7800        E     MOV     R0,#LOW InputSelection
0008 7401              MOV     A,#01H
000A F2                MOVX    @R0,A
000B         ?C0095:
000B 7800        E     MOV     R0,#LOW InputSelection
000D E2                MOVX    A,@R0
000E FF                MOV     R7,A
000F C3                CLR     C
0010 9407              SUBB    A,#07H
0012 5025              JNC     ?C0096
                                           ; SOURCE LINE # 829
0014 EF                MOV     A,R7
0015 B4040E            CJNE    A,#04H,?C0098
                                           ; SOURCE LINE # 830
                                           ; SOURCE LINE # 831
0018 E4                CLR     A
0019 7800        R     MOV     R0,#LOW i
001B F2                MOVX    @R0,A
001C         ?C0099:
                                           ; SOURCE LINE # 832
001C 900000      R     MOV     DPTR,#Init_DTV_Data
                                           ; SOURCE LINE # 833
001F 120000      R     LCALL   L?1245
0022 40F8              JC      ?C0099
0024 800C              SJMP    ?C0097
                                           ; SOURCE LINE # 834
0026         ?C0098:
                                           ; SOURCE LINE # 835
                                           ; SOURCE LINE # 836
0026 E4                CLR     A
0027 7800        R     MOV     R0,#LOW i
0029 F2                MOVX    @R0,A
002A         ?C0103:
                                           ; SOURCE LINE # 842
002A 900000      R     MOV     DPTR,#Init_Video_Data
                                           ; SOURCE LINE # 843
002D 120000      R     LCALL   L?1245
0030 40F8              JC      ?C0103
                                           ; SOURCE LINE # 844
                                           ; SOURCE LINE # 845
0032         ?C0097:
0032 7800        E     MOV     R0,#LOW InputSelection
0034 E2                MOVX    A,@R0
0035 04                INC     A
0036 F2                MOVX    @R0,A
0037 80D2              SJMP    ?C0095
0039         ?C0096:
                                           ; SOURCE LINE # 846
0039 7800        R     MOV     R0,#LOW CurInput
003B E2                MOVX    A,@R0
003C 7800        E     MOV     R0,#LOW InputSelection
003E F2                MOVX    @R0,A
                                           ; SOURCE LINE # 847
003F 7F03              MOV     R7,#03H
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 297 

0041 020000      R     LJMP    _SetVideoMode
                                           ; SOURCE LINE # 849
0044         L?1245:
0044 7800        R     MOV     R0,#LOW i
0046 E2                MOVX    A,@R0
0047 FF                MOV     R7,A
0048 93                MOVC    A,@A+DPTR
0049 FD                MOV     R5,A
004A 120000      E     LCALL   _SaveVideoDatatoEE
004D 7800        R     MOV     R0,#LOW i
004F E2                MOVX    A,@R0
0050 04                INC     A
0051 F2                MOVX    @R0,A
0052 E2                MOVX    A,@R0
0053 C3                CLR     C
0054 9406              SUBB    A,#06H
0056 22                RET     
             ; FUNCTION ResetVideoValue (END)

             ; FUNCTION SetScale4_3Y (BEGIN)
                                           ; SOURCE LINE # 877
                                           ; SOURCE LINE # 878
                                           ; SOURCE LINE # 884
0000 7800        E     MOV     R0,#LOW PcMode
0002 900000      E     MOV     DPTR,#PCMDATA+03H
0005 120000      R     LCALL   L?1125
0008 7800        R     MOV     R0,#LOW scale
000A 120000      R     LCALL   L?1248
                                           ; SOURCE LINE # 885
000D 7800        R     MOV     R0,#LOW outv
000F 120000      E     LCALL   ?C?LSTKPDATA
0012 00                DB      00H
0013 00                DB      00H
0014 02                DB      02H
0015 58                DB      058H
                                           ; SOURCE LINE # 886
0016 7800        R     MOV     R0,#LOW scale
0018 120000      R     LCALL   L?1141
001B 7800        R     MOV     R0,#LOW outv
001D 120000      R     LCALL   L?1187
                                           ; SOURCE LINE # 888
0020 120000      R     LCALL   L?1296
0023 120000      E     LCALL   _YScale2
                                           ; SOURCE LINE # 891
0026 7800        E     MOV     R0,#LOW PcMode
0028 E2                MOVX    A,@R0
0029 FF                MOV     R7,A
002A C3                CLR     C
002B 9411              SUBB    A,#011H
002D 401A              JC      ?C0107
002F EF                MOV     A,R7
0030 9414              SUBB    A,#014H
0032 4015              JC      ?C0107
                                           ; SOURCE LINE # 892
0034 120000      R     LCALL   L?1124
0037 EF                MOV     A,R7
0038 24FC              ADD     A,#0FCH
003A FF                MOV     R7,A
003B EE                MOV     A,R6
003C 34FF              ADDC    A,#0FFH
003E FE                MOV     R6,A
003F E4                CLR     A
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 298 

0040 34FF              ADDC    A,#0FFH
0042 FD                MOV     R5,A
0043 E4                CLR     A
0044 34FF              ADDC    A,#0FFH
0046 FC                MOV     R4,A
0047 8006              SJMP    ?C0923
0049         ?C0107:
                                           ; SOURCE LINE # 894
0049 120000      R     LCALL   L?1122
004C E4                CLR     A
004D FC                MOV     R4,A
004E FD                MOV     R5,A
004F         ?C0923:
004F 7800        R     MOV     R0,#LOW scale
0051 120000      E     LCALL   ?C?LSTPDATA
0054         ?C0108:
                                           ; SOURCE LINE # 896
0054 E4                CLR     A
0055 FF                MOV     R7,A
0056 FE                MOV     R6,A
0057 7D03              MOV     R5,#03H
0059 FC                MOV     R4,A
005A 7800        R     MOV     R0,#LOW scale
005C 120000      R     LCALL   L?1142
005F E4                CLR     A
0060 7B58              MOV     R3,#058H
0062 7A02              MOV     R2,#02H
0064 F9                MOV     R1,A
0065 F8                MOV     R0,A
0066 120000      E     LCALL   ?C?ULDIV
0069 E4                CLR     A
006A 7B04              MOV     R3,#04H
006C FA                MOV     R2,A
006D F9                MOV     R1,A
006E F8                MOV     R0,A
006F 120000      E     LCALL   ?C?ULDIV
                                           ; SOURCE LINE # 898
0072 120000      R     LCALL   L?1296
0075 020000      E     LJMP    _XScale2
             ; FUNCTION SetScale4_3Y (END)

             ; FUNCTION SetScale (BEGIN)
                                           ; SOURCE LINE # 901
                                           ; SOURCE LINE # 902
                                           ; SOURCE LINE # 906
0000 7800        E     MOV     R0,#LOW PcMode
0002 E2                MOVX    A,@R0
0003 FB                MOV     R3,A
0004 75F016            MOV     B,#016H
0007 900000      E     MOV     DPTR,#PCMDATA+03H
000A 120000      R     LCALL   L?1126
000D 120000      R     LCALL   L?1247
                                           ; SOURCE LINE # 907
0010 7800        R     MOV     R0,#LOW outv
0012 120000      E     LCALL   ?C?LSTKPDATA
0015 00                DB      00H
0016 00                DB      00H
0017 02                DB      02H
0018 58                DB      058H
                                           ; SOURCE LINE # 911
0019 EB                MOV     A,R3
001A C3                CLR     C
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 299 

001B 9404              SUBB    A,#04H
001D 4013              JC      ?C0110
001F 7800        E     MOV     R0,#LOW PcMode
0021 E2                MOVX    A,@R0
0022 D3                SETB    C
0023 9409              SUBB    A,#09H
0025 500B              JNC     ?C0110
                                           ; SOURCE LINE # 912
                                           ; SOURCE LINE # 913
0027 120000      R     LCALL   L?1139
002A 120000      R     LCALL   L?1185
002D EF                MOV     A,R7
002E 2470              ADD     A,#070H
                                           ; SOURCE LINE # 914
0030 800F              SJMP    ?C0925
0032         ?C0110:
                                           ; SOURCE LINE # 915
0032 7800        E     MOV     R0,#LOW PcMode
0034 E2                MOVX    A,@R0
0035 B40A0E            CJNE    A,#0AH,?C0112
                                           ; SOURCE LINE # 916
                                           ; SOURCE LINE # 917
0038 120000      R     LCALL   L?1139
003B 120000      R     LCALL   L?1185
003E EF                MOV     A,R7
003F 2496              ADD     A,#096H
0041         ?C0925:
0041 120000      R     LCALL   L?1297
                                           ; SOURCE LINE # 918
0044 801A              SJMP    ?C0926
0046         ?C0112:
                                           ; SOURCE LINE # 919
0046 7800        E     MOV     R0,#LOW PcMode
0048 E2                MOVX    A,@R0
0049 B40D0E            CJNE    A,#0DH,?C0114
                                           ; SOURCE LINE # 920
                                           ; SOURCE LINE # 921
004C 120000      R     LCALL   L?1140
004F 120000      R     LCALL   L?1186
0052 EF                MOV     A,R7
0053 2496              ADD     A,#096H
0055 120000      R     LCALL   L?1297
                                           ; SOURCE LINE # 922
0058 8006              SJMP    ?C0924
005A         ?C0114:
                                           ; SOURCE LINE # 924
                                           ; SOURCE LINE # 925
005A 120000      R     LCALL   L?1140
005D 120000      R     LCALL   L?1186
0060         ?C0924:
0060         ?C0926:
0060 7800        R     MOV     R0,#LOW scale
0062 120000      E     LCALL   ?C?LSTPDATA
                                           ; SOURCE LINE # 926
0065         ?C0111:
                                           ; SOURCE LINE # 928
0065 7800        R     MOV     R0,#LOW scale
0067 120000      E     LCALL   ?C?LLDPDATA
006A 120000      E     LCALL   _YScale2
                                           ; SOURCE LINE # 933
006D 120000      R     LCALL   L?1122
0070 120000      R     LCALL   L?1247
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 300 

                                           ; SOURCE LINE # 934
0073 7800        R     MOV     R0,#LOW outv
0075 120000      E     LCALL   ?C?LSTKPDATA
0078 00                DB      00H
0079 00                DB      00H
007A 03                DB      03H
007B 20                DB      020H
                                           ; SOURCE LINE # 936
007C 120000      R     LCALL   L?1140
007F 7800        R     MOV     R0,#LOW outv
0081 120000      E     LCALL   ?C?LLDPDATA0
0084 120000      E     LCALL   ?C?LADD
0087 EF                MOV     A,R7
0088 24FF              ADD     A,#0FFH
008A FF                MOV     R7,A
008B EE                MOV     A,R6
008C 34FF              ADDC    A,#0FFH
008E FE                MOV     R6,A
008F ED                MOV     A,R5
0090 34FF              ADDC    A,#0FFH
0092 FD                MOV     R5,A
0093 EC                MOV     A,R4
0094 34FF              ADDC    A,#0FFH
0096 FC                MOV     R4,A
0097 120000      R     LCALL   L?1186
009A 7800        R     MOV     R0,#LOW scale
009C 120000      E     LCALL   ?C?LSTPDATA
                                           ; SOURCE LINE # 937
009F 7800        R     MOV     R0,#LOW scale
00A1 120000      E     LCALL   ?C?LLDPDATA
00A4 020000      E     LJMP    _XScale2
             ; FUNCTION SetScale (END)

             ; FUNCTION SetScale4_3X (BEGIN)
                                           ; SOURCE LINE # 940
                                           ; SOURCE LINE # 941
                                           ; SOURCE LINE # 945
0000 120000      R     LCALL   L?1123
                                           ; SOURCE LINE # 946
0003 120000      R     LCALL   L?1298
0006 120000      E     LCALL   ?C?LSTKPDATA
0009 00                DB      00H
000A 00                DB      00H
000B 03                DB      03H
000C 20                DB      020H
                                           ; SOURCE LINE # 947
000D E4                CLR     A
000E FF                MOV     R7,A
000F FE                MOV     R6,A
0010 7D01              MOV     R5,#01H
0012 FC                MOV     R4,A
0013 7800        R     MOV     R0,#LOW scale
0015 120000      R     LCALL   L?1142
0018 7800        R     MOV     R0,#LOW outv
001A 120000      R     LCALL   L?1187
                                           ; SOURCE LINE # 948
001D 120000      R     LCALL   L?1299
0020 120000      E     LCALL   _XScale2
                                           ; SOURCE LINE # 956
0023 7800        E     MOV     R0,#LOW PcMode
0025 E2                MOVX    A,@R0
0026 75F016            MOV     B,#016H
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 301 

0029 900000      E     MOV     DPTR,#PCMDATA+03H
002C 120000      R     LCALL   L?1126
                                           ; SOURCE LINE # 957
002F 120000      R     LCALL   L?1298
0032 120000      E     LCALL   ?C?LSTKPDATA
0035 00                DB      00H
0036 00                DB      00H
0037 02                DB      02H
0038 58                DB      058H
                                           ; SOURCE LINE # 958
0039 E4                CLR     A
003A FF                MOV     R7,A
003B FE                MOV     R6,A
003C 7D01              MOV     R5,#01H
003E FC                MOV     R4,A
003F 7800        R     MOV     R0,#LOW scale
0041 120000      R     LCALL   L?1142
0044 7800        R     MOV     R0,#LOW outv
0046 120000      R     LCALL   L?1187
                                           ; SOURCE LINE # 960
0049 120000      R     LCALL   L?1299
004C 020000      E     LJMP    _YScale2
             ; FUNCTION SetScale4_3X (END)

             ; FUNCTION _SetLRBlank (BEGIN)
                                           ; SOURCE LINE # 962
;---- Variable 'bl' assigned to Register 'R7' ----
                                           ; SOURCE LINE # 963
                                           ; SOURCE LINE # 964
0000 AB07              MOV     R3,AR7
0002 7D66              MOV     R5,#066H
0004 7F8A              MOV     R7,#08AH
0006 020000      E     LJMP    _WriteI2C
             ; FUNCTION _SetLRBlank (END)

             ; FUNCTION _Set4WideScreen (BEGIN)
                                           ; SOURCE LINE # 968
0000 7800        R     MOV     R0,#LOW id
0002 EF                MOV     A,R7
0003 F2                MOVX    @R0,A
                                           ; SOURCE LINE # 969
                                           ; SOURCE LINE # 970
0004 D3                SETB    C
0005 9403              SUBB    A,#03H
0007 400A              JC      ?C0119
                                           ; SOURCE LINE # 971
0009 7F01              MOV     R7,#01H
000B 120000      R     LCALL   _Set4WideScreen
                                           ; SOURCE LINE # 972
000E 7800        R     MOV     R0,#LOW id
0010 7401              MOV     A,#01H
0012 F2                MOVX    @R0,A
                                           ; SOURCE LINE # 973
0013         ?C0119:
                                           ; SOURCE LINE # 975
0013 7800        R     MOV     R0,#LOW id
0015 E2                MOVX    A,@R0
0016 7800        E     MOV     R0,#LOW WideScreenMode
0018 F2                MOVX    @R0,A
                                           ; SOURCE LINE # 978
0019 120000      E     LCALL   GetInputSelection
001C EF                MOV     A,R7
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 302 

001D 6407              XRL     A,#07H
001F 6008              JZ      ?C0121
0021 120000      E     LCALL   GetInputSelection
0024 EF                MOV     A,R7
0025 6404              XRL     A,#04H
0027 7028              JNZ     ?C0120
0029         ?C0121:
                                           ; SOURCE LINE # 979
                                           ; SOURCE LINE # 980
0029 7800        R     MOV     R0,#LOW id
002B E2                MOVX    A,@R0
002C 14                DEC     A
002D 6012              JZ      ?C0124
002F 14                DEC     A
0030 600F              JZ      ?C0124
0032 14                DEC     A
0033 6011              JZ      ?C0126
0035 2403              ADD     A,#03H
0037 6003              JZ      $ + 5H
0039 020000      R     LJMP    ?C0127
                                           ; SOURCE LINE # 981
003C         ?C0123:
                                           ; SOURCE LINE # 982
003C 120000      R     LCALL   SetScale4_3Y
                                           ; SOURCE LINE # 983
                                           ; SOURCE LINE # 984
003F 8008              SJMP    ?C0929
                                           ; SOURCE LINE # 985
0041         ?C0124:
                                           ; SOURCE LINE # 986
0041 120000      R     LCALL   SetScale
                                           ; SOURCE LINE # 987
0044         ?C0927:
                                           ; SOURCE LINE # 988
0044 8003              SJMP    ?C0929
                                           ; SOURCE LINE # 990
                                           ; SOURCE LINE # 995
0046         ?C0126:
                                           ; SOURCE LINE # 996
0046 120000      R     LCALL   SetScale4_3X
                                           ; SOURCE LINE # 997
0049         ?C0929:
0049 E4                CLR     A
004A FF                MOV     R7,A
004B 120000      R     LCALL   _SetLRBlank
                                           ; SOURCE LINE # 998
004E 020000      R     LJMP    ?C0127
                                           ; SOURCE LINE # 1004
                                           ; SOURCE LINE # 1005
0051         ?C0120:
                                           ; SOURCE LINE # 1008
                                           ; SOURCE LINE # 1009
                                           ; SOURCE LINE # 1032
0051 120000      E     LCALL   GetVInputStd
0054 EF                MOV     A,R7
0055 6401              XRL     A,#01H
0057 601E              JZ      ?C0129
0059 120000      E     LCALL   GetVInputStd
005C EF                MOV     A,R7
005D 6404              XRL     A,#04H
005F 6016              JZ      ?C0129
0061 120000      E     LCALL   GetVInputStd
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 303 

0064 EF                MOV     A,R7
0065 6405              XRL     A,#05H
0067 600E              JZ      ?C0129
0069 120000      E     LCALL   GetVInputStd
006C EF                MOV     A,R7
006D 6407              XRL     A,#07H
006F 6006              JZ      ?C0129
0071 120000      E     LCALL   GetVInputStd
0074 EF                MOV     A,R7
0075 700E              JNZ     ?C0128
0077         ?C0129:
                                           ; SOURCE LINE # 1039
                                           ; SOURCE LINE # 1046
0077 7800        R     MOV     R0,#LOW id
0079 E2                MOVX    A,@R0
007A 75F00A            MOV     B,#0AH
007D A4                MUL     AB
007E 2400        R     ADD     A,#LOW WIDEDATA_N
0080 F9                MOV     R1,A
0081 7400        R     MOV     A,#HIGH WIDEDATA_N
                                           ; SOURCE LINE # 1047
0083 800C              SJMP    ?C0930
0085         ?C0128:
                                           ; SOURCE LINE # 1048
                                           ; SOURCE LINE # 1054
0085 7800        R     MOV     R0,#LOW id
0087 E2                MOVX    A,@R0
0088 75F00A            MOV     B,#0AH
008B A4                MUL     AB
008C 2400        R     ADD     A,#LOW WIDEDATA_P
008E F9                MOV     R1,A
008F 7400        R     MOV     A,#HIGH WIDEDATA_P
0091         ?C0930:
0091 35F0              ADDC    A,B
0093 FA                MOV     R2,A
0094 7BFF              MOV     R3,#0FFH
0096 7800        R     MOV     R0,#LOW WideData
0098 120000      E     LCALL   ?C?PSTPDATA
                                           ; SOURCE LINE # 1055
009B         ?C0130:
                                           ; SOURCE LINE # 1056
                                           ; SOURCE LINE # 1061
009B 120000      E     LCALL   WaitEndofDisplayArea
                                           ; SOURCE LINE # 1062
009E E4                CLR     A
009F 7800        R     MOV     R0,#LOW i
00A1 F2                MOVX    @R0,A
00A2 08                INC     R0
00A3 F2                MOVX    @R0,A
00A4         ?C0131:
00A4 7800        R     MOV     R0,#LOW i
00A6 E2                MOVX    A,@R0
00A7 FE                MOV     R6,A
00A8 08                INC     R0
00A9 E2                MOVX    A,@R0
00AA FF                MOV     R7,A
00AB C3                CLR     C
00AC 940A              SUBB    A,#0AH
00AE EE                MOV     A,R6
00AF 6480              XRL     A,#080H
00B1 9480              SUBB    A,#080H
00B3 502B              JNC     ?C0127
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 304 

                                           ; SOURCE LINE # 1063
00B5 EF                MOV     A,R7
00B6 25E0              ADD     A,ACC
00B8 FF                MOV     R7,A
00B9 EE                MOV     A,R6
00BA 33                RLC     A
00BB FE                MOV     R6,A
00BC 7400        R     MOV     A,#LOW WIDE_ADDRESS
00BE 2F                ADD     A,R7
00BF F582              MOV     DPL,A
00C1 7400        R     MOV     A,#HIGH WIDE_ADDRESS
00C3 3E                ADDC    A,R6
00C4 F583              MOV     DPH,A
00C6 7401              MOV     A,#01H
00C8 93                MOVC    A,@A+DPTR
00C9 FD                MOV     R5,A
00CA 08                INC     R0
00CB 120000      R     LCALL   L?1305
00CE FB                MOV     R3,A
00CF 7F8A              MOV     R7,#08AH
00D1 120000      E     LCALL   _WriteI2C
                                           ; SOURCE LINE # 1067
00D4 7800        R     MOV     R0,#LOW WideData+02H
00D6 120000      R     LCALL   L?1103
                                           ; SOURCE LINE # 1068
00D9 7800        R     MOV     R0,#LOW i+01H
00DB 120000      R     LCALL   L?1103
00DE 80C4              SJMP    ?C0131
                                           ; SOURCE LINE # 1069
00E0         ?C0127:
                                           ; SOURCE LINE # 1070
00E0 7800        E     MOV     R0,#LOW WideScreenMode
00E2 E2                MOVX    A,@R0
00E3 FF                MOV     R7,A
00E4 020000      E     LJMP    _SaveWideModeEE
             ; FUNCTION _Set4WideScreen (END)

             ; FUNCTION pushMenu (BEGIN)
                                           ; SOURCE LINE # 111
                                           ; SOURCE LINE # 112
                                           ; SOURCE LINE # 116
0000 E500        R     MOV     A,MenuSP
0002 C3                CLR     C
0003 9404              SUBB    A,#04H
0005 5024              JNC     ?C0135
                                           ; SOURCE LINE # 129
0007 7800        R     MOV     R0,#LOW MenuTitle
0009 E2                MOVX    A,@R0
000A FE                MOV     R6,A
000B 08                INC     R0
000C E2                MOVX    A,@R0
000D FF                MOV     R7,A
000E E500        R     MOV     A,MenuSP
0010 25E0              ADD     A,ACC
0012 2400        R     ADD     A,#LOW MenuStack
0014 F8                MOV     R0,A
0015 EE                MOV     A,R6
0016 F2                MOVX    @R0,A
0017 08                INC     R0
0018 EF                MOV     A,R7
0019 F2                MOVX    @R0,A
                                           ; SOURCE LINE # 130
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 305 

001A 7800        R     MOV     R0,#LOW title_item
001C E2                MOVX    A,@R0
001D FF                MOV     R7,A
001E AE00        R     MOV     R6,MenuSP
0020 0500        R     INC     MenuSP
0022 7400        R     MOV     A,#LOW MenuIndexStack
0024 2E                ADD     A,R6
0025 F8                MOV     R0,A
0026 A607              MOV     @R0,AR7
                                           ; SOURCE LINE # 131
0028 7F01              MOV     R7,#01H
002A 22                RET     
                                           ; SOURCE LINE # 132
002B         ?C0135:
                                           ; SOURCE LINE # 133
002B 7F00              MOV     R7,#00H
                                           ; SOURCE LINE # 134
002D         ?C0136:
002D 22                RET     
             ; FUNCTION pushMenu (END)

             ; FUNCTION popMenu (BEGIN)
                                           ; SOURCE LINE # 136
                                           ; SOURCE LINE # 137
                                           ; SOURCE LINE # 141
0000 E500        R     MOV     A,MenuSP
0002 6018              JZ      ?C0137
                                           ; SOURCE LINE # 142
0004 1500        R     DEC     MenuSP
0006 E500        R     MOV     A,MenuSP
0008 25E0              ADD     A,ACC
000A 2400        R     ADD     A,#LOW MenuStack
000C F8                MOV     R0,A
000D 120000      R     LCALL   L?1209
                                           ; SOURCE LINE # 143
0010 7400        R     MOV     A,#LOW MenuIndexStack
0012 2500        R     ADD     A,MenuSP
0014 F8                MOV     R0,A
0015 E6                MOV     A,@R0
0016 7800        R     MOV     R0,#LOW title_item
0018 F2                MOVX    @R0,A
                                           ; SOURCE LINE # 157
0019 7F01              MOV     R7,#01H
001B 22                RET     
                                           ; SOURCE LINE # 158
001C         ?C0137:
                                           ; SOURCE LINE # 159
001C 7F00              MOV     R7,#00H
                                           ; SOURCE LINE # 160
001E         ?C0138:
001E 22                RET     
             ; FUNCTION popMenu (END)

             ; FUNCTION _GetLowerMenuItem (BEGIN)
                                           ; SOURCE LINE # 162
0000 7800        R     MOV     R0,#LOW DMp
0002 120000      E     LCALL   ?C?PSTPDATA
0005 7800        R     MOV     R0,#LOW itemno
0007 ED                MOV     A,R5
0008 F2                MOVX    @R0,A
                                           ; SOURCE LINE # 163
                                           ; SOURCE LINE # 164
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 306 

0009 BDFF03            CJNE    R5,#0FFH,?C0139
                                           ; SOURCE LINE # 165
000C 7FFF              MOV     R7,#0FFH
000E 22                RET     
000F         ?C0139:
                                           ; SOURCE LINE # 166
000F 7800        R     MOV     R0,#LOW itemno
0011 E2                MOVX    A,@R0
0012 04                INC     A
0013 F2                MOVX    @R0,A
                                           ; SOURCE LINE # 167
0014 E2                MOVX    A,@R0
0015 75F010            MOV     B,#010H
0018 A4                MUL     AB
0019 FF                MOV     R7,A
001A 7800        R     MOV     R0,#LOW DMp
001C 120000      E     LCALL   ?C?PLDPDATA
001F E9                MOV     A,R1
0020 2F                ADD     A,R7
0021 F9                MOV     R1,A
0022 EA                MOV     A,R2
0023 35F0              ADDC    A,B
0025 FA                MOV     R2,A
0026 900007            MOV     DPTR,#07H
0029 120000      E     LCALL   ?C?CLDOPTR
002C B4FF0C            CJNE    A,#0FFH,?C0141
002F 900008            MOV     DPTR,#08H
0032 120000      E     LCALL   ?C?CLDOPTR
0035 B4FF03            CJNE    A,#0FFH,?C0141
                                           ; SOURCE LINE # 168
0038 7FFF              MOV     R7,#0FFH
003A 22                RET     
003B         ?C0141:
                                           ; SOURCE LINE # 169
003B 7800        R     MOV     R0,#LOW itemno
003D E2                MOVX    A,@R0
003E FF                MOV     R7,A
                                           ; SOURCE LINE # 171
003F         ?C0140:
003F 22                RET     
             ; FUNCTION _GetLowerMenuItem (END)

             ; FUNCTION _GetUpperMenuItem (BEGIN)
                                           ; SOURCE LINE # 173
;---- Variable 'itemno' assigned to Register 'R7' ----
                                           ; SOURCE LINE # 174
                                           ; SOURCE LINE # 176
0000 EF                MOV     A,R7
0001 B4FF03            CJNE    A,#0FFH,?C0142
                                           ; SOURCE LINE # 177
0004 7FFF              MOV     R7,#0FFH
0006 22                RET     
0007         ?C0142:
                                           ; SOURCE LINE # 178
0007 1F                DEC     R7
                                           ; SOURCE LINE # 179
                                           ; SOURCE LINE # 180
0008         ?C0143:
0008 22                RET     
             ; FUNCTION _GetUpperMenuItem (END)

             ; FUNCTION _GetTargetChild (BEGIN)
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 307 

                                           ; SOURCE LINE # 182
;---- Variable 'i' assigned to Register 'R6' ----
;---- Variable 'tid' assigned to Register 'R4' ----
0000 AC07              MOV     R4,AR7
                                           ; SOURCE LINE # 183
                                           ; SOURCE LINE # 187
0002 7800        R     MOV     R0,#LOW MenuChild+01H
0004 E2                MOVX    A,@R0
0005 7002              JNZ     ?C0880
0007 18                DEC     R0
0008 E2                MOVX    A,@R0
0009         ?C0880:
0009 6004              JZ      ?C0144
000B E4                CLR     A
000C FE                MOV     R6,A
000D 8002              SJMP    ?C0146
000F         ?C0144:
                                           ; SOURCE LINE # 188
000F 7EFF              MOV     R6,#0FFH
0011         ?C0146:
                                           ; SOURCE LINE # 195
0011 EE                MOV     A,R6
0012 F4                CPL     A
0013 6027              JZ      ?C0147
                                           ; SOURCE LINE # 201
0015 7800        R     MOV     R0,#LOW MenuChild
0017 E2                MOVX    A,@R0
0018 FA                MOV     R2,A
0019 08                INC     R0
001A E2                MOVX    A,@R0
001B FB                MOV     R3,A
001C F582              MOV     DPL,A
001E 8A83              MOV     DPH,R2
0020 EE                MOV     A,R6
0021 120000      R     LCALL   L?1216
0024 740D              MOV     A,#0DH
0026 93                MOVC    A,@A+DPTR
0027 540F              ANL     A,#0FH
0029 B50403            CJNE    A,AR4,?C0148
                                           ; SOURCE LINE # 202
002C AF06              MOV     R7,AR6
002E 22                RET     
002F         ?C0148:
                                           ; SOURCE LINE # 203
002F A903              MOV     R1,AR3
0031 7BFF              MOV     R3,#0FFH
0033 AD06              MOV     R5,AR6
0035 120000      R     LCALL   _GetLowerMenuItem
0038 AE07              MOV     R6,AR7
                                           ; SOURCE LINE # 204
003A 80D5              SJMP    ?C0146
003C         ?C0147:
                                           ; SOURCE LINE # 206
003C AF06              MOV     R7,AR6
                                           ; SOURCE LINE # 207
003E         ?C0149:
003E 22                RET     
             ; FUNCTION _GetTargetChild (END)

             ; FUNCTION DisplayInfo_OSD (BEGIN)
                                           ; SOURCE LINE # 253
                                           ; SOURCE LINE # 254
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 308 

                                           ; SOURCE LINE # 255
0000 7800        R     MOV     R0,#LOW title
0002 7401              MOV     A,#01H
0004 F2                MOVX    @R0,A
                                           ; SOURCE LINE # 258
                                           ; SOURCE LINE # 259
0005 120000      R     LCALL   L?1208
                                           ; SOURCE LINE # 260
0008 08                INC     R0
0009 E2                MOVX    A,@R0
000A 08                INC     R0
000B F2                MOVX    @R0,A
                                           ; SOURCE LINE # 262
000C 7800        R     MOV     R0,#LOW OSDMenuLevel
000E E2                MOVX    A,@R0
000F 04                INC     A
0010 F2                MOVX    @R0,A
                                           ; SOURCE LINE # 264
0011 E4                CLR     A
0012 7800        R     MOV     R0,#LOW MenuChild
0014 F2                MOVX    @R0,A
0015 08                INC     R0
0016 F2                MOVX    @R0,A
                                           ; SOURCE LINE # 265
0017 7800        R     MOV     R0,#LOW cursor_item
0019 74FF              MOV     A,#0FFH
001B F2                MOVX    @R0,A
                                           ; SOURCE LINE # 267
001C 7F01              MOV     R7,#01H
001E 120000      R     LCALL   _DrawMenulist
                                           ; SOURCE LINE # 269
0021 7B73              MOV     R3,#073H
0023 7D32              MOV     R5,#032H
0025 7F26              MOV     R7,#026H
0027 7E00              MOV     R6,#00H
0029 120000      E     LCALL   _DrawAttrCnt
                                           ; SOURCE LINE # 270
002C E4                CLR     A
002D 7800        R     MOV     R0,#LOW i
002F F2                MOVX    @R0,A
0030         ?C0150:
0030 7800        R     MOV     R0,#LOW i
0032 E2                MOVX    A,@R0
0033 75F01A            MOV     B,#01AH
0036 A4                MUL     AB
0037 2400        R     ADD     A,#LOW OSDInfoStr
0039 F582              MOV     DPL,A
003B E4                CLR     A
003C 3400        R     ADDC    A,#HIGH OSDInfoStr
003E F583              MOV     DPH,A
0040 E4                CLR     A
0041 93                MOVC    A,@A+DPTR
0042 6036              JZ      ?C0151
                                           ; SOURCE LINE # 271
0044 08                INC     R0
0045 E2                MOVX    A,@R0
0046 FF                MOV     R7,A
0047 18                DEC     R0
0048 E2                MOVX    A,@R0
0049 FB                MOV     R3,A
004A 2F                ADD     A,R7
004B FF                MOV     R7,A
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 309 

004C E4                CLR     A
004D 33                RLC     A
004E FE                MOV     R6,A
004F 120000      R     LCALL   L?1231
0052 240F              ADD     A,#0FH
0054 FD                MOV     R5,A
0055 E4                CLR     A
0056 3E                ADDC    A,R6
0057 FC                MOV     R4,A
0058 EB                MOV     A,R3
0059 75F01A            MOV     B,#01AH
005C A4                MUL     AB
005D 2400        R     ADD     A,#LOW OSDInfoStr
005F F9                MOV     R1,A
0060 7400        R     MOV     A,#HIGH OSDInfoStr
0062 35F0              ADDC    A,B
0064 FA                MOV     R2,A
0065 7BFF              MOV     R3,#0FFH
0067 7800        E     MOV     R0,#LOW ?_WriteStringToAddr?BYTE+05H
0069 7417              MOV     A,#017H
006B F2                MOVX    @R0,A
006C AF05              MOV     R7,AR5
006E AE04              MOV     R6,AR4
0070 120000      E     LCALL   _WriteStringToAddr
0073 7800        R     MOV     R0,#LOW i
0075 E2                MOVX    A,@R0
0076 04                INC     A
0077 F2                MOVX    @R0,A
0078 80B6              SJMP    ?C0150
007A         ?C0151:
                                           ; SOURCE LINE # 274
007A 120000      E     LCALL   GetInputSelection
;---- Variable 'inputs' assigned to Register 'R7' ----
                                           ; SOURCE LINE # 275
007D 7800        R     MOV     R0,#LOW i
007F 7401              MOV     A,#01H
0081 F2                MOVX    @R0,A
0082         ?C0153:
                                           ; SOURCE LINE # 276
0082 7800        R     MOV     R0,#LOW i
0084 E2                MOVX    A,@R0
0085 FE                MOV     R6,A
0086 75F011            MOV     B,#011H
0089 900000      E     MOV     DPTR,#struct_InputSelection
008C 120000      E     LCALL   ?C?OFFXADD
008F E4                CLR     A
0090 93                MOVC    A,@A+DPTR
0091 6F                XRL     A,R7
0092 6007              JZ      ?C0154
0094         ?C0155:
0094 7800        R     MOV     R0,#LOW i
0096 E2                MOVX    A,@R0
0097 04                INC     A
0098 F2                MOVX    @R0,A
0099 80E7              SJMP    ?C0153
009B         ?C0154:
                                           ; SOURCE LINE # 277
009B EE                MOV     A,R6
009C 120000      R     LCALL   L?1307
                                           ; SOURCE LINE # 278
009F 120000      R     LCALL   L?1161
00A2 241B              ADD     A,#01BH
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 310 

00A4 FD                MOV     R5,A
00A5 E4                CLR     A
00A6 3E                ADDC    A,R6
00A7 FC                MOV     R4,A
00A8 7800        R     MOV     R0,#LOW i
00AA E2                MOVX    A,@R0
00AB 120000      R     LCALL   L?1307
00AE 35F0              ADDC    A,B
00B0 FA                MOV     R2,A
00B1 7BFF              MOV     R3,#0FFH
00B3 7800        R     MOV     R0,#LOW len
00B5 E2                MOVX    A,@R0
00B6 7800        E     MOV     R0,#LOW ?_WriteStringToAddr?BYTE+05H
00B8 F2                MOVX    @R0,A
00B9 AF05              MOV     R7,AR5
00BB AE04              MOV     R6,AR4
00BD 120000      E     LCALL   _WriteStringToAddr
                                           ; SOURCE LINE # 282
00C0 120000      E     LCALL   GetInputSelection
00C3 7800        R     MOV     R0,#LOW i
00C5 EF                MOV     A,R7
00C6 F2                MOVX    @R0,A
                                           ; SOURCE LINE # 283
00C7 6407              XRL     A,#07H
00C9 6005              JZ      ?C0158
00CB E2                MOVX    A,@R0
00CC 6404              XRL     A,#04H
00CE 701D              JNZ     ?C0157
00D0         ?C0158:
                                           ; SOURCE LINE # 284
00D0 120000      E     LCALL   GetPCInputSourceName
00D3 120000      E     LCALL   _strlen
00D6 7800        R     MOV     R0,#LOW len
00D8 EF                MOV     A,R7
00D9 F2                MOVX    @R0,A
                                           ; SOURCE LINE # 285
00DA 18                DEC     R0
00DB 120000      R     LCALL   L?1230
00DE 2432              ADD     A,#032H
00E0 FF                MOV     R7,A
00E1 E4                CLR     A
00E2 3E                ADDC    A,R6
00E3 FE                MOV     R6,A
00E4 C006              PUSH    AR6
00E6 C007              PUSH    AR7
00E8 120000      E     LCALL   GetPCInputSourceName
                                           ; SOURCE LINE # 286
00EB 8018              SJMP    ?C0931
00ED         ?C0157:
                                           ; SOURCE LINE # 289
                                           ; SOURCE LINE # 290
00ED 120000      R     LCALL   L?1284
                                           ; SOURCE LINE # 291
00F0 120000      R     LCALL   L?1161
00F3 2432              ADD     A,#032H
00F5 FF                MOV     R7,A
00F6 E4                CLR     A
00F7 3E                ADDC    A,R6
00F8 FE                MOV     R6,A
00F9 C006              PUSH    AR6
00FB C007              PUSH    AR7
00FD 120000      R     LCALL   L?1284
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 311 

0100 35F0              ADDC    A,B
0102 FA                MOV     R2,A
0103 7BFF              MOV     R3,#0FFH
0105         ?C0931:
0105 7800        R     MOV     R0,#LOW len
0107 E2                MOVX    A,@R0
0108 7800        E     MOV     R0,#LOW ?_WriteStringToAddr?BYTE+05H
010A F2                MOVX    @R0,A
010B D007              POP     AR7
010D D006              POP     AR6
010F 120000      E     LCALL   _WriteStringToAddr
                                           ; SOURCE LINE # 292
0112         ?C0159:
                                           ; SOURCE LINE # 306
0112 7F04              MOV     R7,#04H
0114 120000      R     LCALL   L?1318
                                           ; SOURCE LINE # 307
0117 2430              ADD     A,#030H
0119 7800        R     MOV     R0,#LOW mstr
011B F2                MOVX    @R0,A
                                           ; SOURCE LINE # 308
011C 08                INC     R0
011D 742E              MOV     A,#02EH
011F F2                MOVX    @R0,A
                                           ; SOURCE LINE # 309
0120 7F05              MOV     R7,#05H
0122 120000      R     LCALL   L?1318
                                           ; SOURCE LINE # 310
0125 E2                MOVX    A,@R0
0126 FF                MOV     R7,A
0127 C4                SWAP    A
0128 540F              ANL     A,#0FH
012A 2430              ADD     A,#030H
012C 7800        R     MOV     R0,#LOW mstr+02H
012E F2                MOVX    @R0,A
                                           ; SOURCE LINE # 311
012F EF                MOV     A,R7
0130 540F              ANL     A,#0FH
0132 2430              ADD     A,#030H
0134 08                INC     R0
0135 F2                MOVX    @R0,A
                                           ; SOURCE LINE # 312
0136 E4                CLR     A
0137 08                INC     R0
0138 F2                MOVX    @R0,A
                                           ; SOURCE LINE # 316
0139 7800        R     MOV     R0,#LOW title
013B 120000      R     LCALL   L?1230
013E 2449              ADD     A,#049H
0140 FF                MOV     R7,A
0141 E4                CLR     A
0142 3E                ADDC    A,R6
0143 FE                MOV     R6,A
0144 7BFE              MOV     R3,#0FEH
0146 7A00        R     MOV     R2,#HIGH mstr
0148 7900        R     MOV     R1,#LOW mstr
014A 7800        E     MOV     R0,#LOW ?_WriteStringToAddr?BYTE+05H
014C 7404              MOV     A,#04H
014E F2                MOVX    @R0,A
014F 020000      E     LJMP    _WriteStringToAddr
                                           ; SOURCE LINE # 318
0152         L?1161:
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 312 

0152 35F0              ADDC    A,B
0154 FA                MOV     R2,A
0155 7BFF              MOV     R3,#0FFH
0157 120000      E     LCALL   _strlen
015A 7800        R     MOV     R0,#LOW len
015C EF                MOV     A,R7
015D F2                MOVX    @R0,A
015E 18                DEC     R0
015F E2                MOVX    A,@R0
0160 FF                MOV     R7,A
0161 7E00              MOV     R6,#00H
0163 7C00              MOV     R4,#00H
0165 7D17              MOV     R5,#017H
0167 120000      E     LCALL   ?C?IMUL
016A EF                MOV     A,R7
016B 22                RET     
016C         L?1284:
016C 120000      E     LCALL   GetVInputStdInx
016F EF                MOV     A,R7
0170 75F011            MOV     B,#011H
0173 A4                MUL     AB
0174 2400        E     ADD     A,#LOW struct_VInputStd+01H
0176 F9                MOV     R1,A
0177 7400        E     MOV     A,#HIGH struct_VInputStd+01H
0179 22                RET     
017A         L?1318:
017A 7E00              MOV     R6,#00H
017C 120000      E     LCALL   _ReadEEP
017F 7800        R     MOV     R0,#LOW i
0181 EF                MOV     A,R7
0182 F2                MOVX    @R0,A
0183 22                RET     
             ; FUNCTION DisplayInfo_OSD (END)

             ; FUNCTION _DisplayVolumebar (BEGIN)
                                           ; SOURCE LINE # 326
0000 7800        R     MOV     R0,#LOW val
0002 EF                MOV     A,R7
0003 F2                MOVX    @R0,A
                                           ; SOURCE LINE # 327
                                           ; SOURCE LINE # 337
0004 08                INC     R0
0005 7C00        R     MOV     R4,#HIGH Bar_str
0007 7DFE              MOV     R5,#0FEH
0009 7BFF              MOV     R3,#0FFH
000B 7A00        R     MOV     R2,#HIGH _?ix1000
000D 7900        R     MOV     R1,#LOW _?ix1000
000F 7E00              MOV     R6,#00H
0011 7F18              MOV     R7,#018H
0013 120000      E     LCALL   ?C?COPY
                                           ; SOURCE LINE # 343
0016 7800        R     MOV     R0,#LOW val
0018 E2                MOVX    A,@R0
0019 C3                CLR     C
001A 9464              SUBB    A,#064H
001C 5030              JNC     ?C0161
                                           ; SOURCE LINE # 344
                                           ; SOURCE LINE # 345
001E E2                MOVX    A,@R0
001F FF                MOV     R7,A
0020 75F005            MOV     B,#05H
0023 84                DIV     AB
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 313 

0024 E5F0              MOV     A,B
0026 900000      R     MOV     DPTR,#BAR_ROM_TABLE
0029 93                MOVC    A,@A+DPTR
002A FE                MOV     R6,A
002B EF                MOV     A,R7
002C 75F005            MOV     B,#05H
002F 84                DIV     AB
0030 FF                MOV     R7,A
0031 2400        R     ADD     A,#LOW Bar_str
0033 F8                MOV     R0,A
0034 EE                MOV     A,R6
0035 F2                MOVX    @R0,A
                                           ; SOURCE LINE # 346
0036 EF                MOV     A,R7
0037 04                INC     A
0038 FF                MOV     R7,A
;---- Variable 'i' assigned to Register 'R7' ----
0039         ?C0162:
0039 EF                MOV     A,R7
003A C3                CLR     C
003B 9414              SUBB    A,#014H
003D 500F              JNC     ?C0161
                                           ; SOURCE LINE # 347
003F 900000      R     MOV     DPTR,#BAR_ROM_TABLE
0042 E4                CLR     A
0043 93                MOVC    A,@A+DPTR
0044 FE                MOV     R6,A
0045 7400        R     MOV     A,#LOW Bar_str
0047 2F                ADD     A,R7
0048 F8                MOV     R0,A
0049 EE                MOV     A,R6
004A F2                MOVX    @R0,A
004B 0F                INC     R7
004C 80EB              SJMP    ?C0162
                                           ; SOURCE LINE # 348
004E         ?C0161:
                                           ; SOURCE LINE # 350
004E 7800        R     MOV     R0,#LOW Bar_str
0050 E2                MOVX    A,@R0
0051 B40103            CJNE    A,#01H,?C0165
0054 7402              MOV     A,#02H
0056 F2                MOVX    @R0,A
0057         ?C0165:
                                           ; SOURCE LINE # 353
0057 7800        R     MOV     R0,#LOW val
0059 120000      R     LCALL   L?1195
005C 7800        R     MOV     R0,#LOW Bar_str+017H
005E F2                MOVX    @R0,A
005F 7800        R     MOV     R0,#LOW val
                                           ; SOURCE LINE # 354
0061 120000      R     LCALL   L?1194
0064 7800        R     MOV     R0,#LOW Bar_str+016H
0066 F2                MOVX    @R0,A
0067 7800        R     MOV     R0,#LOW val
                                           ; SOURCE LINE # 355
0069 120000      R     LCALL   L?1308
006C 7800        R     MOV     R0,#LOW Bar_str+015H
006E F2                MOVX    @R0,A
                                           ; SOURCE LINE # 356
006F BF3003            CJNE    R7,#030H,?C0166
0072 7420              MOV     A,#020H
0074 F2                MOVX    @R0,A
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 314 

0075         ?C0166:
                                           ; SOURCE LINE # 358
;---- Variable 'addr' assigned to Register 'R6/R7' ----
0075 7FC8              MOV     R7,#0C8H
0077 7E00              MOV     R6,#00H
                                           ; SOURCE LINE # 360
0079 7BFE              MOV     R3,#0FEH
007B 7A00        R     MOV     R2,#HIGH Bar_str
007D 7900        R     MOV     R1,#LOW Bar_str
007F 7800        E     MOV     R0,#LOW ?_WriteStringToAddr?BYTE+05H
0081 7418              MOV     A,#018H
0083 F2                MOVX    @R0,A
0084 020000      E     LJMP    _WriteStringToAddr
             ; FUNCTION _DisplayVolumebar (END)

             ; FUNCTION _Get_cursor_item (BEGIN)
                                           ; SOURCE LINE # 364
;---- Variable 'id' assigned to Register 'R7' ----
                                           ; SOURCE LINE # 365
                                           ; SOURCE LINE # 366
0000 7800        R     MOV     R0,#LOW i
0002 74FF              MOV     A,#0FFH
0004 F2                MOVX    @R0,A
                                           ; SOURCE LINE # 373
0005 EF                MOV     A,R7
0006 24D1              ADD     A,#0D1H
0008 7009              JNZ     ?C0170
                                           ; SOURCE LINE # 374
000A         ?C0169:
000A 120000      E     LCALL   GetInputSelection
000D 7800        R     MOV     R0,#LOW tid
000F EF                MOV     A,R7
0010 F2                MOVX    @R0,A
                                           ; SOURCE LINE # 375
0011 8003              SJMP    ?C0168
                                           ; SOURCE LINE # 377
0013         ?C0170:
0013 7F00              MOV     R7,#00H
0015 22                RET     
                                           ; SOURCE LINE # 378
0016         ?C0168:
                                           ; SOURCE LINE # 380
0016 7800        R     MOV     R0,#LOW tid
0018 E2                MOVX    A,@R0
0019 FF                MOV     R7,A
001A 120000      R     LCALL   _GetTargetChild
001D 7800        R     MOV     R0,#LOW i
001F EF                MOV     A,R7
0020 F2                MOVX    @R0,A
                                           ; SOURCE LINE # 382
0021 BFFF02            CJNE    R7,#0FFH,?C0172
                                           ; SOURCE LINE # 384
0024 E4                CLR     A
0025 F2                MOVX    @R0,A
                                           ; SOURCE LINE # 385
0026         ?C0172:
                                           ; SOURCE LINE # 391
0026 7800        R     MOV     R0,#LOW i
0028 E2                MOVX    A,@R0
0029 FF                MOV     R7,A
                                           ; SOURCE LINE # 392
002A         ?C0171:
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 315 

002A 22                RET     
             ; FUNCTION _Get_cursor_item (END)

             ; FUNCTION _DisplayOSDMenuOneItem (BEGIN)
                                           ; SOURCE LINE # 398
0000 7800        R     MOV     R0,#LOW winno
0002 120000      R     LCALL   L?1266
                                           ; SOURCE LINE # 399
                                           ; SOURCE LINE # 410
0005 7800        R     MOV     R0,#LOW cur_osdwin
0007 E2                MOVX    A,@R0
0008 B40308            CJNE    A,#03H,?C0173
000B E4                CLR     A
000C 7800        R     MOV     R0,#LOW addr
000E F2                MOVX    @R0,A
000F 08                INC     R0
0010 F2                MOVX    @R0,A
0011 8008              SJMP    ?C0174
0013         ?C0173:
                                           ; SOURCE LINE # 411
0013 7800        R     MOV     R0,#LOW addr
0015 E4                CLR     A
0016 F2                MOVX    @R0,A
0017 08                INC     R0
0018 740F              MOV     A,#0FH
001A F2                MOVX    @R0,A
001B         ?C0174:
                                           ; SOURCE LINE # 413
001B 120000      R     LCALL   L?1145
001E 7800        R     MOV     R0,#LOW y
0020 120000      R     LCALL   L?1261
0023 AEF0              MOV     R6,B
0025 18                DEC     R0
0026 E2                MOVX    A,@R0
0027 FD                MOV     R5,A
0028 7800        R     MOV     R0,#LOW addr+01H
002A E2                MOVX    A,@R0
002B 2D                ADD     A,R5
002C FD                MOV     R5,A
002D 18                DEC     R0
002E E2                MOVX    A,@R0
002F 3400              ADDC    A,#00H
0031 CD                XCH     A,R5
0032 2F                ADD     A,R7
0033 08                INC     R0
0034 F2                MOVX    @R0,A
0035 ED                MOV     A,R5
0036 3E                ADDC    A,R6
0037 18                DEC     R0
0038 F2                MOVX    @R0,A
                                           ; SOURCE LINE # 419
0039 7800        R     MOV     R0,#LOW DMp
003B 120000      E     LCALL   ?C?PLDPDATA
003E 900007            MOV     DPTR,#07H
0041 120000      E     LCALL   ?C?CLDOPTR
0044 FF                MOV     R7,A
0045 F4                CPL     A
0046 6027              JZ      ?C0175
                                           ; SOURCE LINE # 422
0048 7800        R     MOV     R0,#LOW DMp
004A 120000      E     LCALL   ?C?PLDPDATA
004D 7800        R     MOV     R0,#LOW IconColor
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 316 

004F EF                MOV     A,R7
0050 F2                MOVX    @R0,A
                                           ; SOURCE LINE # 424
0051 120000      E     LCALL   ?C?ILDPTR
0054 AAF0              MOV     R2,B
0056 7800        R     MOV     R0,#LOW Str
0058 120000      R     LCALL   L?1236
                                           ; SOURCE LINE # 425
005B 120000      E     LCALL   _strlen
005E 7800        R     MOV     R0,#LOW j
0060 EF                MOV     A,R7
0061 F2                MOVX    @R0,A
0062 FD                MOV     R5,A
                                           ; SOURCE LINE # 426
0063 120000      R     LCALL   L?1179
0066 120000      R     LCALL   L?1276
                                           ; SOURCE LINE # 428
0069 7800        R     MOV     R0,#LOW x
006B E2                MOVX    A,@R0
006C 2402              ADD     A,#02H
006E F2                MOVX    @R0,A
                                           ; SOURCE LINE # 429
006F         ?C0175:
                                           ; SOURCE LINE # 431
006F 7800        R     MOV     R0,#LOW DMp
0071 120000      E     LCALL   ?C?PLDPDATA
0074 900008            MOV     DPTR,#08H
0077 120000      E     LCALL   ?C?CLDOPTR
007A F4                CPL     A
007B 6071              JZ      ?C0176
                                           ; SOURCE LINE # 433
007D 7800        R     MOV     R0,#LOW DMp
007F 120000      E     LCALL   ?C?PLDPDATA
0082 120000      R     LCALL   L?1223
0085 7800        R     MOV     R0,#LOW Str
0087 120000      E     LCALL   ?C?PSTPDATA
                                           ; SOURCE LINE # 434
008A 120000      E     LCALL   _strlen
008D 7800        R     MOV     R0,#LOW j
008F EF                MOV     A,R7
0090 F2                MOVX    @R0,A
                                           ; SOURCE LINE # 436
;---- Variable 'i' assigned to Register 'R7' ----
0091 E4                CLR     A
0092 FF                MOV     R7,A
0093 08                INC     R0
0094 F2                MOVX    @R0,A
0095         ?C0177:
0095 7800        R     MOV     R0,#LOW j
0097 E2                MOVX    A,@R0
0098 FD                MOV     R5,A
0099 EF                MOV     A,R7
009A C3                CLR     C
009B 9D                SUBB    A,R5
009C 501D              JNC     ?C0178
                                           ; SOURCE LINE # 437
009E 7800        R     MOV     R0,#LOW Str
00A0 120000      E     LCALL   ?C?PLDPDATA
00A3 8F82              MOV     DPL,R7
00A5 758300            MOV     DPH,#00H
00A8 120000      E     LCALL   ?C?CLDOPTR
00AB FE                MOV     R6,A
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 317 

00AC F4                CPL     A
00AD 6004              JZ      ?C0181
00AF EE                MOV     A,R6
00B0 B4FE05            CJNE    A,#0FEH,?C0179
00B3         ?C0181:
00B3 7800        R     MOV     R0,#LOW k
00B5 E2                MOVX    A,@R0
00B6 04                INC     A
00B7 F2                MOVX    @R0,A
00B8         ?C0179:
00B8 0F                INC     R7
00B9 80DA              SJMP    ?C0177
00BB         ?C0178:
                                           ; SOURCE LINE # 443
00BB 120000      R     LCALL   L?1179
00BE 120000      R     LCALL   L?1276
                                           ; SOURCE LINE # 445
00C1 7800        R     MOV     R0,#LOW k
00C3 E2                MOVX    A,@R0
00C4 FD                MOV     R5,A
00C5 18                DEC     R0
00C6 E2                MOVX    A,@R0
00C7 C3                CLR     C
00C8 9D                SUBB    A,R5
00C9 C3                CLR     C
00CA 940F              SUBB    A,#0FH
00CC 5018              JNC     ?C0182
                                           ; SOURCE LINE # 446
00CE E2                MOVX    A,@R0
00CF FC                MOV     R4,A
00D0 FF                MOV     R7,A
00D1 7800        R     MOV     R0,#LOW addr+01H
00D3 E2                MOVX    A,@R0
00D4 2F                ADD     A,R7
00D5 120000      R     LCALL   L?1207
00D8 ED                MOV     A,R5
00D9 120000      R     LCALL   L?1300
00DC 740F              MOV     A,#0FH
00DE 9C                SUBB    A,R4
00DF FC                MOV     R4,A
00E0 ED                MOV     A,R5
00E1 2C                ADD     A,R4
00E2 FD                MOV     R5,A
00E3 120000      E     LCALL   _ClearDataCnt
00E6         ?C0182:
                                           ; SOURCE LINE # 448
00E6 7800        R     MOV     R0,#LOW addr+01H
00E8 E2                MOVX    A,@R0
00E9 240F              ADD     A,#0FH
00EB 120000      R     LCALL   L?1104
                                           ; SOURCE LINE # 450
00EE         ?C0176:
                                           ; SOURCE LINE # 452
00EE 7800        R     MOV     R0,#LOW OSDMenuLevel
00F0 E2                MOVX    A,@R0
00F1 C3                CLR     C
00F2 9403              SUBB    A,#03H
00F4 500A              JNC     ?C0183
                                           ; SOURCE LINE # 453
00F6 7800        R     MOV     R0,#LOW NOTViewflag
00F8 E2                MOVX    A,@R0
00F9 6401              XRL     A,#01H
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 318 

00FB 7003              JNZ     $ + 5H
00FD 020000      R     LJMP    ?C0185
0100         ?C0183:
                                           ; SOURCE LINE # 463
0100 7800        R     MOV     R0,#LOW DMp
0102 120000      E     LCALL   ?C?PLDPDATA
0105 90000B            MOV     DPTR,#0BH
0108 120000      E     LCALL   ?C?CLDOPTR
010B 120000      E     LCALL   ?C?CCASE
010E 0000        R     DW      ?C0195
0110 01                DB      01H
0111 0000        R     DW      ?C0195
0113 02                DB      02H
0114 0000        R     DW      ?C0195
0116 03                DB      03H
0117 0000        R     DW      ?C0187
0119 04                DB      04H
011A 0000        R     DW      ?C0188
011C 05                DB      05H
011D 0000        R     DW      ?C0191
011F 07                DB      07H
0120 0000        R     DW      ?C0195
0122 0A                DB      0AH
0123 0000        R     DW      ?C0196
0125 0B                DB      0BH
0126 0000              DW      00H
0128 0000        R     DW      ?C0185
                                           ; SOURCE LINE # 464
012A         ?C0187:
                                           ; SOURCE LINE # 465
012A 120000      R     LCALL   L?1178
012D 120000      R     LCALL   _GetItemValue
0130 AD07              MOV     R5,AR7
0132 120000      R     LCALL   L?1180
0135 020000      R     LJMP    _DisplayViewBar
                                           ; SOURCE LINE # 466
                                           ; SOURCE LINE # 468
0138         ?C0188:
                                           ; SOURCE LINE # 469
                                           ; SOURCE LINE # 471
                                           ; SOURCE LINE # 472
0138 120000      R     LCALL   L?1177
                                           ; SOURCE LINE # 478
013B         ?C0190:
                                           ; SOURCE LINE # 479
013B 120000      R     LCALL   _GetItemValue
013E 7800        R     MOV     R0,#LOW ?_DrawNum?BYTE+05H
0140 EE                MOV     A,R6
0141 F2                MOVX    @R0,A
0142 08                INC     R0
0143 EF                MOV     A,R7
0144 F2                MOVX    @R0,A
0145 120000      R     LCALL   L?1180
0148 7800        R     MOV     R0,#LOW ptr
014A 120000      E     LCALL   ?C?PLDPDATA
014D 020000      R     LJMP    _DrawNum
                                           ; SOURCE LINE # 480
                                           ; SOURCE LINE # 481
                                           ; SOURCE LINE # 482
                                           ; SOURCE LINE # 483
                                           ; SOURCE LINE # 484
0150         ?C0191:
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 319 

                                           ; SOURCE LINE # 485
                                           ; SOURCE LINE # 488
                                           ; SOURCE LINE # 489
0150 120000      R     LCALL   L?1177
0153 120000      R     LCALL   _GetItemValue
0156 7800        R     MOV     R0,#LOW ?_DrawStringByLang?BYTE+05H
0158 EE                MOV     A,R6
0159 F2                MOVX    @R0,A
015A 08                INC     R0
015B EF                MOV     A,R7
015C F2                MOVX    @R0,A
015D 120000      R     LCALL   L?1180
0160 7800        R     MOV     R0,#LOW ptr
0162 120000      E     LCALL   ?C?PLDPDATA
0165 020000      R     LJMP    _DrawStringByLang
                                           ; SOURCE LINE # 491
                                           ; SOURCE LINE # 492
                                           ; SOURCE LINE # 494
                                           ; SOURCE LINE # 495
                                           ; SOURCE LINE # 496
                                           ; SOURCE LINE # 497
0168         ?C0195:
                                           ; SOURCE LINE # 498
0168 120000      R     LCALL   L?1180
016B 7BFF              MOV     R3,#0FFH
016D 7A00        R     MOV     R2,#HIGH RightSign_str
016F 7900        R     MOV     R1,#LOW RightSign_str
                                           ; SOURCE LINE # 499
0171 8009              SJMP    ?C0932
                                           ; SOURCE LINE # 500
0173         ?C0196:
                                           ; SOURCE LINE # 501
0173 120000      R     LCALL   L?1180
0176 7BFF              MOV     R3,#0FFH
0178 7A00        R     MOV     R2,#HIGH SpaceStr
017A 7900        R     MOV     R1,#LOW SpaceStr
017C         ?C0932:
017C 7800        E     MOV     R0,#LOW ?_WriteStringToAddr?BYTE+05H
017E 7408              MOV     A,#08H
0180 F2                MOVX    @R0,A
0181 120000      E     LCALL   _WriteStringToAddr
                                           ; SOURCE LINE # 502
                                           ; SOURCE LINE # 504
                                           ; SOURCE LINE # 506
0184         ?C0185:
0184 22                RET     
0185         L?1276:
0185 08                INC     R0
0186 120000      E     LCALL   ?C?PLDPDATA
0189 7800        E     MOV     R0,#LOW ?_WriteStringToAddr?BYTE+05H
018B ED                MOV     A,R5
018C F2                MOVX    @R0,A
018D 120000      E     LCALL   _WriteStringToAddr
0190 22                RET     
             ; FUNCTION _DisplayOSDMenuOneItem (END)

             ; FUNCTION ClearCursor (BEGIN)
                                           ; SOURCE LINE # 508
                                           ; SOURCE LINE # 509
                                           ; SOURCE LINE # 514
0000 7800        R     MOV     R0,#LOW cursor_item
0002 E2                MOVX    A,@R0
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 320 

0003 FF                MOV     R7,A
0004 F4                CPL     A
0005 6040              JZ      ?C0198
0007         ?C0197:
                                           ; SOURCE LINE # 518
0007 120000      R     LCALL   L?1182
000A 7402              MOV     A,#02H
000C 93                MOVC    A,@A+DPTR
000D B4FF04            CJNE    A,#0FFH,?C0199
0010 7E00              MOV     R6,#00H
0012 8002              SJMP    ?C0200
0014         ?C0199:
0014 7E01              MOV     R6,#01H
0016         ?C0200:
0016 EF                MOV     A,R7
0017 2E                ADD     A,R6
0018 FF                MOV     R7,A
;---- Variable 'cursor_y' assigned to Register 'R7' ----
                                           ; SOURCE LINE # 519
0019 7800        R     MOV     R0,#LOW cur_osdwin
001B E2                MOVX    A,@R0
001C B40408            CJNE    A,#04H,?C0201
001F E4                CLR     A
0020 7800        R     MOV     R0,#LOW addr
0022 F2                MOVX    @R0,A
0023 08                INC     R0
0024 F2                MOVX    @R0,A
0025 8008              SJMP    ?C0202
0027         ?C0201:
                                           ; SOURCE LINE # 520
0027 7800        R     MOV     R0,#LOW addr
0029 E4                CLR     A
002A F2                MOVX    @R0,A
002B 08                INC     R0
002C 740A              MOV     A,#0AH
002E F2                MOVX    @R0,A
002F         ?C0202:
                                           ; SOURCE LINE # 521
002F 120000      R     LCALL   L?1182
0032 E4                CLR     A
0033 93                MOVC    A,@A+DPTR
0034 FB                MOV     R3,A
0035 EF                MOV     A,R7
0036 8BF0              MOV     B,R3
0038 7800        R     MOV     R0,#LOW addr+01H
003A 120000      R     LCALL   L?1168
                                           ; SOURCE LINE # 522
003D E2                MOVX    A,@R0
003E FE                MOV     R6,A
003F 08                INC     R0
0040 E2                MOVX    A,@R0
0041 FF                MOV     R7,A
0042 7D37              MOV     R5,#037H
0044 120000      E     LCALL   _DrawAttrCnt
                                           ; SOURCE LINE # 524
0047         ?C0198:
0047 22                RET     
             ; FUNCTION ClearCursor (END)

             ; FUNCTION DisplayCursor (BEGIN)
                                           ; SOURCE LINE # 526
                                           ; SOURCE LINE # 527
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 321 

                                           ; SOURCE LINE # 528
0000 E4                CLR     A
0001 7800        R     MOV     R0,#LOW cursor_y
0003 F2                MOVX    @R0,A
                                           ; SOURCE LINE # 531
0004 7800        R     MOV     R0,#LOW cursor_item
0006 E2                MOVX    A,@R0
0007 F4                CPL     A
0008 7003              JNZ     $ + 5H
000A 020000      R     LJMP    ?C0204
000D         ?C0203:
                                           ; SOURCE LINE # 534
000D E4                CLR     A
000E 7800        R     MOV     R0,#LOW i
0010 F2                MOVX    @R0,A
0011         ?C0205:
0011 7800        R     MOV     R0,#LOW i
0013 E2                MOVX    A,@R0
0014 FF                MOV     R7,A
0015 C3                CLR     C
0016 9408              SUBB    A,#08H
0018 5021              JNC     ?C0206
                                           ; SOURCE LINE # 535
                                           ; SOURCE LINE # 536
001A 18                DEC     R0
001B EF                MOV     A,R7
001C F2                MOVX    @R0,A
                                           ; SOURCE LINE # 537
001D 7800        R     MOV     R0,#LOW addr
                                           ; SOURCE LINE # 538
001F 120000      R     LCALL   L?1143
0022 E4                CLR     A
0023 93                MOVC    A,@A+DPTR
0024 FB                MOV     R3,A
0025 8BF0              MOV     B,R3
0027 120000      R     LCALL   L?1167
                                           ; SOURCE LINE # 539
002A E2                MOVX    A,@R0
002B FE                MOV     R6,A
002C 08                INC     R0
002D E2                MOVX    A,@R0
002E FF                MOV     R7,A
002F 7D37              MOV     R5,#037H
0031 120000      E     LCALL   _DrawAttrCnt
                                           ; SOURCE LINE # 540
0034 7800        R     MOV     R0,#LOW i
0036 E2                MOVX    A,@R0
0037 04                INC     A
0038 F2                MOVX    @R0,A
0039 80D6              SJMP    ?C0205
003B         ?C0206:
                                           ; SOURCE LINE # 543
003B 7800        R     MOV     R0,#LOW MenuFormat
003D 120000      R     LCALL   L?1175
0040 7402              MOV     A,#02H
0042 93                MOVC    A,@A+DPTR
0043 B4FF04            CJNE    A,#0FFH,?C0208
0046 7D00              MOV     R5,#00H
0048 8002              SJMP    ?C0209
004A         ?C0208:
004A 7D01              MOV     R5,#01H
004C         ?C0209:
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 322 

004C 7800        R     MOV     R0,#LOW cursor_item
004E E2                MOVX    A,@R0
004F 2D                ADD     A,R5
0050 7800        R     MOV     R0,#LOW cursor_y
0052 F2                MOVX    @R0,A
                                           ; SOURCE LINE # 545
0053 7800        R     MOV     R0,#LOW OSDMenuLevel
0055 E2                MOVX    A,@R0
0056 FD                MOV     R5,A
0057 B40108            CJNE    A,#01H,?C0210
005A E4                CLR     A
005B 7800        R     MOV     R0,#LOW addr
005D F2                MOVX    @R0,A
005E 08                INC     R0
005F F2                MOVX    @R0,A
0060 8008              SJMP    ?C0211
0062         ?C0210:
                                           ; SOURCE LINE # 546
0062 7800        R     MOV     R0,#LOW addr
0064 E4                CLR     A
0065 F2                MOVX    @R0,A
0066 08                INC     R0
0067 740F              MOV     A,#0FH
0069 F2                MOVX    @R0,A
006A         ?C0211:
                                           ; SOURCE LINE # 548
006A 8F82              MOV     DPL,R7
006C 8E83              MOV     DPH,R6
006E E4                CLR     A
006F 93                MOVC    A,@A+DPTR
0070 F9                MOV     R1,A
0071 89F0              MOV     B,R1
0073 120000      R     LCALL   L?1167
                                           ; SOURCE LINE # 550
0076 ED                MOV     A,R5
0077 B4010B            CJNE    A,#01H,?C0212
                                           ; SOURCE LINE # 551
007A 120000      R     LCALL   L?1181
007D 7403              MOV     A,#03H
007F 93                MOVC    A,@A+DPTR
0080 FD                MOV     R5,A
0081 AB01              MOV     R3,AR1
0083 802B              SJMP    ?C0934
0085         ?C0212:
                                           ; SOURCE LINE # 553
                                           ; SOURCE LINE # 554
0085 300013      R     JNB     OnChangingValue,?C0214
                                           ; SOURCE LINE # 555
                                           ; SOURCE LINE # 556
0088 120000      R     LCALL   L?1107
008B 740D              MOV     A,#0DH
008D 93                MOVC    A,@A+DPTR
008E FF                MOV     R7,A
008F 120000      R     LCALL   _GetItemValue
0092 120000      R     LCALL   _GetItemValue
                                           ; SOURCE LINE # 557
0095 120000      R     LCALL   L?1217
0098 FB                MOV     R3,A
0099         ?C0933:
                                           ; SOURCE LINE # 558
0099 8015              SJMP    ?C0934
009B         ?C0214:
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 323 

                                           ; SOURCE LINE # 560
                                           ; SOURCE LINE # 561
009B 120000      R     LCALL   L?1217
009E 24F8              ADD     A,#0F8H
00A0 FB                MOV     R3,A
00A1 120000      E     LCALL   _DrawAttrCnt
                                           ; SOURCE LINE # 562
00A4 7800        R     MOV     R0,#LOW addr+01H
00A6 E2                MOVX    A,@R0
00A7 240F              ADD     A,#0FH
00A9 120000      R     LCALL   L?1207
00AC 7B08              MOV     R3,#08H
00AE 7D37              MOV     R5,#037H
00B0         ?C0934:
00B0 120000      E     LCALL   _DrawAttrCnt
                                           ; SOURCE LINE # 563
                                           ; SOURCE LINE # 564
                                           ; SOURCE LINE # 566
00B3         ?C0204:
00B3 22                RET     
             ; FUNCTION DisplayCursor (END)

             ; FUNCTION _GetItemValue (BEGIN)
                                           ; SOURCE LINE # 574
0000 7800        R     MOV     R0,#LOW id
0002 EF                MOV     A,R7
0003 F2                MOVX    @R0,A
                                           ; SOURCE LINE # 575
                                           ; SOURCE LINE # 576
0004 E4                CLR     A
0005 08                INC     R0
0006 F2                MOVX    @R0,A
0007 08                INC     R0
0008 F2                MOVX    @R0,A
                                           ; SOURCE LINE # 582
0009 EF                MOV     A,R7
000A 120000      E     LCALL   ?C?CCASE
000D 0000        R     DW      ?C0217
000F 10                DB      010H
0010 0000        R     DW      ?C0218
0012 16                DB      016H
0013 0000        R     DW      ?C0268
0015 20                DB      020H
0016 0000        R     DW      ?C0269
0018 21                DB      021H
0019 0000        R     DW      ?C0270
001B 22                DB      022H
001C 0000        R     DW      ?C0271
001E 23                DB      023H
001F 0000        R     DW      ?C0272
0021 24                DB      024H
0022 0000        R     DW      ?C0273
0024 25                DB      025H
0025 0000        R     DW      ?C0274
0027 26                DB      026H
0028 0000        R     DW      ?C0275
002A 27                DB      027H
002B 0000        R     DW      ?C0276
002D 28                DB      028H
002E 0000        R     DW      ?C0277
0030 29                DB      029H
0031 0000        R     DW      ?C0278
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 324 

0033 2A                DB      02AH
0034 0000        R     DW      ?C0279
0036 2B                DB      02BH
0037 0000        R     DW      ?C0280
0039 2C                DB      02CH
003A 0000        R     DW      ?C0282
003C 2D                DB      02DH
003D 0000        R     DW      ?C0283
003F 2E                DB      02EH
0040 0000        R     DW      ?C0284
0042 2F                DB      02FH
0043 0000        R     DW      ?C0225
0045 30                DB      030H
0046 0000        R     DW      ?C0226
0048 35                DB      035H
0049 0000        R     DW      ?C0227
004B 36                DB      036H
004C 0000        R     DW      ?C0228
004E 37                DB      037H
004F 0000        R     DW      ?C0285
0051 38                DB      038H
0052 0000        R     DW      ?C0221
0054 43                DB      043H
0055 0000        R     DW      ?C0222
0057 44                DB      044H
0058 0000        R     DW      ?C0223
005A 45                DB      045H
005B 0000        R     DW      ?C0224
005D 46                DB      046H
005E 0000        R     DW      ?C0219
0060 58                DB      058H
0061 0000        R     DW      ?C0220
0063 59                DB      059H
0064 0000        R     DW      ?C0239
0066 6F                DB      06FH
0067 0000        R     DW      ?C0229
0069 90                DB      090H
006A 0000        R     DW      ?C0235
006C 95                DB      095H
006D 0000        R     DW      ?C0235
006F 96                DB      096H
0070 0000        R     DW      ?C0235
0072 97                DB      097H
0073 0000        R     DW      ?C0235
0075 99                DB      099H
0076 0000        R     DW      ?C0235
0078 9A                DB      09AH
0079 0000        R     DW      ?C0235
007B 9C                DB      09CH
007C 0000        R     DW      ?C0286
007E A3                DB      0A3H
007F 0000        R     DW      ?C0287
0081 A4                DB      0A4H
0082 0000        R     DW      ?C0288
0084 A5                DB      0A5H
0085 0000        R     DW      ?C0236
0087 B7                DB      0B7H
0088 0000        R     DW      ?C0241
008A B8                DB      0B8H
008B 0000        R     DW      ?C0242
008D B9                DB      0B9H
008E 0000        R     DW      ?C0244
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 325 

0090 BA                DB      0BAH
0091 0000        R     DW      ?C0245
0093 BB                DB      0BBH
0094 0000        R     DW      ?C0240
0096 C0                DB      0C0H
0097 0000        R     DW      ?C0247
0099 C1                DB      0C1H
009A 0000        R     DW      ?C0248
009C C2                DB      0C2H
009D 0000        R     DW      ?C0249
009F C3                DB      0C3H
00A0 0000        R     DW      ?C0250
00A2 C4                DB      0C4H
00A3 0000        R     DW      ?C0251
00A5 C5                DB      0C5H
00A6 0000        R     DW      ?C0255
00A8 C6                DB      0C6H
00A9 0000        R     DW      ?C0257
00AB C7                DB      0C7H
00AC 0000        R     DW      ?C0258
00AE C8                DB      0C8H
00AF 0000        R     DW      ?C0259
00B1 C9                DB      0C9H
00B2 0000        R     DW      ?C0246
00B4 CA                DB      0CAH
00B5 0000        R     DW      ?C0256
00B7 CB                DB      0CBH
00B8 0000        R     DW      ?C0243
00BA CC                DB      0CCH
00BB 0000        R     DW      ?C0252
00BD CD                DB      0CDH
00BE 0000        R     DW      ?C0253
00C0 CE                DB      0CEH
00C1 0000        R     DW      ?C0254
00C3 CF                DB      0CFH
00C4 0000        R     DW      ?C0260
00C6 E0                DB      0E0H
00C7 0000        R     DW      ?C0261
00C9 E1                DB      0E1H
00CA 0000        R     DW      ?C0262
00CC E2                DB      0E2H
00CD 0000        R     DW      ?C0263
00CF E3                DB      0E3H
00D0 0000        R     DW      ?C0264
00D2 E4                DB      0E4H
00D3 0000        R     DW      ?C0265
00D5 E5                DB      0E5H
00D6 0000        R     DW      ?C0266
00D8 E6                DB      0E6H
00D9 0000        R     DW      ?C0267
00DB EC                DB      0ECH
00DC 0000        R     DW      ?C0281
00DE EF                DB      0EFH
00DF 0000              DW      00H
00E1 0000        R     DW      ?C0216
                                           ; SOURCE LINE # 589
00E3         ?C0217:
00E3 120000      R     LCALL   GetOSDPositionMode
00E6 020000      R     LJMP    ?C0950
                                           ; SOURCE LINE # 594
00E9         ?C0218:
00E9 7800        R     MOV     R0,#LOW OSDLang
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 326 

00EB E2                MOVX    A,@R0
00EC 540F              ANL     A,#0FH
00EE FF                MOV     R7,A
00EF         ?C0936:
00EF 020000      R     LJMP    ?C0950
                                           ; SOURCE LINE # 597
00F2         ?C0219:
00F2 7F10              MOV     R7,#010H
00F4 8002              SJMP    ?C0938
                                           ; SOURCE LINE # 598
00F6         ?C0220:
00F6 7F11              MOV     R7,#011H
00F8         ?C0938:
00F8 7E00              MOV     R6,#00H
00FA 120000      E     LCALL   _ReadEEP
00FD 7E00              MOV     R6,#00H
00FF 120000      R     LCALL   L?1153
0102 805D              SJMP    ?C0942
                                           ; SOURCE LINE # 600
0104         ?C0221:
0104 120000      E     LCALL   GetVPosition
0107         ?C0937:
0107 8062              SJMP    ?C0950
                                           ; SOURCE LINE # 601
0109         ?C0222:
0109 120000      E     LCALL   GetHPosition
010C         ?C0940:
010C 805D              SJMP    ?C0950
                                           ; SOURCE LINE # 602
010E         ?C0223:
010E 120000      E     LCALL   GetCoarseValue
0111         ?C0939:
0111 804E              SJMP    ?C0942
                                           ; SOURCE LINE # 603
0113         ?C0224:
0113 120000      E     LCALL   GetPhaseCurrent
0116         ?C0941:
0116 8053              SJMP    ?C0950
                                           ; SOURCE LINE # 605
0118         ?C0225:
0118 7F80              MOV     R7,#080H
011A 7E00              MOV     R6,#00H
011C 120000      E     LCALL   _ReadEEP
011F         ?C0943:
011F 804A              SJMP    ?C0950
                                           ; SOURCE LINE # 606
0121         ?C0226:
0121 E4                CLR     A
0122 FF                MOV     R7,A
0123 120000      R     LCALL   _GetPCColorTemp
0126         ?C0944:
0126 8043              SJMP    ?C0950
                                           ; SOURCE LINE # 607
0128         ?C0227:
0128 7F01              MOV     R7,#01H
012A 120000      R     LCALL   _GetPCColorTemp
012D         ?C0945:
012D 803C              SJMP    ?C0950
                                           ; SOURCE LINE # 608
012F         ?C0228:
012F 7F02              MOV     R7,#02H
0131 120000      R     LCALL   _GetPCColorTemp
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 327 

0134         ?C0946:
0134 8035              SJMP    ?C0950
                                           ; SOURCE LINE # 612
0136         ?C0229:
0136 7F0B              MOV     R7,#0BH
0138 7E00              MOV     R6,#00H
013A 120000      E     LCALL   _ReadEEP
013D         ?C0947:
013D 802C              SJMP    ?C0950
                                           ; SOURCE LINE # 614
                                           ; SOURCE LINE # 615
                                           ; SOURCE LINE # 616
                                           ; SOURCE LINE # 617
                                           ; SOURCE LINE # 618
                                           ; SOURCE LINE # 619
013F         ?C0235:
                                           ; SOURCE LINE # 620
013F 7800        R     MOV     R0,#LOW id
0141 E2                MOVX    A,@R0
0142 246B              ADD     A,#06BH
0144 FF                MOV     R7,A
0145 120000      R     LCALL   _GetVideoDatawithOffset
0148         ?C0948:
0148 8021              SJMP    ?C0950
                                           ; SOURCE LINE # 621
014A         ?C0236:
                                           ; SOURCE LINE # 623
014A 300004      E     JNB     VGAAudio,?C0237
                                           ; SOURCE LINE # 624
014D 7800        E     MOV     R0,#LOW PCAudioVol
014F 8002              SJMP    ?C0935
0151         ?C0237:
                                           ; SOURCE LINE # 626
0151 7800        E     MOV     R0,#LOW AudioVol
0153         ?C0935:
0153 E2                MOVX    A,@R0
0154 FF                MOV     R7,A
0155         ?C0949:
                                           ; SOURCE LINE # 627
0155 8014              SJMP    ?C0950
                                           ; SOURCE LINE # 638
0157         ?C0239:
0157 7800        E     MOV     R0,#LOW VInputStdDetectMode
0159 E2                MOVX    A,@R0
015A FF                MOV     R7,A
015B 7E00              MOV     R6,#00H
015D 120000      R     LCALL   L?1153
0160 FF                MOV     R7,A
0161         ?C0942:
0161 7800        R     MOV     R0,#LOW val
0163 EE                MOV     A,R6
                                           ; SOURCE LINE # 639
0164 020000      R     LJMP    ?C0999
                                           ; SOURCE LINE # 642
0167         ?C0240:
                                           ; SOURCE LINE # 643
0167 7800        E     MOV     R0,#LOW WideScreenMode
0169 E2                MOVX    A,@R0
016A FF                MOV     R7,A
016B         ?C0950:
016B 7800        R     MOV     R0,#LOW val
016D E4                CLR     A
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 328 

016E         ?C0951:
016E 020000      R     LJMP    ?C0999
                                           ; SOURCE LINE # 645
0171         ?C0241:
                                           ; SOURCE LINE # 646
0171 7FA0              MOV     R7,#0A0H
0173 120000      R     LCALL   L?1121
0176         ?C0952:
                                           ; SOURCE LINE # 647
0176 020000      R     LJMP    ?C0999
                                           ; SOURCE LINE # 648
0179         ?C0242:
                                           ; SOURCE LINE # 649
0179 7FA3              MOV     R7,#0A3H
017B 120000      R     LCALL   L?1121
017E         ?C0953:
                                           ; SOURCE LINE # 650
017E 020000      R     LJMP    ?C0999
                                           ; SOURCE LINE # 651
0181         ?C0243:
                                           ; SOURCE LINE # 652
0181 7FBB              MOV     R7,#0BBH
0183 120000      R     LCALL   L?1128
0186         ?C0954:
                                           ; SOURCE LINE # 653
0186 020000      R     LJMP    ?C0999
                                           ; SOURCE LINE # 654
0189         ?C0244:
                                           ; SOURCE LINE # 655
0189 7FA4              MOV     R7,#0A4H
018B 120000      R     LCALL   L?1128
018E         ?C0955:
                                           ; SOURCE LINE # 656
018E 020000      R     LJMP    ?C0999
                                           ; SOURCE LINE # 657
0191         ?C0245:
                                           ; SOURCE LINE # 658
0191 7FAC              MOV     R7,#0ACH
0193 120000      R     LCALL   L?1137
0196         ?C0956:
                                           ; SOURCE LINE # 659
0196 020000      R     LJMP    ?C0999
                                           ; SOURCE LINE # 660
0199         ?C0246:
                                           ; SOURCE LINE # 661
0199 7FAD              MOV     R7,#0ADH
019B 120000      R     LCALL   L?1137
019E         ?C0957:
                                           ; SOURCE LINE # 662
019E 020000      R     LJMP    ?C0999
                                           ; SOURCE LINE # 663
01A1         ?C0247:
                                           ; SOURCE LINE # 664
01A1 7FA5              MOV     R7,#0A5H
01A3 120000      R     LCALL   L?1147
01A6         ?C0958:
                                           ; SOURCE LINE # 665
01A6 020000      R     LJMP    ?C0999
                                           ; SOURCE LINE # 666
01A9         ?C0248:
                                           ; SOURCE LINE # 667
01A9 7FA6              MOV     R7,#0A6H
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 329 

01AB 120000      R     LCALL   L?1147
01AE         ?C0959:
                                           ; SOURCE LINE # 668
01AE 020000      R     LJMP    ?C0999
                                           ; SOURCE LINE # 669
01B1         ?C0249:
                                           ; SOURCE LINE # 670
01B1 7FA7              MOV     R7,#0A7H
01B3 120000      R     LCALL   L?1148
01B6         ?C0960:
                                           ; SOURCE LINE # 671
01B6 020000      R     LJMP    ?C0999
                                           ; SOURCE LINE # 672
01B9         ?C0250:
                                           ; SOURCE LINE # 673
01B9 7FA8              MOV     R7,#0A8H
01BB 120000      R     LCALL   L?1148
01BE         ?C0961:
                                           ; SOURCE LINE # 674
01BE 020000      R     LJMP    ?C0999
                                           ; SOURCE LINE # 675
01C1         ?C0251:
                                           ; SOURCE LINE # 676
01C1 7FA1              MOV     R7,#0A1H
01C3 120000      R     LCALL   L?1158
01C6         ?C0962:
                                           ; SOURCE LINE # 677
01C6 020000      R     LJMP    ?C0999
                                           ; SOURCE LINE # 678
01C9         ?C0252:
                                           ; SOURCE LINE # 679
01C9 7FBC              MOV     R7,#0BCH
01CB 120000      R     LCALL   L?1158
01CE         ?C0963:
                                           ; SOURCE LINE # 680
01CE 020000      R     LJMP    ?C0999
                                           ; SOURCE LINE # 681
01D1         ?C0253:
                                           ; SOURCE LINE # 682
01D1 7FBD              MOV     R7,#0BDH
01D3 120000      R     LCALL   L?1166
01D6         ?C0964:
                                           ; SOURCE LINE # 683
01D6 020000      R     LJMP    ?C0999
                                           ; SOURCE LINE # 684
01D9         ?C0254:
                                           ; SOURCE LINE # 685
01D9 7FBE              MOV     R7,#0BEH
01DB 120000      R     LCALL   L?1166
01DE         ?C0965:
                                           ; SOURCE LINE # 686
01DE 020000      R     LJMP    ?C0999
                                           ; SOURCE LINE # 687
01E1         ?C0255:
                                           ; SOURCE LINE # 688
01E1 7FA2              MOV     R7,#0A2H
01E3 120000      R     LCALL   L?1176
01E6         ?C0966:
                                           ; SOURCE LINE # 689
01E6 020000      R     LJMP    ?C0999
                                           ; SOURCE LINE # 690
01E9         ?C0256:
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 330 

                                           ; SOURCE LINE # 691
01E9 7FBA              MOV     R7,#0BAH
01EB 120000      R     LCALL   L?1176
01EE         ?C0967:
                                           ; SOURCE LINE # 692
01EE 020000      R     LJMP    ?C0999
                                           ; SOURCE LINE # 693
01F1         ?C0257:
                                           ; SOURCE LINE # 694
01F1 7FAE              MOV     R7,#0AEH
01F3 120000      R     LCALL   L?1202
01F6         ?C0968:
                                           ; SOURCE LINE # 695
01F6 020000      R     LJMP    ?C0999
                                           ; SOURCE LINE # 696
01F9         ?C0258:
                                           ; SOURCE LINE # 697
01F9 7FA9              MOV     R7,#0A9H
01FB 120000      R     LCALL   L?1202
01FE         ?C0969:
                                           ; SOURCE LINE # 698
01FE 020000      R     LJMP    ?C0999
                                           ; SOURCE LINE # 699
0201         ?C0259:
                                           ; SOURCE LINE # 700
0201 7FAA              MOV     R7,#0AAH
0203 120000      R     LCALL   L?1246
0206         ?C0970:
                                           ; SOURCE LINE # 702
0206 020000      R     LJMP    ?C0999
                                           ; SOURCE LINE # 705
0209         ?C0260:
                                           ; SOURCE LINE # 706
0209 7800        E     MOV     R0,#LOW DVR_Resolution
020B E2                MOVX    A,@R0
020C FF                MOV     R7,A
020D 7800        R     MOV     R0,#LOW val
020F E4                CLR     A
0210         ?C0971:
                                           ; SOURCE LINE # 707
0210 020000      R     LJMP    ?C0999
                                           ; SOURCE LINE # 708
0213         ?C0261:
                                           ; SOURCE LINE # 709
0213 7800        E     MOV     R0,#LOW DVR_FPS
0215 E2                MOVX    A,@R0
0216 FF                MOV     R7,A
0217 7800        R     MOV     R0,#LOW val
0219 E4                CLR     A
021A         ?C0972:
                                           ; SOURCE LINE # 710
021A 020000      R     LJMP    ?C0999
                                           ; SOURCE LINE # 711
021D         ?C0262:
                                           ; SOURCE LINE # 712
021D 7800        E     MOV     R0,#LOW DVR_Quality
021F E2                MOVX    A,@R0
0220 FF                MOV     R7,A
0221 7800        R     MOV     R0,#LOW val
0223 E4                CLR     A
0224         ?C0973:
                                           ; SOURCE LINE # 713
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 331 

0224 020000      R     LJMP    ?C0999
                                           ; SOURCE LINE # 714
0227         ?C0263:
                                           ; SOURCE LINE # 715
0227 7800        E     MOV     R0,#LOW DVR_RecordMode
0229 E2                MOVX    A,@R0
022A FF                MOV     R7,A
022B 7800        R     MOV     R0,#LOW val
022D E4                CLR     A
022E         ?C0974:
                                           ; SOURCE LINE # 716
022E 020000      R     LJMP    ?C0999
                                           ; SOURCE LINE # 717
0231         ?C0264:
                                           ; SOURCE LINE # 718
0231 7800        E     MOV     R0,#LOW DVR_RecordLength
0233 E2                MOVX    A,@R0
0234 FF                MOV     R7,A
0235 7800        R     MOV     R0,#LOW val
0237 E4                CLR     A
0238         ?C0975:
                                           ; SOURCE LINE # 719
0238 020000      R     LJMP    ?C0999
                                           ; SOURCE LINE # 720
023B         ?C0265:
                                           ; SOURCE LINE # 721
023B 7800        E     MOV     R0,#LOW DVR_PreAlarmLength
023D E2                MOVX    A,@R0
023E FF                MOV     R7,A
023F 7800        R     MOV     R0,#LOW val
0241 E4                CLR     A
0242         ?C0976:
                                           ; SOURCE LINE # 722
0242 020000      R     LJMP    ?C0999
                                           ; SOURCE LINE # 723
0245         ?C0266:
                                           ; SOURCE LINE # 724
0245 7800        E     MOV     R0,#LOW DVR_PostAlarmLength
0247 E2                MOVX    A,@R0
0248 FF                MOV     R7,A
0249 7800        R     MOV     R0,#LOW val
024B E4                CLR     A
024C         ?C0977:
                                           ; SOURCE LINE # 725
024C 020000      R     LJMP    ?C0999
                                           ; SOURCE LINE # 727
024F         ?C0267:
                                           ; SOURCE LINE # 728
024F 7800        E     MOV     R0,#LOW DVR_AudioRecord
0251 E2                MOVX    A,@R0
0252 FF                MOV     R7,A
0253 7800        R     MOV     R0,#LOW val
0255 E4                CLR     A
0256         ?C0978:
                                           ; SOURCE LINE # 729
0256 020000      R     LJMP    ?C0999
                                           ; SOURCE LINE # 731
0259         ?C0268:
                                           ; SOURCE LINE # 732
0259 7800        E     MOV     R0,#LOW year2
025B E2                MOVX    A,@R0
025C FF                MOV     R7,A
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 332 

025D 7800        R     MOV     R0,#LOW val
025F E4                CLR     A
0260         ?C0979:
                                           ; SOURCE LINE # 733
0260 020000      R     LJMP    ?C0999
                                           ; SOURCE LINE # 734
0263         ?C0269:
                                           ; SOURCE LINE # 735
0263 7800        E     MOV     R0,#LOW month
0265 E2                MOVX    A,@R0
0266 FF                MOV     R7,A
0267 7800        R     MOV     R0,#LOW val
0269 E4                CLR     A
026A         ?C0980:
                                           ; SOURCE LINE # 736
026A 020000      R     LJMP    ?C0999
                                           ; SOURCE LINE # 737
026D         ?C0270:
                                           ; SOURCE LINE # 738
026D 7800        E     MOV     R0,#LOW day
026F E2                MOVX    A,@R0
0270 FF                MOV     R7,A
0271 7800        R     MOV     R0,#LOW val
0273 E4                CLR     A
0274         ?C0981:
                                           ; SOURCE LINE # 739
0274 020000      R     LJMP    ?C0999
                                           ; SOURCE LINE # 740
0277         ?C0271:
                                           ; SOURCE LINE # 741
0277 7800        E     MOV     R0,#LOW hour
0279 E2                MOVX    A,@R0
027A FF                MOV     R7,A
027B 7800        R     MOV     R0,#LOW val
027D E4                CLR     A
027E         ?C0982:
                                           ; SOURCE LINE # 742
027E 020000      R     LJMP    ?C0999
                                           ; SOURCE LINE # 743
0281         ?C0272:
                                           ; SOURCE LINE # 744
0281 7800        E     MOV     R0,#LOW minute
0283 E2                MOVX    A,@R0
0284 FF                MOV     R7,A
0285 7800        R     MOV     R0,#LOW val
0287 E4                CLR     A
0288         ?C0983:
                                           ; SOURCE LINE # 745
0288 020000      R     LJMP    ?C0999
                                           ; SOURCE LINE # 747
028B         ?C0273:
                                           ; SOURCE LINE # 748
028B 7800        E     MOV     R0,#LOW DVR_daylightsaving
028D E2                MOVX    A,@R0
028E FF                MOV     R7,A
028F 7800        R     MOV     R0,#LOW val
0291 E4                CLR     A
0292         ?C0984:
                                           ; SOURCE LINE # 749
0292 020000      R     LJMP    ?C0999
                                           ; SOURCE LINE # 750
0295         ?C0274:
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 333 

                                           ; SOURCE LINE # 751
0295 7800        E     MOV     R0,#LOW DVR_timebeginesmonth
0297 E2                MOVX    A,@R0
0298 FF                MOV     R7,A
0299 7800        R     MOV     R0,#LOW val
029B E4                CLR     A
029C         ?C0985:
                                           ; SOURCE LINE # 752
029C 020000      R     LJMP    ?C0999
                                           ; SOURCE LINE # 753
029F         ?C0275:
                                           ; SOURCE LINE # 754
029F 7800        E     MOV     R0,#LOW DVR_timebeginesweek
02A1 E2                MOVX    A,@R0
02A2 FF                MOV     R7,A
02A3 7800        R     MOV     R0,#LOW val
02A5 E4                CLR     A
02A6         ?C0986:
                                           ; SOURCE LINE # 755
02A6 8077              SJMP    ?C0999
                                           ; SOURCE LINE # 756
02A8         ?C0276:
                                           ; SOURCE LINE # 757
02A8 7800        E     MOV     R0,#LOW DVR_timebeginesTime
02AA E2                MOVX    A,@R0
02AB FF                MOV     R7,A
02AC 7800        R     MOV     R0,#LOW val
02AE E4                CLR     A
02AF         ?C0987:
                                           ; SOURCE LINE # 758
02AF 806E              SJMP    ?C0999
                                           ; SOURCE LINE # 759
02B1         ?C0277:
                                           ; SOURCE LINE # 760
02B1 7800        E     MOV     R0,#LOW DVR_sandardtimebeginesMonth
02B3 E2                MOVX    A,@R0
02B4 FF                MOV     R7,A
02B5 7800        R     MOV     R0,#LOW val
02B7 E4                CLR     A
02B8         ?C0988:
                                           ; SOURCE LINE # 761
02B8 8065              SJMP    ?C0999
                                           ; SOURCE LINE # 762
02BA         ?C0278:
                                           ; SOURCE LINE # 763
02BA 7800        E     MOV     R0,#LOW DVR_standardtimebeginesWeek
02BC E2                MOVX    A,@R0
02BD FF                MOV     R7,A
02BE 7800        R     MOV     R0,#LOW val
02C0 E4                CLR     A
02C1         ?C0989:
                                           ; SOURCE LINE # 764
02C1 805C              SJMP    ?C0999
                                           ; SOURCE LINE # 765
02C3         ?C0279:
                                           ; SOURCE LINE # 766
02C3 7800        E     MOV     R0,#LOW DVR_standardtimebeginesTime
02C5 E2                MOVX    A,@R0
02C6 FF                MOV     R7,A
02C7 7800        R     MOV     R0,#LOW val
02C9 E4                CLR     A
02CA         ?C0990:
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 334 

                                           ; SOURCE LINE # 767
02CA 8053              SJMP    ?C0999
                                           ; SOURCE LINE # 769
02CC         ?C0280:
                                           ; SOURCE LINE # 770
02CC 7800        E     MOV     R0,#LOW DVR_TimeZone
02CE E2                MOVX    A,@R0
02CF FF                MOV     R7,A
02D0 7800        R     MOV     R0,#LOW val
02D2 E4                CLR     A
02D3         ?C0991:
                                           ; SOURCE LINE # 771
02D3 804A              SJMP    ?C0999
                                           ; SOURCE LINE # 773
02D5         ?C0281:
                                           ; SOURCE LINE # 774
02D5 7800        E     MOV     R0,#LOW DVR_OverWrite
02D7 E2                MOVX    A,@R0
02D8 FF                MOV     R7,A
02D9 7800        R     MOV     R0,#LOW val
02DB E4                CLR     A
02DC         ?C0992:
                                           ; SOURCE LINE # 775
02DC 8041              SJMP    ?C0999
                                           ; SOURCE LINE # 777
02DE         ?C0282:
                                           ; SOURCE LINE # 778
02DE 7800        R     MOV     R0,#LOW PW_FirstNumber
02E0 E2                MOVX    A,@R0
02E1 FF                MOV     R7,A
02E2 7800        R     MOV     R0,#LOW val
02E4 E4                CLR     A
02E5         ?C0993:
                                           ; SOURCE LINE # 779
02E5 8038              SJMP    ?C0999
                                           ; SOURCE LINE # 781
02E7         ?C0283:
                                           ; SOURCE LINE # 782
02E7 7800        R     MOV     R0,#LOW PW_SecondNumber
02E9 E2                MOVX    A,@R0
02EA FF                MOV     R7,A
02EB 7800        R     MOV     R0,#LOW val
02ED E4                CLR     A
02EE         ?C0994:
                                           ; SOURCE LINE # 783
02EE 802F              SJMP    ?C0999
                                           ; SOURCE LINE # 785
02F0         ?C0284:
                                           ; SOURCE LINE # 786
02F0 7800        R     MOV     R0,#LOW PW_ThridNumber
02F2 E2                MOVX    A,@R0
02F3 FF                MOV     R7,A
02F4 7800        R     MOV     R0,#LOW val
02F6 E4                CLR     A
02F7         ?C0995:
                                           ; SOURCE LINE # 787
02F7 8026              SJMP    ?C0999
                                           ; SOURCE LINE # 789
02F9         ?C0285:
                                           ; SOURCE LINE # 790
02F9 7800        R     MOV     R0,#LOW PW_FourthNumber
02FB E2                MOVX    A,@R0
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 335 

02FC FF                MOV     R7,A
02FD 7800        R     MOV     R0,#LOW val
02FF E4                CLR     A
0300         ?C0996:
                                           ; SOURCE LINE # 791
0300 801D              SJMP    ?C0999
                                           ; SOURCE LINE # 794
0302         ?C0286:
                                           ; SOURCE LINE # 795
0302 7FB7              MOV     R7,#0B7H
0304 120000      R     LCALL   L?1246
0307         ?C0997:
                                           ; SOURCE LINE # 796
0307 8016              SJMP    ?C0999
                                           ; SOURCE LINE # 797
0309         ?C0287:
                                           ; SOURCE LINE # 798
0309 7FB8              MOV     R7,#0B8H
030B 7E00              MOV     R6,#00H
030D 120000      E     LCALL   _ReadEEP
0310 7800        R     MOV     R0,#LOW val
0312 E4                CLR     A
0313         ?C0998:
                                           ; SOURCE LINE # 799
0313 800A              SJMP    ?C0999
                                           ; SOURCE LINE # 801
0315         ?C0288:
                                           ; SOURCE LINE # 802
0315 7FB9              MOV     R7,#0B9H
0317 7E00              MOV     R6,#00H
0319 120000      E     LCALL   _ReadEEP
031C 7800        R     MOV     R0,#LOW val
031E E4                CLR     A
031F         ?C0999:
031F F2                MOVX    @R0,A
0320 08                INC     R0
0321 EF                MOV     A,R7
0322 F2                MOVX    @R0,A
                                           ; SOURCE LINE # 805
0323         ?C0216:
                                           ; SOURCE LINE # 807
0323 7800        R     MOV     R0,#LOW val
0325 E2                MOVX    A,@R0
0326 FE                MOV     R6,A
0327 08                INC     R0
0328 E2                MOVX    A,@R0
0329 FF                MOV     R7,A
                                           ; SOURCE LINE # 808
032A         ?C0289:
032A 22                RET     
032B         L?1121:
032B 7E00              MOV     R6,#00H
032D 120000      E     LCALL   _ReadEEP
0330 7800        R     MOV     R0,#LOW val
0332 E4                CLR     A
0333 22                RET     
0334         L?1128:
0334 7E00              MOV     R6,#00H
0336 120000      E     LCALL   _ReadEEP
0339 7800        R     MOV     R0,#LOW val
033B E4                CLR     A
033C 22                RET     
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 336 

033D         L?1137:
033D 7E00              MOV     R6,#00H
033F 120000      E     LCALL   _ReadEEP
0342 7800        R     MOV     R0,#LOW val
0344 E4                CLR     A
0345 22                RET     
0346         L?1147:
0346 7E00              MOV     R6,#00H
0348 120000      E     LCALL   _ReadEEP
034B 7800        R     MOV     R0,#LOW val
034D E4                CLR     A
034E 22                RET     
034F         L?1148:
034F 7E00              MOV     R6,#00H
0351 120000      E     LCALL   _ReadEEP
0354 7800        R     MOV     R0,#LOW val
0356 E4                CLR     A
0357 22                RET     
0358         L?1158:
0358 7E00              MOV     R6,#00H
035A 120000      E     LCALL   _ReadEEP
035D 7800        R     MOV     R0,#LOW val
035F E4                CLR     A
0360 22                RET     
0361         L?1166:
0361 7E00              MOV     R6,#00H
0363 120000      E     LCALL   _ReadEEP
0366 7800        R     MOV     R0,#LOW val
0368 E4                CLR     A
0369 22                RET     
036A         L?1176:
036A 7E00              MOV     R6,#00H
036C 120000      E     LCALL   _ReadEEP
036F 7800        R     MOV     R0,#LOW val
0371 E4                CLR     A
0372 22                RET     
0373         L?1202:
0373 7E00              MOV     R6,#00H
0375 120000      E     LCALL   _ReadEEP
0378 7800        R     MOV     R0,#LOW val
037A E4                CLR     A
037B 22                RET     
037C         L?1246:
037C 7E00              MOV     R6,#00H
037E 120000      E     LCALL   _ReadEEP
0381 7800        R     MOV     R0,#LOW val
0383 E4                CLR     A
0384 22                RET     
             ; FUNCTION _GetItemValue (END)

             ; FUNCTION _SetItemValue (BEGIN)
                                           ; SOURCE LINE # 813
0000 7800        R     MOV     R0,#LOW flag
0002 ED                MOV     A,R5
0003 F2                MOVX    @R0,A
0004 18                DEC     R0
0005 EF                MOV     A,R7
0006 F2                MOVX    @R0,A
                                           ; SOURCE LINE # 814
                                           ; SOURCE LINE # 815
0007 120000      R     LCALL   L?1159
                                           ; SOURCE LINE # 818
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 337 

000A 7BFF              MOV     R3,#0FFH
000C 7A00        R     MOV     R2,#HIGH ?SC_11
000E 7900        R     MOV     R1,#LOW ?SC_11
0010 7800        E     MOV     R0,#LOW ?_Printf?BYTE+03H
0012 F2                MOVX    @R0,A
0013 08                INC     R0
0014 EF                MOV     A,R7
0015 F2                MOVX    @R0,A
0016 120000      E     LCALL   _Printf
                                           ; SOURCE LINE # 819
0019 7800        R     MOV     R0,#LOW id
001B E2                MOVX    A,@R0
001C 120000      E     LCALL   ?C?CCASE
001F 0000        R     DW      ?C0291
0021 10                DB      010H
0022 0000        R     DW      ?C0292
0024 16                DB      016H
0025 0000        R     DW      ?C0527
0027 20                DB      020H
0028 0000        R     DW      ?C0534
002A 21                DB      021H
002B 0000        R     DW      ?C0541
002D 22                DB      022H
002E 0000        R     DW      ?C0548
0030 23                DB      023H
0031 0000        R     DW      ?C0555
0033 24                DB      024H
0034 0000        R     DW      ?C0569
0036 25                DB      025H
0037 0000        R     DW      ?C0576
0039 26                DB      026H
003A 0000        R     DW      ?C0583
003C 27                DB      027H
003D 0000        R     DW      ?C0590
003F 28                DB      028H
0040 0000        R     DW      ?C0597
0042 29                DB      029H
0043 0000        R     DW      ?C0604
0045 2A                DB      02AH
0046 0000        R     DW      ?C0611
0048 2B                DB      02BH
0049 0000        R     DW      ?C0562
004B 2C                DB      02CH
004C 0000        R     DW      ?C0618
004E 2D                DB      02DH
004F 0000        R     DW      ?C0625
0051 2E                DB      02EH
0052 0000        R     DW      ?C0632
0054 2F                DB      02FH
0055 0000        R     DW      ?C0299
0057 30                DB      030H
0058 0000        R     DW      ?C0300
005A 35                DB      035H
005B 0000        R     DW      ?C0301
005D 36                DB      036H
005E 0000        R     DW      ?C0302
0060 37                DB      037H
0061 0000        R     DW      ?C0639
0063 38                DB      038H
0064 0000        R     DW      ?C0295
0066 43                DB      043H
0067 0000        R     DW      ?C0296
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 338 

0069 44                DB      044H
006A 0000        R     DW      ?C0297
006C 45                DB      045H
006D 0000        R     DW      ?C0298
006F 46                DB      046H
0070 0000        R     DW      ?C0293
0072 58                DB      058H
0073 0000        R     DW      ?C0294
0075 59                DB      059H
0076 0000        R     DW      ?C0303
0078 90                DB      090H
0079 0000        R     DW      ?C0310
007B 95                DB      095H
007C 0000        R     DW      ?C0310
007E 96                DB      096H
007F 0000        R     DW      ?C0311
0081 97                DB      097H
0082 0000        R     DW      ?C0310
0084 99                DB      099H
0085 0000        R     DW      ?C0312
0087 9A                DB      09AH
0088 0000        R     DW      ?C0310
008A 9C                DB      09CH
008B 0000        R     DW      ?C0646
008D A3                DB      0A3H
008E 0000        R     DW      ?C0653
0090 A4                DB      0A4H
0091 0000        R     DW      ?C0660
0093 A5                DB      0A5H
0094 0000        R     DW      ?C0314
0096 B7                DB      0B7H
0097 0000        R     DW      ?C0320
0099 B8                DB      0B8H
009A 0000        R     DW      ?C0328
009C B9                DB      0B9H
009D 0000        R     DW      ?C0345
009F BA                DB      0BAH
00A0 0000        R     DW      ?C0352
00A2 BB                DB      0BBH
00A3 0000        R     DW      ?C0317
00A5 C0                DB      0C0H
00A6 0000        R     DW      ?C0369
00A8 C1                DB      0C1H
00A9 0000        R     DW      ?C0379
00AB C2                DB      0C2H
00AC 0000        R     DW      ?C0389
00AE C3                DB      0C3H
00AF 0000        R     DW      ?C0399
00B1 C4                DB      0C4H
00B2 0000        R     DW      ?C0409
00B4 C5                DB      0C5H
00B5 0000        R     DW      ?C0437
00B7 C6                DB      0C6H
00B8 0000        R     DW      ?C0451
00BA C7                DB      0C7H
00BB 0000        R     DW      ?C0459
00BD C8                DB      0C8H
00BE 0000        R     DW      ?C0466
00C0 C9                DB      0C9H
00C1 0000        R     DW      ?C0359
00C3 CA                DB      0CAH
00C4 0000        R     DW      ?C0444
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 339 

00C6 CB                DB      0CBH
00C7 0000        R     DW      ?C0338
00C9 CC                DB      0CCH
00CA 0000        R     DW      ?C0416
00CC CD                DB      0CDH
00CD 0000        R     DW      ?C0423
00CF CE                DB      0CEH
00D0 0000        R     DW      ?C0430
00D2 CF                DB      0CFH
00D3 0000        R     DW      ?C0471
00D5 E0                DB      0E0H
00D6 0000        R     DW      ?C0478
00D8 E1                DB      0E1H
00D9 0000        R     DW      ?C0485
00DB E2                DB      0E2H
00DC 0000        R     DW      ?C0492
00DE E3                DB      0E3H
00DF 0000        R     DW      ?C0499
00E1 E4                DB      0E4H
00E2 0000        R     DW      ?C0506
00E4 E5                DB      0E5H
00E5 0000        R     DW      ?C0513
00E7 E6                DB      0E6H
00E8 0000        R     DW      ?C0520
00EA EC                DB      0ECH
00EB 0000        R     DW      ?C0667
00ED EF                DB      0EFH
00EE 0000              DW      00H
00F0 0000        R     DW      ?C0290
                                           ; SOURCE LINE # 832
00F2         ?C0291:
00F2 7800        R     MOV     R0,#LOW flag
00F4 E2                MOVX    A,@R0
00F5 FF                MOV     R7,A
00F6 120000      R     LCALL   _SetOSDPositionMode
00F9 8041              SJMP    ?C1008
                                           ; SOURCE LINE # 838
00FB         ?C0292:
00FB 7800        R     MOV     R0,#LOW flag
00FD E2                MOVX    A,@R0
00FE FF                MOV     R7,A
00FF 120000      R     LCALL   _SetLanguage
0102         ?C1003:
0102 8038              SJMP    ?C1008
                                           ; SOURCE LINE # 841
0104         ?C0293:
0104 7800        R     MOV     R0,#LOW flag
0106 E2                MOVX    A,@R0
0107 FF                MOV     R7,A
0108 120000      R     LCALL   _SetPanelContrast
010B         ?C1004:
010B 802F              SJMP    ?C1008
                                           ; SOURCE LINE # 842
010D         ?C0294:
010D 7800        R     MOV     R0,#LOW flag
010F E2                MOVX    A,@R0
0110 FF                MOV     R7,A
0111 120000      R     LCALL   _SetPanelBrightness
0114         ?C1005:
0114 8026              SJMP    ?C1008
                                           ; SOURCE LINE # 846
0116         ?C0295:
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 340 

0116 7800        R     MOV     R0,#LOW flag
0118 E2                MOVX    A,@R0
0119 FF                MOV     R7,A
011A 120000      E     LCALL   _SetVPosition
011D         ?C1006:
011D 801D              SJMP    ?C1008
                                           ; SOURCE LINE # 847
011F         ?C0296:
011F 7800        R     MOV     R0,#LOW flag
0121 E2                MOVX    A,@R0
0122 FF                MOV     R7,A
0123 120000      E     LCALL   _SetHPosition
0126         ?C1007:
0126 8014              SJMP    ?C1008
                                           ; SOURCE LINE # 848
0128         ?C0297:
0128 7800        R     MOV     R0,#LOW flag
012A E2                MOVX    A,@R0
012B FF                MOV     R7,A
012C 120000      E     LCALL   _SetPCCoarseValue
012F 7800        R     MOV     R0,#LOW val
0131 EE                MOV     A,R6
0132 020000      R     LJMP    ?C1017
                                           ; SOURCE LINE # 849
0135         ?C0298:
0135 7800        R     MOV     R0,#LOW flag
0137 E2                MOVX    A,@R0
0138 FF                MOV     R7,A
0139 120000      E     LCALL   _SetPhaseValue
013C         ?C1008:
013C 7800        R     MOV     R0,#LOW val
013E E4                CLR     A
013F         ?C1009:
013F 020000      R     LJMP    ?C1017
                                           ; SOURCE LINE # 852
0142         ?C0299:
0142 7800        R     MOV     R0,#LOW flag
0144 E2                MOVX    A,@R0
0145 FF                MOV     R7,A
0146 120000      R     LCALL   _SetPCColorTemp
0149 7800        R     MOV     R0,#LOW val
014B E4                CLR     A
014C         ?C1010:
014C 020000      R     LJMP    ?C1017
                                           ; SOURCE LINE # 854
014F         ?C0300:
014F 7800        R     MOV     R0,#LOW flag
0151 E2                MOVX    A,@R0
0152 FD                MOV     R5,A
0153 E4                CLR     A
0154 FF                MOV     R7,A
0155 120000      R     LCALL   _SetPCColor
0158 7800        R     MOV     R0,#LOW val
015A E4                CLR     A
015B         ?C1011:
015B 020000      R     LJMP    ?C1017
                                           ; SOURCE LINE # 855
015E         ?C0301:
015E 7F01              MOV     R7,#01H
0160 120000      R     LCALL   L?1285
0163         ?C1012:
0163 020000      R     LJMP    ?C1017
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 341 

                                           ; SOURCE LINE # 856
0166         ?C0302:
0166 7F02              MOV     R7,#02H
0168 120000      R     LCALL   L?1285
016B         ?C1013:
016B 020000      R     LJMP    ?C1017
                                           ; SOURCE LINE # 858
016E         ?C0303:
016E 7F0B              MOV     R7,#0BH
                                           ; SOURCE LINE # 859
0170 120000      R     LCALL   L?1091
0173 7800        R     MOV     R0,#LOW val+01H
0175 B40105            CJNE    A,#01H,?C0304
0178 E2                MOVX    A,@R0
0179 2401              ADD     A,#01H
017B 8003              SJMP    ?C1000
017D         ?C0304:
                                           ; SOURCE LINE # 860
017D E2                MOVX    A,@R0
017E 2403              ADD     A,#03H
0180         ?C1000:
0180 120000      R     LCALL   L?1104
0183         ?C0305:
                                           ; SOURCE LINE # 861
0183 120000      R     LCALL   L?1233
                                           ; SOURCE LINE # 862
0186 120000      R     LCALL   _SetVideoMode
                                           ; SOURCE LINE # 864
0189 7F0B              MOV     R7,#0BH
018B 7E00              MOV     R6,#00H
018D 120000      E     LCALL   _ReadEEP
0190 EF                MOV     A,R7
0191 6403              XRL     A,#03H
0193 7B8A              MOV     R3,#08AH
0195 6004              JZ      ?C0306
                                           ; SOURCE LINE # 865
0197 7D30              MOV     R5,#030H
0199 8002              SJMP    ?C1001
019B         ?C0306:
                                           ; SOURCE LINE # 867
019B 7D37              MOV     R5,#037H
019D         ?C1001:
019D 7F3D              MOV     R7,#03DH
019F 7E00              MOV     R6,#00H
01A1 120000      E     LCALL   _DrawAttrCnt
                                           ; SOURCE LINE # 868
01A4 020000      R     LJMP    ?C0290
                                           ; SOURCE LINE # 870
                                           ; SOURCE LINE # 871
                                           ; SOURCE LINE # 872
01A7         ?C0310:
                                           ; SOURCE LINE # 873
01A7 120000      R     LCALL   L?1262
01AA 7800        R     MOV     R0,#LOW val
01AC E4                CLR     A
01AD         ?C1014:
01AD 8034              SJMP    ?C1017
                                           ; SOURCE LINE # 874
01AF         ?C0311:
01AF 120000      R     LCALL   L?1262
01B2 E4                CLR     A
01B3 120000      R     LCALL   L?1165
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 342 

                                           ; SOURCE LINE # 875
01B6 7800        R     MOV     R0,#LOW id
01B8 E2                MOVX    A,@R0
01B9 246C              ADD     A,#06CH
01BB FF                MOV     R7,A
01BC 08                INC     R0
01BD E2                MOVX    A,@R0
01BE FD                MOV     R5,A
01BF 120000      R     LCALL   _ChangeVideoData
                                           ; SOURCE LINE # 876
01C2 020000      R     LJMP    ?C0290
                                           ; SOURCE LINE # 878
01C5         ?C0312:
01C5 7800        R     MOV     R0,#LOW flag
01C7 E2                MOVX    A,@R0
01C8 FF                MOV     R7,A
01C9 120000      R     LCALL   _SetVideoSharpness
01CC 7800        R     MOV     R0,#LOW val
01CE E4                CLR     A
01CF         ?C1015:
01CF 8012              SJMP    ?C1017
                                           ; SOURCE LINE # 879
                                           ; SOURCE LINE # 882
01D1         ?C0314:
01D1 7800        R     MOV     R0,#LOW flag
01D3 E2                MOVX    A,@R0
01D4 B40104            CJNE    A,#01H,?C0315
01D7 7F01              MOV     R7,#01H
01D9 8002              SJMP    ?C0316
01DB         ?C0315:
01DB 7FFF              MOV     R7,#0FFH
01DD         ?C0316:
01DD 120000      E     LCALL   _ChangeVol
01E0 7800        R     MOV     R0,#LOW val
01E2 E4                CLR     A
01E3         ?C1017:
01E3 F2                MOVX    @R0,A
01E4 08                INC     R0
01E5 EF                MOV     A,R7
01E6 F2                MOVX    @R0,A
01E7 020000      R     LJMP    ?C0290
                                           ; SOURCE LINE # 892
01EA         ?C0317:
01EA 7800        E     MOV     R0,#LOW WideScreenMode
                                           ; SOURCE LINE # 893
01EC 120000      R     LCALL   L?1098
01EF 7800        R     MOV     R0,#LOW val+01H
01F1 B40105            CJNE    A,#01H,?C0318
01F4 E2                MOVX    A,@R0
01F5 2401              ADD     A,#01H
01F7 8003              SJMP    ?C1002
01F9         ?C0318:
                                           ; SOURCE LINE # 894
01F9 E2                MOVX    A,@R0
01FA 2403              ADD     A,#03H
01FC         ?C1002:
01FC 120000      R     LCALL   L?1104
01FF         ?C0319:
                                           ; SOURCE LINE # 895
01FF 120000      R     LCALL   L?1233
                                           ; SOURCE LINE # 896
0202 120000      R     LCALL   _Set4WideScreen
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 343 

                                           ; SOURCE LINE # 897
0205 020000      R     LJMP    ?C0290
                                           ; SOURCE LINE # 899
0208         ?C0320:
                                           ; SOURCE LINE # 900
0208 7FA0              MOV     R7,#0A0H
                                           ; SOURCE LINE # 901
020A 120000      R     LCALL   L?1091
020D B40114            CJNE    A,#01H,?C0321
                                           ; SOURCE LINE # 902
0210 7800        R     MOV     R0,#LOW val+01H
0212 E2                MOVX    A,@R0
0213 7002              JNZ     ?C0881
0215 18                DEC     R0
0216 E2                MOVX    A,@R0
0217         ?C0881:
0217 7005              JNZ     ?C0322
0219 FE                MOV     R6,A
021A 7F01              MOV     R7,#01H
021C 8017              SJMP    ?C1018
021E         ?C0322:
021E 7E00              MOV     R6,#00H
0220 7F00              MOV     R7,#00H
0222         ?C0323:
0222 8011              SJMP    ?C1018
0224         ?C0321:
                                           ; SOURCE LINE # 904
0224 7800        R     MOV     R0,#LOW val+01H
0226 E2                MOVX    A,@R0
0227 7002              JNZ     ?C0882
0229 18                DEC     R0
022A E2                MOVX    A,@R0
022B         ?C0882:
022B 7E00              MOV     R6,#00H
022D 6004              JZ      ?C0325
022F 7F00              MOV     R7,#00H
0231 8002              SJMP    ?C0326
0233         ?C0325:
0233 7F01              MOV     R7,#01H
0235         ?C0326:
0235         ?C1018:
0235 120000      R     LCALL   L?1163
0238         ?C0324:
                                           ; SOURCE LINE # 905
0238 7FA0              MOV     R7,#0A0H
023A 120000      R     LCALL   L?1154
                                           ; SOURCE LINE # 906
023D 7800        R     MOV     R0,#LOW val
023F E2                MOVX    A,@R0
0240 FE                MOV     R6,A
0241 08                INC     R0
0242 E2                MOVX    A,@R0
0243 FF                MOV     R7,A
0244 7800        E     MOV     R0,#LOW AutoDayNight
0246 F2                MOVX    @R0,A
                                           ; SOURCE LINE # 907
0247 EF                MOV     A,R7
0248 6401              XRL     A,#01H
024A 4E                ORL     A,R6
024B 6003              JZ      $ + 5H
024D 020000      R     LJMP    ?C0290
                                           ; SOURCE LINE # 908
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 344 

0250 7FFF              MOV     R7,#0FFH
0252 120000      E     LCALL   _AdjustAutoDayNight
                                           ; SOURCE LINE # 910
0255 020000      R     LJMP    ?C0290
                                           ; SOURCE LINE # 911
0258         ?C0328:
                                           ; SOURCE LINE # 912
0258 7FA3              MOV     R7,#0A3H
                                           ; SOURCE LINE # 913
025A 120000      R     LCALL   L?1092
025D B40114            CJNE    A,#01H,?C0329
                                           ; SOURCE LINE # 914
0260 7800        R     MOV     R0,#LOW val+01H
0262 E2                MOVX    A,@R0
0263 7002              JNZ     ?C0883
0265 18                DEC     R0
0266 E2                MOVX    A,@R0
0267         ?C0883:
0267 7005              JNZ     ?C0330
0269 FE                MOV     R6,A
026A 7F01              MOV     R7,#01H
026C 8017              SJMP    ?C1019
026E         ?C0330:
026E 7E00              MOV     R6,#00H
0270 7F00              MOV     R7,#00H
0272         ?C0331:
0272 8011              SJMP    ?C1019
0274         ?C0329:
                                           ; SOURCE LINE # 916
0274 7800        R     MOV     R0,#LOW val+01H
0276 E2                MOVX    A,@R0
0277 7002              JNZ     ?C0884
0279 18                DEC     R0
027A E2                MOVX    A,@R0
027B         ?C0884:
027B 7E00              MOV     R6,#00H
027D 6004              JZ      ?C0333
027F 7F00              MOV     R7,#00H
0281 8002              SJMP    ?C0334
0283         ?C0333:
0283 7F01              MOV     R7,#01H
0285         ?C0334:
0285         ?C1019:
0285 120000      R     LCALL   L?1163
0288         ?C0332:
                                           ; SOURCE LINE # 917
0288 7FA3              MOV     R7,#0A3H
028A 120000      R     LCALL   L?1170
                                           ; SOURCE LINE # 918
028D 7800        R     MOV     R0,#LOW val+01H
028F E2                MOVX    A,@R0
0290 7002              JNZ     ?C0885
0292 18                DEC     R0
0293 E2                MOVX    A,@R0
0294         ?C0885:
0294 7800        E     MOV     R0,#LOW Attr_A
0296 7018              JNZ     ?C0335
                                           ; SOURCE LINE # 919
                                           ; SOURCE LINE # 920
0298 E2                MOVX    A,@R0
0299 4402              ORL     A,#02H
029B F2                MOVX    @R0,A
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 345 

                                           ; SOURCE LINE # 921
029C 7800        E     MOV     R0,#LOW Attr_B
029E E2                MOVX    A,@R0
029F 4402              ORL     A,#02H
02A1 F2                MOVX    @R0,A
                                           ; SOURCE LINE # 922
02A2 7800        E     MOV     R0,#LOW Attr_C
02A4 E2                MOVX    A,@R0
02A5 4402              ORL     A,#02H
02A7 F2                MOVX    @R0,A
                                           ; SOURCE LINE # 923
02A8 7800        E     MOV     R0,#LOW Attr_R
02AA E2                MOVX    A,@R0
02AB 4402              ORL     A,#02H
02AD F2                MOVX    @R0,A
                                           ; SOURCE LINE # 925
02AE 8016              SJMP    ?C0336
02B0         ?C0335:
                                           ; SOURCE LINE # 927
                                           ; SOURCE LINE # 928
02B0 E2                MOVX    A,@R0
02B1 540D              ANL     A,#0DH
02B3 F2                MOVX    @R0,A
                                           ; SOURCE LINE # 929
02B4 7800        E     MOV     R0,#LOW Attr_B
02B6 E2                MOVX    A,@R0
02B7 540D              ANL     A,#0DH
02B9 F2                MOVX    @R0,A
                                           ; SOURCE LINE # 930
02BA 7800        E     MOV     R0,#LOW Attr_C
02BC E2                MOVX    A,@R0
02BD 540D              ANL     A,#0DH
02BF F2                MOVX    @R0,A
                                           ; SOURCE LINE # 931
02C0 7800        E     MOV     R0,#LOW Attr_R
02C2 E2                MOVX    A,@R0
02C3 540D              ANL     A,#0DH
02C5 F2                MOVX    @R0,A
                                           ; SOURCE LINE # 932
02C6         ?C0336:
                                           ; SOURCE LINE # 933
02C6 7800        E     MOV     R0,#LOW TriggerFlag
02C8 E2                MOVX    A,@R0
02C9 6408              XRL     A,#08H
02CB 7003              JNZ     $ + 5H
02CD 020000      R     LJMP    ?C0290
                                           ; SOURCE LINE # 934
                                           ; SOURCE LINE # 936
02D0 020000      R     LJMP    ?C1035
                                           ; SOURCE LINE # 938
02D3         ?C0338:
                                           ; SOURCE LINE # 939
02D3 7FBB              MOV     R7,#0BBH
                                           ; SOURCE LINE # 940
02D5 120000      R     LCALL   L?1092
02D8 B40114            CJNE    A,#01H,?C0339
                                           ; SOURCE LINE # 941
02DB 7800        R     MOV     R0,#LOW val+01H
02DD E2                MOVX    A,@R0
02DE 7002              JNZ     ?C0886
02E0 18                DEC     R0
02E1 E2                MOVX    A,@R0
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 346 

02E2         ?C0886:
02E2 7005              JNZ     ?C0340
02E4 FE                MOV     R6,A
02E5 7F01              MOV     R7,#01H
02E7 8017              SJMP    ?C1021
02E9         ?C0340:
02E9 7E00              MOV     R6,#00H
02EB 7F00              MOV     R7,#00H
02ED         ?C0341:
02ED 8011              SJMP    ?C1021
02EF         ?C0339:
                                           ; SOURCE LINE # 943
02EF 7800        R     MOV     R0,#LOW val+01H
02F1 E2                MOVX    A,@R0
02F2 7002              JNZ     ?C0887
02F4 18                DEC     R0
02F5 E2                MOVX    A,@R0
02F6         ?C0887:
02F6 7E00              MOV     R6,#00H
02F8 6004              JZ      ?C0343
02FA 7F00              MOV     R7,#00H
02FC 8002              SJMP    ?C0344
02FE         ?C0343:
02FE 7F01              MOV     R7,#01H
0300         ?C0344:
0300         ?C1021:
0300 120000      R     LCALL   L?1164
0303         ?C0342:
                                           ; SOURCE LINE # 944
0303 7800        R     MOV     R0,#LOW val
0305 08                INC     R0
0306 E2                MOVX    A,@R0
0307 FD                MOV     R5,A
0308 7FBB              MOV     R7,#0BBH
                                           ; SOURCE LINE # 945
030A 020000      R     LJMP    ?C1067
                                           ; SOURCE LINE # 947
030D         ?C0345:
                                           ; SOURCE LINE # 948
030D 7FA4              MOV     R7,#0A4H
                                           ; SOURCE LINE # 949
030F 120000      R     LCALL   L?1093
0312 B40114            CJNE    A,#01H,?C0346
                                           ; SOURCE LINE # 950
0315 7800        R     MOV     R0,#LOW val+01H
0317 E2                MOVX    A,@R0
0318 7002              JNZ     ?C0888
031A 18                DEC     R0
031B E2                MOVX    A,@R0
031C         ?C0888:
031C 7005              JNZ     ?C0347
031E FE                MOV     R6,A
031F 7F01              MOV     R7,#01H
0321 8017              SJMP    ?C1023
0323         ?C0347:
0323 7E00              MOV     R6,#00H
0325 7F00              MOV     R7,#00H
0327         ?C0348:
0327 8011              SJMP    ?C1023
0329         ?C0346:
                                           ; SOURCE LINE # 952
0329 7800        R     MOV     R0,#LOW val+01H
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 347 

032B E2                MOVX    A,@R0
032C 7002              JNZ     ?C0889
032E 18                DEC     R0
032F E2                MOVX    A,@R0
0330         ?C0889:
0330 7E00              MOV     R6,#00H
0332 6004              JZ      ?C0350
0334 7F00              MOV     R7,#00H
0336 8002              SJMP    ?C0351
0338         ?C0350:
0338 7F01              MOV     R7,#01H
033A         ?C0351:
033A         ?C1023:
033A 120000      R     LCALL   L?1164
033D         ?C0349:
                                           ; SOURCE LINE # 953
033D 7800        R     MOV     R0,#LOW val
033F 08                INC     R0
0340 E2                MOVX    A,@R0
0341 FD                MOV     R5,A
0342 7FA4              MOV     R7,#0A4H
0344         ?C1022:
                                           ; SOURCE LINE # 954
0344 020000      R     LJMP    ?C1067
                                           ; SOURCE LINE # 955
0347         ?C0352:
                                           ; SOURCE LINE # 956
0347 7FAC              MOV     R7,#0ACH
                                           ; SOURCE LINE # 957
0349 120000      R     LCALL   L?1093
034C B40114            CJNE    A,#01H,?C0353
                                           ; SOURCE LINE # 958
034F 7800        R     MOV     R0,#LOW val+01H
0351 E2                MOVX    A,@R0
0352 7002              JNZ     ?C0890
0354 18                DEC     R0
0355 E2                MOVX    A,@R0
0356         ?C0890:
0356 7005              JNZ     ?C0354
0358 FE                MOV     R6,A
0359 7F01              MOV     R7,#01H
035B 8017              SJMP    ?C1025
035D         ?C0354:
035D 7E00              MOV     R6,#00H
035F 7F00              MOV     R7,#00H
0361         ?C0355:
0361 8011              SJMP    ?C1025
0363         ?C0353:
                                           ; SOURCE LINE # 960
0363 7800        R     MOV     R0,#LOW val+01H
0365 E2                MOVX    A,@R0
0366 7002              JNZ     ?C0891
0368 18                DEC     R0
0369 E2                MOVX    A,@R0
036A         ?C0891:
036A 7E00              MOV     R6,#00H
036C 6004              JZ      ?C0357
036E 7F00              MOV     R7,#00H
0370 8002              SJMP    ?C0358
0372         ?C0357:
0372 7F01              MOV     R7,#01H
0374         ?C0358:
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 348 

0374         ?C1025:
0374 120000      R     LCALL   L?1164
0377         ?C0356:
                                           ; SOURCE LINE # 961
0377 7800        R     MOV     R0,#LOW val
0379 08                INC     R0
037A E2                MOVX    A,@R0
037B FD                MOV     R5,A
037C 7FAC              MOV     R7,#0ACH
037E         ?C1024:
                                           ; SOURCE LINE # 962
037E 020000      R     LJMP    ?C1067
                                           ; SOURCE LINE # 963
0381         ?C0359:
                                           ; SOURCE LINE # 964
0381 7FAD              MOV     R7,#0ADH
                                           ; SOURCE LINE # 965
0383 120000      R     LCALL   L?1094
0386 B40114            CJNE    A,#01H,?C0360
                                           ; SOURCE LINE # 966
0389 7800        R     MOV     R0,#LOW val+01H
038B E2                MOVX    A,@R0
038C 7002              JNZ     ?C0892
038E 18                DEC     R0
038F E2                MOVX    A,@R0
0390         ?C0892:
0390 7005              JNZ     ?C0361
0392 FE                MOV     R6,A
0393 7F01              MOV     R7,#01H
0395 8017              SJMP    ?C1027
0397         ?C0361:
0397 7E00              MOV     R6,#00H
0399 7F00              MOV     R7,#00H
039B         ?C0362:
039B 8011              SJMP    ?C1027
039D         ?C0360:
                                           ; SOURCE LINE # 968
039D 7800        R     MOV     R0,#LOW val+01H
039F E2                MOVX    A,@R0
03A0 7002              JNZ     ?C0893
03A2 18                DEC     R0
03A3 E2                MOVX    A,@R0
03A4         ?C0893:
03A4 7E00              MOV     R6,#00H
03A6 6004              JZ      ?C0364
03A8 7F00              MOV     R7,#00H
03AA 8002              SJMP    ?C0365
03AC         ?C0364:
03AC 7F01              MOV     R7,#01H
03AE         ?C0365:
03AE         ?C1027:
03AE 120000      R     LCALL   L?1164
03B1         ?C0363:
                                           ; SOURCE LINE # 970
03B1 7800        R     MOV     R0,#LOW val
03B3 08                INC     R0
03B4 E2                MOVX    A,@R0
03B5 7800        E     MOV     R0,#LOW Priority
03B7 F2                MOVX    @R0,A
                                           ; SOURCE LINE # 971
03B8 700D              JNZ     ?C0366
                                           ; SOURCE LINE # 972
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 349 

                                           ; SOURCE LINE # 973
03BA FD                MOV     R5,A
03BB 7FAE              MOV     R7,#0AEH
03BD FE                MOV     R6,A
03BE 120000      E     LCALL   _WriteEEP
                                           ; SOURCE LINE # 974
03C1 7D01              MOV     R5,#01H
03C3 7FAC              MOV     R7,#0ACH
                                           ; SOURCE LINE # 975
03C5 8025              SJMP    ?C1028
03C7         ?C0366:
                                           ; SOURCE LINE # 977
                                           ; SOURCE LINE # 978
03C7 7D0D              MOV     R5,#0DH
03C9 7FAE              MOV     R7,#0AEH
03CB 7E00              MOV     R6,#00H
03CD 120000      E     LCALL   _WriteEEP
                                           ; SOURCE LINE # 979
03D0 E4                CLR     A
03D1 FD                MOV     R5,A
03D2 7FAC              MOV     R7,#0ACH
03D4 FE                MOV     R6,A
03D5 120000      E     LCALL   _WriteEEP
                                           ; SOURCE LINE # 981
03D8 7800        E     MOV     R0,#LOW SelectModeType
03DA E2                MOVX    A,@R0
03DB D3                SETB    C
03DC 9406              SUBB    A,#06H
03DE 4011              JC      ?C0367
                                           ; SOURCE LINE # 982
                                           ; SOURCE LINE # 983
03E0 7403              MOV     A,#03H
03E2 F2                MOVX    @R0,A
                                           ; SOURCE LINE # 984
03E3 120000      E     LCALL   SetNowMode
                                           ; SOURCE LINE # 985
03E6 7800        E     MOV     R0,#LOW SelectModeType
03E8 E2                MOVX    A,@R0
03E9 FD                MOV     R5,A
03EA 7FB0              MOV     R7,#0B0H
03EC         ?C1028:
03EC 7E00              MOV     R6,#00H
03EE 120000      E     LCALL   _WriteEEP
                                           ; SOURCE LINE # 986
                                           ; SOURCE LINE # 987
03F1         ?C0367:
                                           ; SOURCE LINE # 989
03F1 7800        R     MOV     R0,#LOW val
03F3 08                INC     R0
03F4 E2                MOVX    A,@R0
03F5 FD                MOV     R5,A
03F6 7FAD              MOV     R7,#0ADH
03F8         ?C1026:
                                           ; SOURCE LINE # 990
03F8 020000      R     LJMP    ?C1067
                                           ; SOURCE LINE # 991
                                           ; SOURCE LINE # 993
03FB         ?C0369:
                                           ; SOURCE LINE # 994
03FB 7FA5              MOV     R7,#0A5H
                                           ; SOURCE LINE # 995
03FD 120000      R     LCALL   L?1094
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 350 

0400 B40114            CJNE    A,#01H,?C0370
                                           ; SOURCE LINE # 996
0403 7800        R     MOV     R0,#LOW val+01H
0405 E2                MOVX    A,@R0
0406 7002              JNZ     ?C0894
0408 18                DEC     R0
0409 E2                MOVX    A,@R0
040A         ?C0894:
040A 7005              JNZ     ?C0371
040C FE                MOV     R6,A
040D 7F01              MOV     R7,#01H
040F 8017              SJMP    ?C1030
0411         ?C0371:
0411 7E00              MOV     R6,#00H
0413 7F00              MOV     R7,#00H
0415         ?C0372:
0415 8011              SJMP    ?C1030
0417         ?C0370:
                                           ; SOURCE LINE # 998
0417 7800        R     MOV     R0,#LOW val+01H
0419 E2                MOVX    A,@R0
041A 7002              JNZ     ?C0895
041C 18                DEC     R0
041D E2                MOVX    A,@R0
041E         ?C0895:
041E 7E00              MOV     R6,#00H
0420 6004              JZ      ?C0374
0422 7F00              MOV     R7,#00H
0424 8002              SJMP    ?C0375
0426         ?C0374:
0426 7F01              MOV     R7,#01H
0428         ?C0375:
0428         ?C1030:
0428 120000      R     LCALL   L?1164
042B         ?C0373:
                                           ; SOURCE LINE # 999
042B 7FA5              MOV     R7,#0A5H
042D 120000      R     LCALL   L?1170
                                           ; SOURCE LINE # 1001
0430 7800        R     MOV     R0,#LOW val+01H
0432 E2                MOVX    A,@R0
0433 7002              JNZ     ?C0896
0435 18                DEC     R0
0436 E2                MOVX    A,@R0
0437         ?C0896:
0437 7800        E     MOV     R0,#LOW Attr_A
0439 7006              JNZ     ?C0376
                                           ; SOURCE LINE # 1002
043B E2                MOVX    A,@R0
043C 4401              ORL     A,#01H
043E F2                MOVX    @R0,A
043F 8004              SJMP    ?C0377
0441         ?C0376:
                                           ; SOURCE LINE # 1004
0441 E2                MOVX    A,@R0
0442 540E              ANL     A,#0EH
0444 F2                MOVX    @R0,A
0445         ?C0377:
                                           ; SOURCE LINE # 1006
0445 7800        E     MOV     R0,#LOW TriggerFlag
0447 E2                MOVX    A,@R0
0448 6408              XRL     A,#08H
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 351 

044A 7003              JNZ     $ + 5H
044C 020000      R     LJMP    ?C0290
                                           ; SOURCE LINE # 1007
044F         ?C1020:
                                           ; SOURCE LINE # 1009
044F 020000      R     LJMP    ?C1035
                                           ; SOURCE LINE # 1011
0452         ?C0379:
                                           ; SOURCE LINE # 1012
0452 7FA6              MOV     R7,#0A6H
                                           ; SOURCE LINE # 1013
0454 120000      R     LCALL   L?1095
0457 B40114            CJNE    A,#01H,?C0380
                                           ; SOURCE LINE # 1014
045A 7800        R     MOV     R0,#LOW val+01H
045C E2                MOVX    A,@R0
045D 7002              JNZ     ?C0897
045F 18                DEC     R0
0460 E2                MOVX    A,@R0
0461         ?C0897:
0461 7005              JNZ     ?C0381
0463 FE                MOV     R6,A
0464 7F01              MOV     R7,#01H
0466 8017              SJMP    ?C1032
0468         ?C0381:
0468 7E00              MOV     R6,#00H
046A 7F00              MOV     R7,#00H
046C         ?C0382:
046C 8011              SJMP    ?C1032
046E         ?C0380:
                                           ; SOURCE LINE # 1016
046E 7800        R     MOV     R0,#LOW val+01H
0470 E2                MOVX    A,@R0
0471 7002              JNZ     ?C0898
0473 18                DEC     R0
0474 E2                MOVX    A,@R0
0475         ?C0898:
0475 7E00              MOV     R6,#00H
0477 6004              JZ      ?C0384
0479 7F00              MOV     R7,#00H
047B 8002              SJMP    ?C0385
047D         ?C0384:
047D 7F01              MOV     R7,#01H
047F         ?C0385:
047F         ?C1032:
047F 120000      R     LCALL   L?1164
0482         ?C0383:
                                           ; SOURCE LINE # 1017
0482 7FA6              MOV     R7,#0A6H
0484 120000      R     LCALL   L?1192
                                           ; SOURCE LINE # 1019
0487 7800        R     MOV     R0,#LOW val+01H
0489 E2                MOVX    A,@R0
048A 7002              JNZ     ?C0899
048C 18                DEC     R0
048D E2                MOVX    A,@R0
048E         ?C0899:
048E 7800        E     MOV     R0,#LOW Attr_B
0490 7006              JNZ     ?C0386
                                           ; SOURCE LINE # 1020
0492 E2                MOVX    A,@R0
0493 4401              ORL     A,#01H
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 352 

0495 F2                MOVX    @R0,A
0496 8004              SJMP    ?C0387
0498         ?C0386:
                                           ; SOURCE LINE # 1022
0498 E2                MOVX    A,@R0
0499 540E              ANL     A,#0EH
049B F2                MOVX    @R0,A
049C         ?C0387:
                                           ; SOURCE LINE # 1023
049C 7800        E     MOV     R0,#LOW TriggerFlag
049E E2                MOVX    A,@R0
049F 6408              XRL     A,#08H
04A1 7003              JNZ     $ + 5H
04A3 020000      R     LJMP    ?C0290
                                           ; SOURCE LINE # 1024
04A6         ?C1031:
                                           ; SOURCE LINE # 1026
04A6 020000      R     LJMP    ?C1035
                                           ; SOURCE LINE # 1028
04A9         ?C0389:
                                           ; SOURCE LINE # 1029
04A9 7FA7              MOV     R7,#0A7H
                                           ; SOURCE LINE # 1030
04AB 120000      R     LCALL   L?1095
04AE B40114            CJNE    A,#01H,?C0390
                                           ; SOURCE LINE # 1031
04B1 7800        R     MOV     R0,#LOW val+01H
04B3 E2                MOVX    A,@R0
04B4 7002              JNZ     ?C0900
04B6 18                DEC     R0
04B7 E2                MOVX    A,@R0
04B8         ?C0900:
04B8 7005              JNZ     ?C0391
04BA FE                MOV     R6,A
04BB 7F01              MOV     R7,#01H
04BD 8017              SJMP    ?C1034
04BF         ?C0391:
04BF 7E00              MOV     R6,#00H
04C1 7F00              MOV     R7,#00H
04C3         ?C0392:
04C3 8011              SJMP    ?C1034
04C5         ?C0390:
                                           ; SOURCE LINE # 1033
04C5 7800        R     MOV     R0,#LOW val+01H
04C7 E2                MOVX    A,@R0
04C8 7002              JNZ     ?C0901
04CA 18                DEC     R0
04CB E2                MOVX    A,@R0
04CC         ?C0901:
04CC 7E00              MOV     R6,#00H
04CE 6004              JZ      ?C0394
04D0 7F00              MOV     R7,#00H
04D2 8002              SJMP    ?C0395
04D4         ?C0394:
04D4 7F01              MOV     R7,#01H
04D6         ?C0395:
04D6         ?C1034:
04D6 120000      R     LCALL   L?1164
04D9         ?C0393:
                                           ; SOURCE LINE # 1034
04D9 7FA7              MOV     R7,#0A7H
04DB 120000      R     LCALL   L?1192
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 353 

                                           ; SOURCE LINE # 1036
04DE 7800        R     MOV     R0,#LOW val+01H
04E0 E2                MOVX    A,@R0
04E1 7002              JNZ     ?C0902
04E3 18                DEC     R0
04E4 E2                MOVX    A,@R0
04E5         ?C0902:
04E5 7800        E     MOV     R0,#LOW Attr_C
04E7 7006              JNZ     ?C0396
                                           ; SOURCE LINE # 1037
04E9 E2                MOVX    A,@R0
04EA 4401              ORL     A,#01H
04EC F2                MOVX    @R0,A
04ED 8004              SJMP    ?C0397
04EF         ?C0396:
                                           ; SOURCE LINE # 1039
04EF E2                MOVX    A,@R0
04F0 540E              ANL     A,#0EH
04F2 F2                MOVX    @R0,A
04F3         ?C0397:
                                           ; SOURCE LINE # 1040
04F3 7800        E     MOV     R0,#LOW TriggerFlag
04F5 E2                MOVX    A,@R0
04F6 6408              XRL     A,#08H
04F8 7003              JNZ     $ + 5H
04FA 020000      R     LJMP    ?C0290
                                           ; SOURCE LINE # 1041
04FD         ?C1033:
                                           ; SOURCE LINE # 1043
04FD 8054              SJMP    ?C1035
                                           ; SOURCE LINE # 1045
04FF         ?C0399:
                                           ; SOURCE LINE # 1046
04FF 7FA8              MOV     R7,#0A8H
                                           ; SOURCE LINE # 1047
0501 120000      R     LCALL   L?1096
0504 B40114            CJNE    A,#01H,?C0400
                                           ; SOURCE LINE # 1048
0507 7800        R     MOV     R0,#LOW val+01H
0509 E2                MOVX    A,@R0
050A 7002              JNZ     ?C0903
050C 18                DEC     R0
050D E2                MOVX    A,@R0
050E         ?C0903:
050E 7005              JNZ     ?C0401
0510 FE                MOV     R6,A
0511 7F01              MOV     R7,#01H
0513 8017              SJMP    ?C1036
0515         ?C0401:
0515 7E00              MOV     R6,#00H
0517 7F00              MOV     R7,#00H
0519         ?C0402:
0519 8011              SJMP    ?C1036
051B         ?C0400:
                                           ; SOURCE LINE # 1050
051B 7800        R     MOV     R0,#LOW val+01H
051D E2                MOVX    A,@R0
051E 7002              JNZ     ?C0904
0520 18                DEC     R0
0521 E2                MOVX    A,@R0
0522         ?C0904:
0522 7E00              MOV     R6,#00H
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 354 

0524 6004              JZ      ?C0404
0526 7F00              MOV     R7,#00H
0528 8002              SJMP    ?C0405
052A         ?C0404:
052A 7F01              MOV     R7,#01H
052C         ?C0405:
052C         ?C1036:
052C 120000      R     LCALL   L?1164
052F         ?C0403:
                                           ; SOURCE LINE # 1051
052F 7FA8              MOV     R7,#0A8H
0531 120000      R     LCALL   L?1257
                                           ; SOURCE LINE # 1053
0534 7800        R     MOV     R0,#LOW val+01H
0536 E2                MOVX    A,@R0
0537 7002              JNZ     ?C0905
0539 18                DEC     R0
053A E2                MOVX    A,@R0
053B         ?C0905:
053B 7800        E     MOV     R0,#LOW Attr_R
053D 7006              JNZ     ?C0406
                                           ; SOURCE LINE # 1054
053F E2                MOVX    A,@R0
0540 4401              ORL     A,#01H
0542 F2                MOVX    @R0,A
0543 8004              SJMP    ?C0407
0545         ?C0406:
                                           ; SOURCE LINE # 1056
0545 E2                MOVX    A,@R0
0546 540E              ANL     A,#0EH
0548 F2                MOVX    @R0,A
0549         ?C0407:
                                           ; SOURCE LINE # 1057
0549 7800        E     MOV     R0,#LOW TriggerFlag
054B E2                MOVX    A,@R0
054C 6408              XRL     A,#08H
054E 7003              JNZ     $ + 5H
0550 020000      R     LJMP    ?C0290
                                           ; SOURCE LINE # 1058
0553         ?C1035:
0553 120000      E     LCALL   SetNowMode
                                           ; SOURCE LINE # 1060
0556 020000      R     LJMP    ?C0290
                                           ; SOURCE LINE # 1063
0559         ?C0409:
                                           ; SOURCE LINE # 1064
0559 7FA1              MOV     R7,#0A1H
                                           ; SOURCE LINE # 1065
055B 120000      R     LCALL   L?1096
055E B4010F            CJNE    A,#01H,?C0410
                                           ; SOURCE LINE # 1066
                                           ; SOURCE LINE # 1067
0561 120000      R     LCALL   L?1249
0564 5005              JNC     ?C0411
0566 120000      R     LCALL   L?1101
0569 8012              SJMP    ?C0413
056B         ?C0411:
                                           ; SOURCE LINE # 1068
056B 120000      R     LCALL   L?1159
                                           ; SOURCE LINE # 1069
056E 800D              SJMP    ?C0413
0570         ?C0410:
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 355 

                                           ; SOURCE LINE # 1071
                                           ; SOURCE LINE # 1072
0570 120000      R     LCALL   L?1119
0573 4005              JC      ?C0414
0575 120000      R     LCALL   L?1105
0578 8003              SJMP    ?C0413
057A         ?C0414:
                                           ; SOURCE LINE # 1073
057A 120000      R     LCALL   L?1277
                                           ; SOURCE LINE # 1074
057D         ?C0413:
                                           ; SOURCE LINE # 1075
057D 7800        R     MOV     R0,#LOW val
057F 08                INC     R0
0580 E2                MOVX    A,@R0
0581 FD                MOV     R5,A
0582 7FA1              MOV     R7,#0A1H
0584         ?C1029:
                                           ; SOURCE LINE # 1076
0584 020000      R     LJMP    ?C1067
                                           ; SOURCE LINE # 1078
0587         ?C0416:
                                           ; SOURCE LINE # 1079
0587 7FBC              MOV     R7,#0BCH
0589 7E00              MOV     R6,#00H
058B 120000      E     LCALL   _ReadEEP
                                           ; SOURCE LINE # 1080
058E 120000      R     LCALL   L?1100
0591 B4010F            CJNE    A,#01H,?C0417
                                           ; SOURCE LINE # 1081
                                           ; SOURCE LINE # 1082
0594 120000      R     LCALL   L?1189
0597 5005              JNC     ?C0418
0599 120000      R     LCALL   L?1101
059C 8012              SJMP    ?C0420
059E         ?C0418:
                                           ; SOURCE LINE # 1083
059E 120000      R     LCALL   L?1160
                                           ; SOURCE LINE # 1084
05A1 800D              SJMP    ?C0420
05A3         ?C0417:
                                           ; SOURCE LINE # 1086
                                           ; SOURCE LINE # 1087
05A3 120000      R     LCALL   L?1119
05A6 4005              JC      ?C0421
05A8 120000      R     LCALL   L?1105
05AB 8003              SJMP    ?C0420
05AD         ?C0421:
                                           ; SOURCE LINE # 1088
05AD 120000      R     LCALL   L?1218
                                           ; SOURCE LINE # 1089
05B0         ?C0420:
                                           ; SOURCE LINE # 1090
05B0 7800        R     MOV     R0,#LOW val
05B2 08                INC     R0
05B3 E2                MOVX    A,@R0
05B4 FD                MOV     R5,A
05B5 7FBC              MOV     R7,#0BCH
05B7         ?C1037:
                                           ; SOURCE LINE # 1091
05B7 020000      R     LJMP    ?C1067
                                           ; SOURCE LINE # 1093
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 356 

05BA         ?C0423:
                                           ; SOURCE LINE # 1094
05BA 7FBD              MOV     R7,#0BDH
05BC 7E00              MOV     R6,#00H
05BE 120000      E     LCALL   _ReadEEP
                                           ; SOURCE LINE # 1095
05C1 120000      R     LCALL   L?1100
05C4 B4010F            CJNE    A,#01H,?C0424
                                           ; SOURCE LINE # 1096
                                           ; SOURCE LINE # 1097
05C7 120000      R     LCALL   L?1189
05CA 5005              JNC     ?C0425
05CC 120000      R     LCALL   L?1102
05CF 8012              SJMP    ?C0427
05D1         ?C0425:
                                           ; SOURCE LINE # 1098
05D1 120000      R     LCALL   L?1160
                                           ; SOURCE LINE # 1099
05D4 800D              SJMP    ?C0427
05D6         ?C0424:
                                           ; SOURCE LINE # 1101
                                           ; SOURCE LINE # 1102
05D6 120000      R     LCALL   L?1120
05D9 4005              JC      ?C0428
05DB 120000      R     LCALL   L?1106
05DE 8003              SJMP    ?C0427
05E0         ?C0428:
                                           ; SOURCE LINE # 1103
05E0 120000      R     LCALL   L?1218
                                           ; SOURCE LINE # 1104
05E3         ?C0427:
                                           ; SOURCE LINE # 1105
05E3 7800        R     MOV     R0,#LOW val
05E5 08                INC     R0
05E6 E2                MOVX    A,@R0
05E7 FD                MOV     R5,A
05E8 7FBD              MOV     R7,#0BDH
05EA         ?C1038:
                                           ; SOURCE LINE # 1106
05EA 020000      R     LJMP    ?C1067
                                           ; SOURCE LINE # 1108
05ED         ?C0430:
                                           ; SOURCE LINE # 1109
05ED 7FBE              MOV     R7,#0BEH
05EF 7E00              MOV     R6,#00H
05F1 120000      E     LCALL   _ReadEEP
                                           ; SOURCE LINE # 1110
05F4 120000      R     LCALL   L?1100
05F7 B4010F            CJNE    A,#01H,?C0431
                                           ; SOURCE LINE # 1111
                                           ; SOURCE LINE # 1112
05FA 120000      R     LCALL   L?1190
05FD 5005              JNC     ?C0432
05FF 120000      R     LCALL   L?1102
0602 8012              SJMP    ?C0434
0604         ?C0432:
                                           ; SOURCE LINE # 1113
0604 120000      R     LCALL   L?1160
                                           ; SOURCE LINE # 1114
0607 800D              SJMP    ?C0434
0609         ?C0431:
                                           ; SOURCE LINE # 1116
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 357 

                                           ; SOURCE LINE # 1117
0609 120000      R     LCALL   L?1120
060C 4005              JC      ?C0435
060E 120000      R     LCALL   L?1106
0611 8003              SJMP    ?C0434
0613         ?C0435:
                                           ; SOURCE LINE # 1118
0613 120000      R     LCALL   L?1219
                                           ; SOURCE LINE # 1119
0616         ?C0434:
                                           ; SOURCE LINE # 1120
0616 7800        R     MOV     R0,#LOW val
0618 08                INC     R0
0619 E2                MOVX    A,@R0
061A FD                MOV     R5,A
061B 7FBE              MOV     R7,#0BEH
061D         ?C1039:
                                           ; SOURCE LINE # 1121
061D 020000      R     LJMP    ?C1067
                                           ; SOURCE LINE # 1123
0620         ?C0437:
                                           ; SOURCE LINE # 1124
0620 7FA2              MOV     R7,#0A2H
0622 7E00              MOV     R6,#00H
0624 120000      E     LCALL   _ReadEEP
                                           ; SOURCE LINE # 1125
0627 120000      R     LCALL   L?1100
062A B4010F            CJNE    A,#01H,?C0438
                                           ; SOURCE LINE # 1126
                                           ; SOURCE LINE # 1127
062D 120000      R     LCALL   L?1210
0630 5005              JNC     ?C0439
0632 120000      R     LCALL   L?1102
0635 8012              SJMP    ?C0441
0637         ?C0439:
                                           ; SOURCE LINE # 1128
0637 120000      R     LCALL   L?1160
                                           ; SOURCE LINE # 1129
063A 800D              SJMP    ?C0441
063C         ?C0438:
                                           ; SOURCE LINE # 1131
                                           ; SOURCE LINE # 1132
063C 120000      R     LCALL   L?1120
063F 4005              JC      ?C0442
0641 120000      R     LCALL   L?1106
0644 8003              SJMP    ?C0441
0646         ?C0442:
                                           ; SOURCE LINE # 1133
0646 120000      R     LCALL   L?1239
                                           ; SOURCE LINE # 1134
0649         ?C0441:
                                           ; SOURCE LINE # 1135
0649 7800        R     MOV     R0,#LOW val
064B 08                INC     R0
064C E2                MOVX    A,@R0
064D FD                MOV     R5,A
064E 7FA2              MOV     R7,#0A2H
0650         ?C1040:
                                           ; SOURCE LINE # 1136
0650 020000      R     LJMP    ?C1067
                                           ; SOURCE LINE # 1137
0653         ?C0444:
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 358 

                                           ; SOURCE LINE # 1138
0653 7FBA              MOV     R7,#0BAH
0655 7E00              MOV     R6,#00H
0657 120000      E     LCALL   _ReadEEP
                                           ; SOURCE LINE # 1139
065A 120000      R     LCALL   L?1100
065D B40114            CJNE    A,#01H,?C0445
                                           ; SOURCE LINE # 1140
0660 7800        R     MOV     R0,#LOW val+01H
0662 E2                MOVX    A,@R0
0663 7002              JNZ     ?C0906
0665 18                DEC     R0
0666 E2                MOVX    A,@R0
0667         ?C0906:
0667 7005              JNZ     ?C0446
0669 FE                MOV     R6,A
066A 7F01              MOV     R7,#01H
066C 8017              SJMP    ?C1042
066E         ?C0446:
066E 7E00              MOV     R6,#00H
0670 7F00              MOV     R7,#00H
0672         ?C0447:
0672 8011              SJMP    ?C1042
0674         ?C0445:
                                           ; SOURCE LINE # 1142
0674 7800        R     MOV     R0,#LOW val+01H
0676 E2                MOVX    A,@R0
0677 7002              JNZ     ?C0907
0679 18                DEC     R0
067A E2                MOVX    A,@R0
067B         ?C0907:
067B 7E00              MOV     R6,#00H
067D 6004              JZ      ?C0449
067F 7F00              MOV     R7,#00H
0681 8002              SJMP    ?C0450
0683         ?C0449:
0683 7F01              MOV     R7,#01H
0685         ?C0450:
0685         ?C1042:
0685 120000      R     LCALL   L?1164
0688         ?C0448:
                                           ; SOURCE LINE # 1143
0688 7800        R     MOV     R0,#LOW val
068A 08                INC     R0
068B E2                MOVX    A,@R0
068C FD                MOV     R5,A
068D 7FBA              MOV     R7,#0BAH
068F         ?C1041:
                                           ; SOURCE LINE # 1145
068F 020000      R     LJMP    ?C1067
                                           ; SOURCE LINE # 1147
0692         ?C0451:
                                           ; SOURCE LINE # 1148
0692 7FAE              MOV     R7,#0AEH
0694 7E00              MOV     R6,#00H
0696 120000      E     LCALL   _ReadEEP
                                           ; SOURCE LINE # 1149
0699 120000      R     LCALL   L?1100
069C B40116            CJNE    A,#01H,?C0452
                                           ; SOURCE LINE # 1150
                                           ; SOURCE LINE # 1151
069F C3                CLR     C
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 359 

06A0 7800        R     MOV     R0,#LOW val+01H
06A2 E2                MOVX    A,@R0
06A3 940E              SUBB    A,#0EH
06A5 18                DEC     R0
06A6 E2                MOVX    A,@R0
06A7 9400              SUBB    A,#00H
06A9 5005              JNC     ?C0453
06AB 120000      R     LCALL   L?1102
06AE 8017              SJMP    ?C0455
06B0         ?C0453:
                                           ; SOURCE LINE # 1152
06B0 120000      R     LCALL   L?1160
                                           ; SOURCE LINE # 1153
06B3 8012              SJMP    ?C0455
06B5         ?C0452:
                                           ; SOURCE LINE # 1155
                                           ; SOURCE LINE # 1156
06B5 120000      R     LCALL   L?1120
06B8 4005              JC      ?C0456
06BA 120000      R     LCALL   L?1106
06BD 8008              SJMP    ?C0455
06BF         ?C0456:
                                           ; SOURCE LINE # 1157
06BF 7800        R     MOV     R0,#LOW val
06C1 E4                CLR     A
06C2 F2                MOVX    @R0,A
06C3 08                INC     R0
06C4 740E              MOV     A,#0EH
06C6 F2                MOVX    @R0,A
                                           ; SOURCE LINE # 1158
06C7         ?C0455:
                                           ; SOURCE LINE # 1160
06C7 7FAE              MOV     R7,#0AEH
06C9 120000      R     LCALL   L?1154
                                           ; SOURCE LINE # 1161
06CC 7800        R     MOV     R0,#LOW val+01H
06CE E2                MOVX    A,@R0
06CF 6412              XRL     A,#012H
06D1 7002              JNZ     ?C0908
06D3 18                DEC     R0
06D4 E2                MOVX    A,@R0
06D5         ?C0908:
06D5 6003              JZ      $ + 5H
06D7 020000      R     LJMP    ?C0290
06DA 7800        E     MOV     R0,#LOW NowModeState
06DC E2                MOVX    A,@R0
06DD 6401              XRL     A,#01H
06DF 6003              JZ      $ + 5H
06E1 020000      R     LJMP    ?C0290
                                           ; SOURCE LINE # 1162
                                           ; SOURCE LINE # 1163
06E4 7800        E     MOV     R0,#LOW SEQIndex
06E6 F2                MOVX    @R0,A
                                           ; SOURCE LINE # 1164
06E7 120000      E     LCALL   SEQMode
                                           ; SOURCE LINE # 1165
06EA 7800        E     MOV     R0,#LOW SEQFlag
06EC 7401              MOV     A,#01H
06EE F2                MOVX    @R0,A
                                           ; SOURCE LINE # 1166
06EF E4                CLR     A
06F0 7800        E     MOV     R0,#LOW SEQTime
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 360 

06F2 F2                MOVX    @R0,A
                                           ; SOURCE LINE # 1167
                                           ; SOURCE LINE # 1169
06F3 020000      R     LJMP    ?C0290
                                           ; SOURCE LINE # 1170
06F6         ?C0459:
                                           ; SOURCE LINE # 1171
06F6 7FA9              MOV     R7,#0A9H
06F8 7E00              MOV     R6,#00H
06FA 120000      E     LCALL   _ReadEEP
06FD 7800        R     MOV     R0,#LOW val
06FF 120000      R     LCALL   L?1138
                                           ; SOURCE LINE # 1172
0702 120000      R     LCALL   _CAMOutDSel
                                           ; SOURCE LINE # 1173
0705 7800        R     MOV     R0,#LOW flag
0707 E2                MOVX    A,@R0
0708 B4010F            CJNE    A,#01H,?C0460
                                           ; SOURCE LINE # 1174
                                           ; SOURCE LINE # 1175
070B 120000      R     LCALL   L?1210
070E 5005              JNC     ?C0461
0710 120000      R     LCALL   L?1102
0713 8012              SJMP    ?C0463
0715         ?C0461:
                                           ; SOURCE LINE # 1176
0715 120000      R     LCALL   L?1160
                                           ; SOURCE LINE # 1177
0718 800D              SJMP    ?C0463
071A         ?C0460:
                                           ; SOURCE LINE # 1179
                                           ; SOURCE LINE # 1180
071A 120000      R     LCALL   L?1120
071D 4005              JC      ?C0464
071F 120000      R     LCALL   L?1106
0722 8003              SJMP    ?C0463
0724         ?C0464:
                                           ; SOURCE LINE # 1181
0724 120000      R     LCALL   L?1239
                                           ; SOURCE LINE # 1182
0727         ?C0463:
                                           ; SOURCE LINE # 1183
0727 7FA9              MOV     R7,#0A9H
0729 120000      R     LCALL   L?1257
                                           ; SOURCE LINE # 1184
072C 7800        R     MOV     R0,#LOW val
072E 08                INC     R0
072F E2                MOVX    A,@R0
0730 FF                MOV     R7,A
0731 120000      R     LCALL   _CAMOutDSel
                                           ; SOURCE LINE # 1185
0734 020000      R     LJMP    ?C0290
                                           ; SOURCE LINE # 1186
0737         ?C0466:
                                           ; SOURCE LINE # 1187
0737 7FAA              MOV     R7,#0AAH
0739 7E00              MOV     R6,#00H
073B 120000      E     LCALL   _ReadEEP
                                           ; SOURCE LINE # 1188
073E 120000      R     LCALL   L?1100
0741 B40111            CJNE    A,#01H,?C0467
                                           ; SOURCE LINE # 1189
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 361 

                                           ; SOURCE LINE # 1190
0744 C3                CLR     C
0745 7800        R     MOV     R0,#LOW val+01H
0747 E2                MOVX    A,@R0
0748 9464              SUBB    A,#064H
074A 18                DEC     R0
074B E2                MOVX    A,@R0
074C 9400              SUBB    A,#00H
074E 500E              JNC     ?C0469
0750 120000      R     LCALL   L?1102
                                           ; SOURCE LINE # 1191
0753 8009              SJMP    ?C0469
0755         ?C0467:
                                           ; SOURCE LINE # 1193
                                           ; SOURCE LINE # 1194
0755 D3                SETB    C
0756 120000      R     LCALL   L?1198
0759 4003              JC      ?C0469
075B 120000      R     LCALL   L?1106
                                           ; SOURCE LINE # 1195
075E         ?C0469:
                                           ; SOURCE LINE # 1196
075E 7800        R     MOV     R0,#LOW val
0760 08                INC     R0
0761 E2                MOVX    A,@R0
0762 FD                MOV     R5,A
0763 7FAA              MOV     R7,#0AAH
0765 7E00              MOV     R6,#00H
0767 120000      E     LCALL   _WriteEEP
                                           ; SOURCE LINE # 1197
076A 7800        R     MOV     R0,#LOW val
076C 08                INC     R0
076D E2                MOVX    A,@R0
076E 7800        E     MOV     R0,#LOW TimeStep
0770 F2                MOVX    @R0,A
                                           ; SOURCE LINE # 1198
0771 020000      R     LJMP    ?C0290
                                           ; SOURCE LINE # 1200
0774         ?C0471:
                                           ; SOURCE LINE # 1201
0774 7800        E     MOV     R0,#LOW DVR_Resolution
                                           ; SOURCE LINE # 1202
0776 120000      R     LCALL   L?1098
0779 B4010F            CJNE    A,#01H,?C0472
                                           ; SOURCE LINE # 1203
                                           ; SOURCE LINE # 1204
077C 120000      R     LCALL   L?1196
077F 5005              JNC     ?C0473
0781 120000      R     LCALL   L?1102
0784 8012              SJMP    ?C0475
0786         ?C0473:
                                           ; SOURCE LINE # 1205
0786 120000      R     LCALL   L?1149
                                           ; SOURCE LINE # 1206
0789 800D              SJMP    ?C0475
078B         ?C0472:
                                           ; SOURCE LINE # 1208
                                           ; SOURCE LINE # 1209
078B 120000      R     LCALL   L?1117
078E 4005              JC      ?C0476
0790 120000      R     LCALL   L?1106
0793 8003              SJMP    ?C0475
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 362 

0795         ?C0476:
                                           ; SOURCE LINE # 1210
0795 120000      R     LCALL   L?1241
                                           ; SOURCE LINE # 1211
0798         ?C0475:
                                           ; SOURCE LINE # 1212
0798 7800        R     MOV     R0,#LOW val
079A 08                INC     R0
079B E2                MOVX    A,@R0
079C 7800        E     MOV     R0,#LOW DVR_Resolution
                                           ; SOURCE LINE # 1213
                                           ; SOURCE LINE # 1214
079E 020000      R     LJMP    ?C1064
                                           ; SOURCE LINE # 1216
07A1         ?C0478:
                                           ; SOURCE LINE # 1217
07A1 7800        E     MOV     R0,#LOW DVR_FPS
                                           ; SOURCE LINE # 1218
07A3 120000      R     LCALL   L?1099
07A6 B4010F            CJNE    A,#01H,?C0479
                                           ; SOURCE LINE # 1219
                                           ; SOURCE LINE # 1220
07A9 120000      R     LCALL   L?1190
07AC 5005              JNC     ?C0480
07AE 120000      R     LCALL   L?1102
07B1 8012              SJMP    ?C0482
07B3         ?C0480:
                                           ; SOURCE LINE # 1221
07B3 120000      R     LCALL   L?1149
                                           ; SOURCE LINE # 1222
07B6 800D              SJMP    ?C0482
07B8         ?C0479:
                                           ; SOURCE LINE # 1224
                                           ; SOURCE LINE # 1225
07B8 120000      R     LCALL   L?1117
07BB 4005              JC      ?C0483
07BD 120000      R     LCALL   L?1106
07C0 8003              SJMP    ?C0482
07C2         ?C0483:
                                           ; SOURCE LINE # 1226
07C2 120000      R     LCALL   L?1219
                                           ; SOURCE LINE # 1227
07C5         ?C0482:
                                           ; SOURCE LINE # 1228
07C5 7800        R     MOV     R0,#LOW val
07C7 08                INC     R0
07C8 E2                MOVX    A,@R0
07C9 7800        E     MOV     R0,#LOW DVR_FPS
07CB         ?C1044:
                                           ; SOURCE LINE # 1229
                                           ; SOURCE LINE # 1230
07CB 020000      R     LJMP    ?C1064
                                           ; SOURCE LINE # 1232
07CE         ?C0485:
                                           ; SOURCE LINE # 1233
07CE 7800        E     MOV     R0,#LOW DVR_Quality
                                           ; SOURCE LINE # 1234
07D0 120000      R     LCALL   L?1099
07D3 B4010F            CJNE    A,#01H,?C0486
                                           ; SOURCE LINE # 1235
                                           ; SOURCE LINE # 1236
07D6 120000      R     LCALL   L?1301
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 363 

07D9 5005              JNC     ?C0487
07DB 120000      R     LCALL   L?1102
07DE 8017              SJMP    ?C0489
07E0         ?C0487:
                                           ; SOURCE LINE # 1237
07E0 120000      R     LCALL   L?1150
                                           ; SOURCE LINE # 1238
07E3 8012              SJMP    ?C0489
07E5         ?C0486:
                                           ; SOURCE LINE # 1240
                                           ; SOURCE LINE # 1241
07E5 120000      R     LCALL   L?1118
07E8 4005              JC      ?C0490
07EA 120000      R     LCALL   L?1106
07ED 8008              SJMP    ?C0489
07EF         ?C0490:
                                           ; SOURCE LINE # 1242
07EF 7800        R     MOV     R0,#LOW val
07F1 E4                CLR     A
07F2 F2                MOVX    @R0,A
07F3 08                INC     R0
07F4 7405              MOV     A,#05H
07F6 F2                MOVX    @R0,A
                                           ; SOURCE LINE # 1243
07F7         ?C0489:
                                           ; SOURCE LINE # 1244
07F7 7800        R     MOV     R0,#LOW val
07F9 08                INC     R0
07FA E2                MOVX    A,@R0
07FB 7800        E     MOV     R0,#LOW DVR_Quality
07FD         ?C1045:
                                           ; SOURCE LINE # 1245
                                           ; SOURCE LINE # 1246
07FD 020000      R     LJMP    ?C1064
                                           ; SOURCE LINE # 1248
0800         ?C0492:
                                           ; SOURCE LINE # 1249
0800 7800        E     MOV     R0,#LOW DVR_RecordMode
                                           ; SOURCE LINE # 1250
0802 120000      R     LCALL   L?1099
0805 B4010F            CJNE    A,#01H,?C0493
                                           ; SOURCE LINE # 1251
                                           ; SOURCE LINE # 1252
0808 120000      R     LCALL   L?1249
080B 5005              JNC     ?C0494
080D 120000      R     LCALL   L?1102
0810 8012              SJMP    ?C0496
0812         ?C0494:
                                           ; SOURCE LINE # 1253
0812 120000      R     LCALL   L?1150
                                           ; SOURCE LINE # 1254
0815 800D              SJMP    ?C0496
0817         ?C0493:
                                           ; SOURCE LINE # 1256
                                           ; SOURCE LINE # 1257
0817 120000      R     LCALL   L?1118
081A 4005              JC      ?C0497
081C 120000      R     LCALL   L?1106
081F 8003              SJMP    ?C0496
0821         ?C0497:
                                           ; SOURCE LINE # 1258
0821 120000      R     LCALL   L?1277
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 364 

                                           ; SOURCE LINE # 1259
0824         ?C0496:
                                           ; SOURCE LINE # 1260
0824 7800        R     MOV     R0,#LOW val
0826 08                INC     R0
0827 E2                MOVX    A,@R0
0828 7800        E     MOV     R0,#LOW DVR_RecordMode
082A         ?C1046:
                                           ; SOURCE LINE # 1261
                                           ; SOURCE LINE # 1262
082A 020000      R     LJMP    ?C1064
                                           ; SOURCE LINE # 1264
082D         ?C0499:
                                           ; SOURCE LINE # 1265
082D 7800        E     MOV     R0,#LOW DVR_RecordLength
                                           ; SOURCE LINE # 1266
082F 120000      R     LCALL   L?1099
0832 B4010F            CJNE    A,#01H,?C0500
                                           ; SOURCE LINE # 1267
                                           ; SOURCE LINE # 1268
0835 120000      R     LCALL   L?1190
0838 5005              JNC     ?C0501
083A 120000      R     LCALL   L?1102
083D 8012              SJMP    ?C0503
083F         ?C0501:
                                           ; SOURCE LINE # 1269
083F 120000      R     LCALL   L?1150
                                           ; SOURCE LINE # 1270
0842 800D              SJMP    ?C0503
0844         ?C0500:
                                           ; SOURCE LINE # 1272
                                           ; SOURCE LINE # 1273
0844 120000      R     LCALL   L?1118
0847 4005              JC      ?C0504
0849 120000      R     LCALL   L?1106
084C 8003              SJMP    ?C0503
084E         ?C0504:
                                           ; SOURCE LINE # 1274
084E 120000      R     LCALL   L?1219
                                           ; SOURCE LINE # 1275
0851         ?C0503:
                                           ; SOURCE LINE # 1276
0851 7800        R     MOV     R0,#LOW val
0853 08                INC     R0
0854 E2                MOVX    A,@R0
0855 7800        E     MOV     R0,#LOW DVR_RecordLength
0857         ?C1047:
                                           ; SOURCE LINE # 1277
                                           ; SOURCE LINE # 1278
0857 020000      R     LJMP    ?C1064
                                           ; SOURCE LINE # 1280
085A         ?C0506:
                                           ; SOURCE LINE # 1281
085A 7800        E     MOV     R0,#LOW DVR_PreAlarmLength
                                           ; SOURCE LINE # 1282
085C 120000      R     LCALL   L?1099
085F B4010F            CJNE    A,#01H,?C0507
                                           ; SOURCE LINE # 1283
                                           ; SOURCE LINE # 1284
0862 120000      R     LCALL   L?1301
0865 5005              JNC     ?C0508
0867 120000      R     LCALL   L?1102
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 365 

086A 8017              SJMP    ?C0510
086C         ?C0508:
                                           ; SOURCE LINE # 1285
086C 120000      R     LCALL   L?1150
                                           ; SOURCE LINE # 1286
086F 8012              SJMP    ?C0510
0871         ?C0507:
                                           ; SOURCE LINE # 1288
                                           ; SOURCE LINE # 1289
0871 120000      R     LCALL   L?1118
0874 4005              JC      ?C0511
0876 120000      R     LCALL   L?1106
0879 8008              SJMP    ?C0510
087B         ?C0511:
                                           ; SOURCE LINE # 1290
087B 7800        R     MOV     R0,#LOW val
087D E4                CLR     A
087E F2                MOVX    @R0,A
087F 08                INC     R0
0880 7405              MOV     A,#05H
0882 F2                MOVX    @R0,A
                                           ; SOURCE LINE # 1291
0883         ?C0510:
                                           ; SOURCE LINE # 1292
0883 7800        R     MOV     R0,#LOW val
0885 08                INC     R0
0886 E2                MOVX    A,@R0
0887 7800        E     MOV     R0,#LOW DVR_PreAlarmLength
0889         ?C1048:
                                           ; SOURCE LINE # 1293
                                           ; SOURCE LINE # 1294
0889 020000      R     LJMP    ?C1064
                                           ; SOURCE LINE # 1296
088C         ?C0513:
                                           ; SOURCE LINE # 1297
088C 7800        E     MOV     R0,#LOW DVR_PostAlarmLength
                                           ; SOURCE LINE # 1298
088E 120000      R     LCALL   L?1099
0891 B40116            CJNE    A,#01H,?C0514
                                           ; SOURCE LINE # 1299
                                           ; SOURCE LINE # 1300
0894 C3                CLR     C
0895 7800        R     MOV     R0,#LOW val+01H
0897 E2                MOVX    A,@R0
0898 9408              SUBB    A,#08H
089A 18                DEC     R0
089B E2                MOVX    A,@R0
089C 9400              SUBB    A,#00H
089E 5005              JNC     ?C0515
08A0 120000      R     LCALL   L?1102
08A3 8017              SJMP    ?C0517
08A5         ?C0515:
                                           ; SOURCE LINE # 1301
08A5 120000      R     LCALL   L?1150
                                           ; SOURCE LINE # 1302
08A8 8012              SJMP    ?C0517
08AA         ?C0514:
                                           ; SOURCE LINE # 1304
                                           ; SOURCE LINE # 1305
08AA 120000      R     LCALL   L?1118
08AD 4005              JC      ?C0518
08AF 120000      R     LCALL   L?1106
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 366 

08B2 8008              SJMP    ?C0517
08B4         ?C0518:
                                           ; SOURCE LINE # 1306
08B4 7800        R     MOV     R0,#LOW val
08B6 E4                CLR     A
08B7 F2                MOVX    @R0,A
08B8 08                INC     R0
08B9 7408              MOV     A,#08H
08BB F2                MOVX    @R0,A
                                           ; SOURCE LINE # 1307
08BC         ?C0517:
                                           ; SOURCE LINE # 1308
08BC 7800        R     MOV     R0,#LOW val
08BE 08                INC     R0
08BF E2                MOVX    A,@R0
08C0 7800        E     MOV     R0,#LOW DVR_PostAlarmLength
08C2         ?C1049:
                                           ; SOURCE LINE # 1309
                                           ; SOURCE LINE # 1310
08C2 020000      R     LJMP    ?C1064
                                           ; SOURCE LINE # 1312
08C5         ?C0520:
                                           ; SOURCE LINE # 1313
08C5 7800        E     MOV     R0,#LOW DVR_AudioRecord
                                           ; SOURCE LINE # 1314
08C7 120000      R     LCALL   L?1099
08CA B4010F            CJNE    A,#01H,?C0521
                                           ; SOURCE LINE # 1315
                                           ; SOURCE LINE # 1316
08CD 120000      R     LCALL   L?1250
08D0 5005              JNC     ?C0522
08D2 120000      R     LCALL   L?1102
08D5 8012              SJMP    ?C0524
08D7         ?C0522:
                                           ; SOURCE LINE # 1317
08D7 120000      R     LCALL   L?1160
                                           ; SOURCE LINE # 1318
08DA 800D              SJMP    ?C0524
08DC         ?C0521:
                                           ; SOURCE LINE # 1320
                                           ; SOURCE LINE # 1321
08DC 120000      R     LCALL   L?1120
08DF 4005              JC      ?C0525
08E1 120000      R     LCALL   L?1106
08E4 8003              SJMP    ?C0524
08E6         ?C0525:
                                           ; SOURCE LINE # 1322
08E6 120000      R     LCALL   L?1278
                                           ; SOURCE LINE # 1323
08E9         ?C0524:
                                           ; SOURCE LINE # 1325
08E9 7800        R     MOV     R0,#LOW val
08EB 08                INC     R0
08EC E2                MOVX    A,@R0
08ED 7800        E     MOV     R0,#LOW DVR_AudioRecord
08EF F2                MOVX    @R0,A
08F0 FF                MOV     R7,A
                                           ; SOURCE LINE # 1326
08F1 120000      R     LCALL   _DVRAodioSel
                                           ; SOURCE LINE # 1327
08F4 7800        R     MOV     R0,#LOW val
08F6 08                INC     R0
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 367 

08F7 E2                MOVX    A,@R0
08F8 FD                MOV     R5,A
08F9 7FB2              MOV     R7,#0B2H
08FB         ?C1043:
                                           ; SOURCE LINE # 1329
08FB 020000      R     LJMP    ?C1067
                                           ; SOURCE LINE # 1333
08FE         ?C0527:
                                           ; SOURCE LINE # 1334
08FE 7800        E     MOV     R0,#LOW year2
                                           ; SOURCE LINE # 1335
0900 120000      R     LCALL   L?1099
0903 B40116            CJNE    A,#01H,?C0528
                                           ; SOURCE LINE # 1336
                                           ; SOURCE LINE # 1337
0906 C3                CLR     C
0907 7800        R     MOV     R0,#LOW val+01H
0909 E2                MOVX    A,@R0
090A 9463              SUBB    A,#063H
090C 18                DEC     R0
090D E2                MOVX    A,@R0
090E 9400              SUBB    A,#00H
0910 5005              JNC     ?C0529
0912 120000      R     LCALL   L?1102
0915 8017              SJMP    ?C0531
0917         ?C0529:
                                           ; SOURCE LINE # 1338
0917 120000      R     LCALL   L?1160
                                           ; SOURCE LINE # 1339
091A 8012              SJMP    ?C0531
091C         ?C0528:
                                           ; SOURCE LINE # 1341
                                           ; SOURCE LINE # 1342
091C 120000      R     LCALL   L?1120
091F 4005              JC      ?C0532
0921 120000      R     LCALL   L?1106
0924 8008              SJMP    ?C0531
0926         ?C0532:
                                           ; SOURCE LINE # 1343
0926 7800        R     MOV     R0,#LOW val
0928 E4                CLR     A
0929 F2                MOVX    @R0,A
092A 08                INC     R0
092B 7463              MOV     A,#063H
092D F2                MOVX    @R0,A
                                           ; SOURCE LINE # 1344
092E         ?C0531:
                                           ; SOURCE LINE # 1345
092E 7800        R     MOV     R0,#LOW val
0930 08                INC     R0
0931 E2                MOVX    A,@R0
0932 7800        E     MOV     R0,#LOW year2
0934         ?C1050:
                                           ; SOURCE LINE # 1346
                                           ; SOURCE LINE # 1347
0934 020000      R     LJMP    ?C1064
                                           ; SOURCE LINE # 1349
0937         ?C0534:
                                           ; SOURCE LINE # 1350
0937 7800        E     MOV     R0,#LOW month
                                           ; SOURCE LINE # 1351
0939 120000      R     LCALL   L?1099
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 368 

093C B4010F            CJNE    A,#01H,?C0535
                                           ; SOURCE LINE # 1352
                                           ; SOURCE LINE # 1353
093F 120000      R     LCALL   L?1251
0942 5005              JNC     ?C0536
0944 120000      R     LCALL   L?1102
0947 8012              SJMP    ?C0538
0949         ?C0536:
                                           ; SOURCE LINE # 1354
0949 120000      R     LCALL   L?1150
                                           ; SOURCE LINE # 1355
094C 800D              SJMP    ?C0538
094E         ?C0535:
                                           ; SOURCE LINE # 1357
                                           ; SOURCE LINE # 1358
094E 120000      R     LCALL   L?1118
0951 4005              JC      ?C0539
0953 120000      R     LCALL   L?1106
0956 8003              SJMP    ?C0538
0958         ?C0539:
                                           ; SOURCE LINE # 1359
0958 120000      R     LCALL   L?1279
                                           ; SOURCE LINE # 1360
095B         ?C0538:
                                           ; SOURCE LINE # 1361
095B 7800        R     MOV     R0,#LOW val
095D 08                INC     R0
095E E2                MOVX    A,@R0
095F 7800        E     MOV     R0,#LOW month
0961         ?C1052:
                                           ; SOURCE LINE # 1362
                                           ; SOURCE LINE # 1363
0961 020000      R     LJMP    ?C1064
                                           ; SOURCE LINE # 1365
0964         ?C0541:
                                           ; SOURCE LINE # 1366
0964 7800        E     MOV     R0,#LOW day
                                           ; SOURCE LINE # 1367
0966 120000      R     LCALL   L?1099
0969 B40116            CJNE    A,#01H,?C0542
                                           ; SOURCE LINE # 1368
                                           ; SOURCE LINE # 1369
096C C3                CLR     C
096D 7800        R     MOV     R0,#LOW val+01H
096F E2                MOVX    A,@R0
0970 941F              SUBB    A,#01FH
0972 18                DEC     R0
0973 E2                MOVX    A,@R0
0974 9400              SUBB    A,#00H
0976 5005              JNC     ?C0543
0978 120000      R     LCALL   L?1102
097B 8017              SJMP    ?C0545
097D         ?C0543:
                                           ; SOURCE LINE # 1370
097D 120000      R     LCALL   L?1150
                                           ; SOURCE LINE # 1371
0980 8012              SJMP    ?C0545
0982         ?C0542:
                                           ; SOURCE LINE # 1373
                                           ; SOURCE LINE # 1374
0982 120000      R     LCALL   L?1118
0985 4005              JC      ?C0546
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 369 

0987 120000      R     LCALL   L?1106
098A 8008              SJMP    ?C0545
098C         ?C0546:
                                           ; SOURCE LINE # 1375
098C 7800        R     MOV     R0,#LOW val
098E E4                CLR     A
098F F2                MOVX    @R0,A
0990 08                INC     R0
0991 741F              MOV     A,#01FH
0993 F2                MOVX    @R0,A
                                           ; SOURCE LINE # 1376
0994         ?C0545:
                                           ; SOURCE LINE # 1377
0994 7800        R     MOV     R0,#LOW val
0996 08                INC     R0
0997 E2                MOVX    A,@R0
0998 7800        E     MOV     R0,#LOW day
099A         ?C1053:
                                           ; SOURCE LINE # 1378
                                           ; SOURCE LINE # 1379
099A 020000      R     LJMP    ?C1064
                                           ; SOURCE LINE # 1381
099D         ?C0548:
                                           ; SOURCE LINE # 1382
099D 7800        E     MOV     R0,#LOW hour
                                           ; SOURCE LINE # 1383
099F 120000      R     LCALL   L?1099
09A2 B4010F            CJNE    A,#01H,?C0549
                                           ; SOURCE LINE # 1384
                                           ; SOURCE LINE # 1385
09A5 120000      R     LCALL   L?1253
09A8 5005              JNC     ?C0550
09AA 120000      R     LCALL   L?1102
09AD 8012              SJMP    ?C0552
09AF         ?C0550:
                                           ; SOURCE LINE # 1386
09AF 120000      R     LCALL   L?1150
                                           ; SOURCE LINE # 1387
09B2 800D              SJMP    ?C0552
09B4         ?C0549:
                                           ; SOURCE LINE # 1389
                                           ; SOURCE LINE # 1390
09B4 120000      R     LCALL   L?1118
09B7 4005              JC      ?C0553
09B9 120000      R     LCALL   L?1106
09BC 8003              SJMP    ?C0552
09BE         ?C0553:
                                           ; SOURCE LINE # 1391
09BE 120000      R     LCALL   L?1281
                                           ; SOURCE LINE # 1392
09C1         ?C0552:
                                           ; SOURCE LINE # 1393
09C1 7800        R     MOV     R0,#LOW val
09C3 08                INC     R0
09C4 E2                MOVX    A,@R0
09C5 7800        E     MOV     R0,#LOW hour
09C7         ?C1054:
                                           ; SOURCE LINE # 1394
                                           ; SOURCE LINE # 1395
09C7 020000      R     LJMP    ?C1064
                                           ; SOURCE LINE # 1397
09CA         ?C0555:
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 370 

                                           ; SOURCE LINE # 1398
09CA 7800        E     MOV     R0,#LOW minute
                                           ; SOURCE LINE # 1399
09CC 120000      R     LCALL   L?1099
09CF B40116            CJNE    A,#01H,?C0556
                                           ; SOURCE LINE # 1400
                                           ; SOURCE LINE # 1401
09D2 C3                CLR     C
09D3 7800        R     MOV     R0,#LOW val+01H
09D5 E2                MOVX    A,@R0
09D6 943B              SUBB    A,#03BH
09D8 18                DEC     R0
09D9 E2                MOVX    A,@R0
09DA 9400              SUBB    A,#00H
09DC 5005              JNC     ?C0557
09DE 120000      R     LCALL   L?1102
09E1 8017              SJMP    ?C0559
09E3         ?C0557:
                                           ; SOURCE LINE # 1402
09E3 120000      R     LCALL   L?1160
                                           ; SOURCE LINE # 1403
09E6 8012              SJMP    ?C0559
09E8         ?C0556:
                                           ; SOURCE LINE # 1405
                                           ; SOURCE LINE # 1406
09E8 120000      R     LCALL   L?1120
09EB 4005              JC      ?C0560
09ED 120000      R     LCALL   L?1106
09F0 8008              SJMP    ?C0559
09F2         ?C0560:
                                           ; SOURCE LINE # 1407
09F2 7800        R     MOV     R0,#LOW val
09F4 E4                CLR     A
09F5 F2                MOVX    @R0,A
09F6 08                INC     R0
09F7 743B              MOV     A,#03BH
09F9 F2                MOVX    @R0,A
                                           ; SOURCE LINE # 1408
09FA         ?C0559:
                                           ; SOURCE LINE # 1409
09FA 7800        R     MOV     R0,#LOW val
09FC 08                INC     R0
09FD E2                MOVX    A,@R0
09FE 7800        E     MOV     R0,#LOW minute
0A00         ?C1055:
                                           ; SOURCE LINE # 1410
                                           ; SOURCE LINE # 1411
0A00 020000      R     LJMP    ?C1064
                                           ; SOURCE LINE # 1413
0A03         ?C0562:
                                           ; SOURCE LINE # 1414
0A03 7800        E     MOV     R0,#LOW DVR_TimeZone
                                           ; SOURCE LINE # 1415
0A05 120000      R     LCALL   L?1099
0A08 B40116            CJNE    A,#01H,?C0563
                                           ; SOURCE LINE # 1416
                                           ; SOURCE LINE # 1417
0A0B C3                CLR     C
0A0C 7800        R     MOV     R0,#LOW val+01H
0A0E E2                MOVX    A,@R0
0A0F 9419              SUBB    A,#019H
0A11 18                DEC     R0
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 371 

0A12 E2                MOVX    A,@R0
0A13 9400              SUBB    A,#00H
0A15 5005              JNC     ?C0564
0A17 120000      R     LCALL   L?1102
0A1A 8017              SJMP    ?C0566
0A1C         ?C0564:
                                           ; SOURCE LINE # 1418
0A1C 120000      R     LCALL   L?1150
                                           ; SOURCE LINE # 1419
0A1F 8012              SJMP    ?C0566
0A21         ?C0563:
                                           ; SOURCE LINE # 1421
                                           ; SOURCE LINE # 1422
0A21 120000      R     LCALL   L?1118
0A24 4005              JC      ?C0567
0A26 120000      R     LCALL   L?1106
0A29 8008              SJMP    ?C0566
0A2B         ?C0567:
                                           ; SOURCE LINE # 1423
0A2B 7800        R     MOV     R0,#LOW val
0A2D E4                CLR     A
0A2E F2                MOVX    @R0,A
0A2F 08                INC     R0
0A30 7419              MOV     A,#019H
0A32 F2                MOVX    @R0,A
                                           ; SOURCE LINE # 1424
0A33         ?C0566:
                                           ; SOURCE LINE # 1425
0A33 7800        R     MOV     R0,#LOW val
0A35 08                INC     R0
0A36 E2                MOVX    A,@R0
0A37 7800        E     MOV     R0,#LOW DVR_TimeZone
0A39         ?C1056:
                                           ; SOURCE LINE # 1426
                                           ; SOURCE LINE # 1427
0A39 020000      R     LJMP    ?C1064
                                           ; SOURCE LINE # 1429
0A3C         ?C0569:
                                           ; SOURCE LINE # 1430
0A3C 7800        E     MOV     R0,#LOW DVR_daylightsaving
                                           ; SOURCE LINE # 1431
0A3E 120000      R     LCALL   L?1099
0A41 B4010F            CJNE    A,#01H,?C0570
                                           ; SOURCE LINE # 1432
                                           ; SOURCE LINE # 1433
0A44 120000      R     LCALL   L?1196
0A47 5005              JNC     ?C0571
0A49 120000      R     LCALL   L?1102
0A4C 8012              SJMP    ?C0573
0A4E         ?C0571:
                                           ; SOURCE LINE # 1434
0A4E 120000      R     LCALL   L?1150
                                           ; SOURCE LINE # 1435
0A51 800D              SJMP    ?C0573
0A53         ?C0570:
                                           ; SOURCE LINE # 1437
                                           ; SOURCE LINE # 1438
0A53 120000      R     LCALL   L?1118
0A56 4005              JC      ?C0574
0A58 120000      R     LCALL   L?1106
0A5B 8003              SJMP    ?C0573
0A5D         ?C0574:
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 372 

                                           ; SOURCE LINE # 1439
0A5D 120000      R     LCALL   L?1241
                                           ; SOURCE LINE # 1440
0A60         ?C0573:
                                           ; SOURCE LINE # 1441
0A60 7800        R     MOV     R0,#LOW val
0A62 08                INC     R0
0A63 E2                MOVX    A,@R0
0A64 7800        E     MOV     R0,#LOW DVR_daylightsaving
0A66         ?C1057:
                                           ; SOURCE LINE # 1442
                                           ; SOURCE LINE # 1443
0A66 020000      R     LJMP    ?C1064
                                           ; SOURCE LINE # 1445
0A69         ?C0576:
                                           ; SOURCE LINE # 1446
0A69 7800        E     MOV     R0,#LOW DVR_timebeginesmonth
                                           ; SOURCE LINE # 1447
0A6B 120000      R     LCALL   L?1099
0A6E B4010F            CJNE    A,#01H,?C0577
                                           ; SOURCE LINE # 1448
                                           ; SOURCE LINE # 1449
0A71 120000      R     LCALL   L?1251
0A74 5005              JNC     ?C0578
0A76 120000      R     LCALL   L?1102
0A79 8012              SJMP    ?C0580
0A7B         ?C0578:
                                           ; SOURCE LINE # 1450
0A7B 120000      R     LCALL   L?1150
                                           ; SOURCE LINE # 1451
0A7E 800D              SJMP    ?C0580
0A80         ?C0577:
                                           ; SOURCE LINE # 1453
                                           ; SOURCE LINE # 1454
0A80 120000      R     LCALL   L?1118
0A83 4005              JC      ?C0581
0A85 120000      R     LCALL   L?1106
0A88 8003              SJMP    ?C0580
0A8A         ?C0581:
                                           ; SOURCE LINE # 1455
0A8A 120000      R     LCALL   L?1279
                                           ; SOURCE LINE # 1456
0A8D         ?C0580:
                                           ; SOURCE LINE # 1457
0A8D 7800        R     MOV     R0,#LOW val
0A8F 08                INC     R0
0A90 E2                MOVX    A,@R0
0A91 7800        E     MOV     R0,#LOW DVR_timebeginesmonth
0A93         ?C1058:
                                           ; SOURCE LINE # 1458
                                           ; SOURCE LINE # 1459
0A93 020000      R     LJMP    ?C1064
                                           ; SOURCE LINE # 1461
0A96         ?C0583:
                                           ; SOURCE LINE # 1462
0A96 7800        E     MOV     R0,#LOW DVR_timebeginesweek
                                           ; SOURCE LINE # 1463
0A98 120000      R     LCALL   L?1099
0A9B B4010F            CJNE    A,#01H,?C0584
                                           ; SOURCE LINE # 1464
                                           ; SOURCE LINE # 1465
0A9E 120000      R     LCALL   L?1211
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 373 

0AA1 5005              JNC     ?C0585
0AA3 120000      R     LCALL   L?1102
0AA6 8012              SJMP    ?C0587
0AA8         ?C0585:
                                           ; SOURCE LINE # 1466
0AA8 120000      R     LCALL   L?1150
                                           ; SOURCE LINE # 1467
0AAB 800D              SJMP    ?C0587
0AAD         ?C0584:
                                           ; SOURCE LINE # 1469
                                           ; SOURCE LINE # 1470
0AAD 120000      R     LCALL   L?1118
0AB0 4005              JC      ?C0588
0AB2 120000      R     LCALL   L?1106
0AB5 8003              SJMP    ?C0587
0AB7         ?C0588:
                                           ; SOURCE LINE # 1471
0AB7 120000      R     LCALL   L?1240
                                           ; SOURCE LINE # 1472
0ABA         ?C0587:
                                           ; SOURCE LINE # 1473
0ABA 7800        R     MOV     R0,#LOW val
0ABC 08                INC     R0
0ABD E2                MOVX    A,@R0
0ABE 7800        E     MOV     R0,#LOW DVR_timebeginesweek
0AC0         ?C1059:
                                           ; SOURCE LINE # 1474
                                           ; SOURCE LINE # 1475
0AC0 020000      R     LJMP    ?C1064
                                           ; SOURCE LINE # 1476
0AC3         ?C0590:
                                           ; SOURCE LINE # 1477
0AC3 7800        E     MOV     R0,#LOW DVR_timebeginesTime
                                           ; SOURCE LINE # 1478
0AC5 120000      R     LCALL   L?1099
0AC8 B4010F            CJNE    A,#01H,?C0591
                                           ; SOURCE LINE # 1479
                                           ; SOURCE LINE # 1480
0ACB 120000      R     LCALL   L?1253
0ACE 5005              JNC     ?C0592
0AD0 120000      R     LCALL   L?1102
0AD3 8012              SJMP    ?C0594
0AD5         ?C0592:
                                           ; SOURCE LINE # 1481
0AD5 120000      R     LCALL   L?1160
                                           ; SOURCE LINE # 1482
0AD8 800D              SJMP    ?C0594
0ADA         ?C0591:
                                           ; SOURCE LINE # 1484
                                           ; SOURCE LINE # 1485
0ADA 120000      R     LCALL   L?1120
0ADD 4005              JC      ?C0595
0ADF 120000      R     LCALL   L?1106
0AE2 8003              SJMP    ?C0594
0AE4         ?C0595:
                                           ; SOURCE LINE # 1486
0AE4 120000      R     LCALL   L?1281
                                           ; SOURCE LINE # 1487
0AE7         ?C0594:
                                           ; SOURCE LINE # 1488
0AE7 7800        R     MOV     R0,#LOW val
0AE9 08                INC     R0
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 374 

0AEA E2                MOVX    A,@R0
0AEB 7800        E     MOV     R0,#LOW DVR_timebeginesTime
0AED         ?C1060:
                                           ; SOURCE LINE # 1489
                                           ; SOURCE LINE # 1490
0AED 020000      R     LJMP    ?C1064
                                           ; SOURCE LINE # 1491
0AF0         ?C0597:
                                           ; SOURCE LINE # 1492
0AF0 7800        E     MOV     R0,#LOW DVR_sandardtimebeginesMonth
                                           ; SOURCE LINE # 1493
0AF2 120000      R     LCALL   L?1099
0AF5 B4010F            CJNE    A,#01H,?C0598
                                           ; SOURCE LINE # 1494
                                           ; SOURCE LINE # 1495
0AF8 120000      R     LCALL   L?1252
0AFB 5005              JNC     ?C0599
0AFD 120000      R     LCALL   L?1102
0B00 8012              SJMP    ?C0601
0B02         ?C0599:
                                           ; SOURCE LINE # 1496
0B02 120000      R     LCALL   L?1150
                                           ; SOURCE LINE # 1497
0B05 800D              SJMP    ?C0601
0B07         ?C0598:
                                           ; SOURCE LINE # 1499
                                           ; SOURCE LINE # 1500
0B07 120000      R     LCALL   L?1118
0B0A 4005              JC      ?C0602
0B0C 120000      R     LCALL   L?1106
0B0F 8003              SJMP    ?C0601
0B11         ?C0602:
                                           ; SOURCE LINE # 1501
0B11 120000      R     LCALL   L?1280
                                           ; SOURCE LINE # 1502
0B14         ?C0601:
                                           ; SOURCE LINE # 1503
0B14 7800        R     MOV     R0,#LOW val
0B16 08                INC     R0
0B17 E2                MOVX    A,@R0
0B18 7800        E     MOV     R0,#LOW DVR_sandardtimebeginesMonth
0B1A         ?C1061:
                                           ; SOURCE LINE # 1504
                                           ; SOURCE LINE # 1505
0B1A 020000      R     LJMP    ?C1064
                                           ; SOURCE LINE # 1506
0B1D         ?C0604:
                                           ; SOURCE LINE # 1507
0B1D 7800        E     MOV     R0,#LOW DVR_standardtimebeginesWeek
                                           ; SOURCE LINE # 1508
0B1F 120000      R     LCALL   L?1099
0B22 B4010F            CJNE    A,#01H,?C0605
                                           ; SOURCE LINE # 1509
                                           ; SOURCE LINE # 1510
0B25 120000      R     LCALL   L?1211
0B28 5005              JNC     ?C0606
0B2A 120000      R     LCALL   L?1102
0B2D 8012              SJMP    ?C0608
0B2F         ?C0606:
                                           ; SOURCE LINE # 1511
0B2F 120000      R     LCALL   L?1150
                                           ; SOURCE LINE # 1512
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 375 

0B32 800D              SJMP    ?C0608
0B34         ?C0605:
                                           ; SOURCE LINE # 1514
                                           ; SOURCE LINE # 1515
0B34 120000      R     LCALL   L?1118
0B37 4005              JC      ?C0609
0B39 120000      R     LCALL   L?1106
0B3C 8003              SJMP    ?C0608
0B3E         ?C0609:
                                           ; SOURCE LINE # 1516
0B3E 120000      R     LCALL   L?1240
                                           ; SOURCE LINE # 1517
0B41         ?C0608:
                                           ; SOURCE LINE # 1518
0B41 7800        R     MOV     R0,#LOW val
0B43 08                INC     R0
0B44 E2                MOVX    A,@R0
0B45 7800        E     MOV     R0,#LOW DVR_standardtimebeginesWeek
0B47         ?C1062:
                                           ; SOURCE LINE # 1519
                                           ; SOURCE LINE # 1520
0B47 020000      R     LJMP    ?C1064
                                           ; SOURCE LINE # 1521
0B4A         ?C0611:
                                           ; SOURCE LINE # 1522
0B4A 7800        E     MOV     R0,#LOW DVR_standardtimebeginesTime
                                           ; SOURCE LINE # 1523
0B4C 120000      R     LCALL   L?1099
0B4F B4010F            CJNE    A,#01H,?C0612
                                           ; SOURCE LINE # 1524
                                           ; SOURCE LINE # 1525
0B52 120000      R     LCALL   L?1254
0B55 5005              JNC     ?C0613
0B57 120000      R     LCALL   L?1102
0B5A 8012              SJMP    ?C0615
0B5C         ?C0613:
                                           ; SOURCE LINE # 1526
0B5C 120000      R     LCALL   L?1160
                                           ; SOURCE LINE # 1527
0B5F 800D              SJMP    ?C0615
0B61         ?C0612:
                                           ; SOURCE LINE # 1529
                                           ; SOURCE LINE # 1530
0B61 120000      R     LCALL   L?1118
0B64 4005              JC      ?C0616
0B66 120000      R     LCALL   L?1106
0B69 8003              SJMP    ?C0615
0B6B         ?C0616:
                                           ; SOURCE LINE # 1531
0B6B 120000      R     LCALL   L?1282
                                           ; SOURCE LINE # 1532
0B6E         ?C0615:
                                           ; SOURCE LINE # 1533
0B6E 7800        R     MOV     R0,#LOW val
0B70 08                INC     R0
0B71 E2                MOVX    A,@R0
0B72 7800        E     MOV     R0,#LOW DVR_standardtimebeginesTime
0B74         ?C1063:
                                           ; SOURCE LINE # 1534
                                           ; SOURCE LINE # 1535
0B74 020000      R     LJMP    ?C1064
                                           ; SOURCE LINE # 1537
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 376 

0B77         ?C0618:
                                           ; SOURCE LINE # 1538
0B77 7800        R     MOV     R0,#LOW PW_FirstNumber
                                           ; SOURCE LINE # 1539
0B79 120000      R     LCALL   L?1099
0B7C B4010F            CJNE    A,#01H,?C0619
                                           ; SOURCE LINE # 1540
                                           ; SOURCE LINE # 1541
0B7F 120000      R     LCALL   L?1212
0B82 5005              JNC     ?C0620
0B84 120000      R     LCALL   L?1102
0B87 8012              SJMP    ?C0622
0B89         ?C0620:
                                           ; SOURCE LINE # 1542
0B89 120000      R     LCALL   L?1160
                                           ; SOURCE LINE # 1543
0B8C 800D              SJMP    ?C0622
0B8E         ?C0619:
                                           ; SOURCE LINE # 1545
                                           ; SOURCE LINE # 1546
0B8E 120000      R     LCALL   L?1120
0B91 4005              JC      ?C0623
0B93 120000      R     LCALL   L?1106
0B96 8003              SJMP    ?C0622
0B98         ?C0623:
                                           ; SOURCE LINE # 1547
0B98 120000      R     LCALL   L?1243
                                           ; SOURCE LINE # 1548
0B9B         ?C0622:
                                           ; SOURCE LINE # 1549
0B9B 7800        R     MOV     R0,#LOW val
0B9D 08                INC     R0
0B9E E2                MOVX    A,@R0
0B9F 7800        R     MOV     R0,#LOW PW_FirstNumber
0BA1 F2                MOVX    @R0,A
                                           ; SOURCE LINE # 1550
0BA2 020000      R     LJMP    ?C0290
                                           ; SOURCE LINE # 1552
0BA5         ?C0625:
                                           ; SOURCE LINE # 1553
0BA5 7800        R     MOV     R0,#LOW PW_SecondNumber
                                           ; SOURCE LINE # 1554
0BA7 120000      R     LCALL   L?1099
0BAA B4010F            CJNE    A,#01H,?C0626
                                           ; SOURCE LINE # 1555
                                           ; SOURCE LINE # 1556
0BAD 120000      R     LCALL   L?1212
0BB0 5005              JNC     ?C0627
0BB2 120000      R     LCALL   L?1102
0BB5 8012              SJMP    ?C0629
0BB7         ?C0627:
                                           ; SOURCE LINE # 1557
0BB7 120000      R     LCALL   L?1160
                                           ; SOURCE LINE # 1558
0BBA 800D              SJMP    ?C0629
0BBC         ?C0626:
                                           ; SOURCE LINE # 1560
                                           ; SOURCE LINE # 1561
0BBC 120000      R     LCALL   L?1120
0BBF 4005              JC      ?C0630
0BC1 120000      R     LCALL   L?1106
0BC4 8003              SJMP    ?C0629
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 377 

0BC6         ?C0630:
                                           ; SOURCE LINE # 1562
0BC6 120000      R     LCALL   L?1243
                                           ; SOURCE LINE # 1563
0BC9         ?C0629:
                                           ; SOURCE LINE # 1564
0BC9 7800        R     MOV     R0,#LOW val
0BCB 08                INC     R0
0BCC E2                MOVX    A,@R0
0BCD 7800        R     MOV     R0,#LOW PW_SecondNumber
0BCF F2                MOVX    @R0,A
                                           ; SOURCE LINE # 1565
0BD0 020000      R     LJMP    ?C0290
                                           ; SOURCE LINE # 1567
0BD3         ?C0632:
                                           ; SOURCE LINE # 1568
0BD3 7800        R     MOV     R0,#LOW PW_ThridNumber
                                           ; SOURCE LINE # 1569
0BD5 120000      R     LCALL   L?1099
0BD8 B4010F            CJNE    A,#01H,?C0633
                                           ; SOURCE LINE # 1570
                                           ; SOURCE LINE # 1571
0BDB 120000      R     LCALL   L?1213
0BDE 5005              JNC     ?C0634
0BE0 120000      R     LCALL   L?1102
0BE3 8012              SJMP    ?C0636
0BE5         ?C0634:
                                           ; SOURCE LINE # 1572
0BE5 120000      R     LCALL   L?1160
                                           ; SOURCE LINE # 1573
0BE8 800D              SJMP    ?C0636
0BEA         ?C0633:
                                           ; SOURCE LINE # 1575
                                           ; SOURCE LINE # 1576
0BEA 120000      R     LCALL   L?1120
0BED 4005              JC      ?C0637
0BEF 120000      R     LCALL   L?1106
0BF2 8003              SJMP    ?C0636
0BF4         ?C0637:
                                           ; SOURCE LINE # 1577
0BF4 120000      R     LCALL   L?1244
                                           ; SOURCE LINE # 1578
0BF7         ?C0636:
                                           ; SOURCE LINE # 1579
0BF7 7800        R     MOV     R0,#LOW val
0BF9 08                INC     R0
0BFA E2                MOVX    A,@R0
0BFB 7800        R     MOV     R0,#LOW PW_ThridNumber
0BFD F2                MOVX    @R0,A
                                           ; SOURCE LINE # 1580
0BFE 020000      R     LJMP    ?C0290
                                           ; SOURCE LINE # 1582
0C01         ?C0639:
                                           ; SOURCE LINE # 1583
0C01 7800        R     MOV     R0,#LOW PW_FourthNumber
                                           ; SOURCE LINE # 1584
0C03 120000      R     LCALL   L?1099
0C06 B4010F            CJNE    A,#01H,?C0640
                                           ; SOURCE LINE # 1585
                                           ; SOURCE LINE # 1586
0C09 120000      R     LCALL   L?1213
0C0C 5005              JNC     ?C0641
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 378 

0C0E 120000      R     LCALL   L?1102
0C11 8012              SJMP    ?C0643
0C13         ?C0641:
                                           ; SOURCE LINE # 1587
0C13 120000      R     LCALL   L?1160
                                           ; SOURCE LINE # 1588
0C16 800D              SJMP    ?C0643
0C18         ?C0640:
                                           ; SOURCE LINE # 1590
                                           ; SOURCE LINE # 1591
0C18 120000      R     LCALL   L?1120
0C1B 4005              JC      ?C0644
0C1D 120000      R     LCALL   L?1106
0C20 8003              SJMP    ?C0643
0C22         ?C0644:
                                           ; SOURCE LINE # 1592
0C22 120000      R     LCALL   L?1244
                                           ; SOURCE LINE # 1593
0C25         ?C0643:
                                           ; SOURCE LINE # 1594
0C25 7800        R     MOV     R0,#LOW val
0C27 08                INC     R0
0C28 E2                MOVX    A,@R0
0C29 7800        R     MOV     R0,#LOW PW_FourthNumber
0C2B F2                MOVX    @R0,A
                                           ; SOURCE LINE # 1595
0C2C 020000      R     LJMP    ?C0290
                                           ; SOURCE LINE # 1597
0C2F         ?C0646:
                                           ; SOURCE LINE # 1598
0C2F 7FB7              MOV     R7,#0B7H
0C31 7E00              MOV     R6,#00H
0C33 120000      E     LCALL   _ReadEEP
                                           ; SOURCE LINE # 1599
0C36 120000      R     LCALL   L?1100
0C39 B40116            CJNE    A,#01H,?C0647
                                           ; SOURCE LINE # 1600
                                           ; SOURCE LINE # 1601
0C3C C3                CLR     C
0C3D 7800        R     MOV     R0,#LOW val+01H
0C3F E2                MOVX    A,@R0
0C40 94FF              SUBB    A,#0FFH
0C42 18                DEC     R0
0C43 E2                MOVX    A,@R0
0C44 9400              SUBB    A,#00H
0C46 5005              JNC     ?C0648
0C48 120000      R     LCALL   L?1102
0C4B 8017              SJMP    ?C0650
0C4D         ?C0648:
                                           ; SOURCE LINE # 1602
0C4D 120000      R     LCALL   L?1160
                                           ; SOURCE LINE # 1603
0C50 8012              SJMP    ?C0650
0C52         ?C0647:
                                           ; SOURCE LINE # 1605
                                           ; SOURCE LINE # 1606
0C52 120000      R     LCALL   L?1120
0C55 4005              JC      ?C0651
0C57 120000      R     LCALL   L?1106
0C5A 8008              SJMP    ?C0650
0C5C         ?C0651:
                                           ; SOURCE LINE # 1607
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 379 

0C5C 7800        R     MOV     R0,#LOW val
0C5E E4                CLR     A
0C5F F2                MOVX    @R0,A
0C60 08                INC     R0
0C61 74FF              MOV     A,#0FFH
0C63 F2                MOVX    @R0,A
                                           ; SOURCE LINE # 1608
0C64         ?C0650:
                                           ; SOURCE LINE # 1609
0C64 7800        R     MOV     R0,#LOW val
0C66 08                INC     R0
0C67 E2                MOVX    A,@R0
0C68 FD                MOV     R5,A
0C69 7800        E     MOV     R0,#LOW CAMNumber
0C6B F2                MOVX    @R0,A
                                           ; SOURCE LINE # 1610
0C6C 7FB7              MOV     R7,#0B7H
0C6E         ?C1051:
                                           ; SOURCE LINE # 1611
0C6E 020000      R     LJMP    ?C1067
                                           ; SOURCE LINE # 1613
0C71         ?C0653:
                                           ; SOURCE LINE # 1614
0C71 7FB8              MOV     R7,#0B8H
0C73 7E00              MOV     R6,#00H
0C75 120000      E     LCALL   _ReadEEP
                                           ; SOURCE LINE # 1615
0C78 120000      R     LCALL   L?1100
0C7B B40114            CJNE    A,#01H,?C0654
                                           ; SOURCE LINE # 1616
0C7E 7800        R     MOV     R0,#LOW val+01H
0C80 E2                MOVX    A,@R0
0C81 7002              JNZ     ?C0909
0C83 18                DEC     R0
0C84 E2                MOVX    A,@R0
0C85         ?C0909:
0C85 7005              JNZ     ?C0655
0C87 FE                MOV     R6,A
0C88 7F01              MOV     R7,#01H
0C8A 8017              SJMP    ?C1066
0C8C         ?C0655:
0C8C 7E00              MOV     R6,#00H
0C8E 7F00              MOV     R7,#00H
0C90         ?C0656:
0C90 8011              SJMP    ?C1066
0C92         ?C0654:
                                           ; SOURCE LINE # 1618
0C92 7800        R     MOV     R0,#LOW val+01H
0C94 E2                MOVX    A,@R0
0C95 7002              JNZ     ?C0910
0C97 18                DEC     R0
0C98 E2                MOVX    A,@R0
0C99         ?C0910:
0C99 7E00              MOV     R6,#00H
0C9B 6004              JZ      ?C0658
0C9D 7F00              MOV     R7,#00H
0C9F 8002              SJMP    ?C0659
0CA1         ?C0658:
0CA1 7F01              MOV     R7,#01H
0CA3         ?C0659:
0CA3         ?C1066:
0CA3 120000      R     LCALL   L?1164
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 380 

0CA6         ?C0657:
                                           ; SOURCE LINE # 1619
0CA6 7800        R     MOV     R0,#LOW val
0CA8 08                INC     R0
0CA9 E2                MOVX    A,@R0
0CAA FD                MOV     R5,A
0CAB 7800        E     MOV     R0,#LOW PelcoChoiceFLAG
0CAD F2                MOVX    @R0,A
                                           ; SOURCE LINE # 1620
0CAE 7FB8              MOV     R7,#0B8H
0CB0         ?C1065:
                                           ; SOURCE LINE # 1621
0CB0 8033              SJMP    ?C1067
                                           ; SOURCE LINE # 1623
0CB2         ?C0660:
                                           ; SOURCE LINE # 1624
0CB2 7FB9              MOV     R7,#0B9H
0CB4 7E00              MOV     R6,#00H
0CB6 120000      E     LCALL   _ReadEEP
                                           ; SOURCE LINE # 1625
0CB9 120000      R     LCALL   L?1100
0CBC B4010F            CJNE    A,#01H,?C0661
                                           ; SOURCE LINE # 1626
                                           ; SOURCE LINE # 1627
0CBF 120000      R     LCALL   L?1197
0CC2 5005              JNC     ?C0662
0CC4 120000      R     LCALL   L?1102
0CC7 8012              SJMP    ?C0664
0CC9         ?C0662:
                                           ; SOURCE LINE # 1628
0CC9 120000      R     LCALL   L?1160
                                           ; SOURCE LINE # 1629
0CCC 800D              SJMP    ?C0664
0CCE         ?C0661:
                                           ; SOURCE LINE # 1631
                                           ; SOURCE LINE # 1632
0CCE 120000      R     LCALL   L?1120
0CD1 4005              JC      ?C0665
0CD3 120000      R     LCALL   L?1106
0CD6 8003              SJMP    ?C0664
0CD8         ?C0665:
                                           ; SOURCE LINE # 1633
0CD8 120000      R     LCALL   L?1242
                                           ; SOURCE LINE # 1634
0CDB         ?C0664:
                                           ; SOURCE LINE # 1635
0CDB 7800        R     MOV     R0,#LOW val
0CDD 08                INC     R0
0CDE E2                MOVX    A,@R0
0CDF FD                MOV     R5,A
0CE0 7800        E     MOV     R0,#LOW Baud_rate
0CE2 F2                MOVX    @R0,A
                                           ; SOURCE LINE # 1636
0CE3 7FB9              MOV     R7,#0B9H
0CE5         ?C1067:
0CE5 7E00              MOV     R6,#00H
0CE7 120000      E     LCALL   _WriteEEP
                                           ; SOURCE LINE # 1637
0CEA 8030              SJMP    ?C0290
                                           ; SOURCE LINE # 1639
0CEC         ?C0667:
                                           ; SOURCE LINE # 1640
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 381 

0CEC 7800        E     MOV     R0,#LOW DVR_OverWrite
                                           ; SOURCE LINE # 1641
0CEE 120000      R     LCALL   L?1099
0CF1 B4010F            CJNE    A,#01H,?C0668
                                           ; SOURCE LINE # 1642
                                           ; SOURCE LINE # 1643
0CF4 120000      R     LCALL   L?1197
0CF7 5005              JNC     ?C0669
0CF9 120000      R     LCALL   L?1102
0CFC 8012              SJMP    ?C0671
0CFE         ?C0669:
                                           ; SOURCE LINE # 1644
0CFE 120000      R     LCALL   L?1150
                                           ; SOURCE LINE # 1645
0D01 800D              SJMP    ?C0671
0D03         ?C0668:
                                           ; SOURCE LINE # 1647
                                           ; SOURCE LINE # 1648
0D03 120000      R     LCALL   L?1118
0D06 4005              JC      ?C0672
0D08 120000      R     LCALL   L?1106
0D0B 8003              SJMP    ?C0671
0D0D         ?C0672:
                                           ; SOURCE LINE # 1649
0D0D 120000      R     LCALL   L?1242
                                           ; SOURCE LINE # 1650
0D10         ?C0671:
                                           ; SOURCE LINE # 1651
0D10 7800        R     MOV     R0,#LOW val
0D12 08                INC     R0
0D13 E2                MOVX    A,@R0
0D14 7800        E     MOV     R0,#LOW DVR_OverWrite
0D16         ?C1064:
0D16 F2                MOVX    @R0,A
                                           ; SOURCE LINE # 1652
0D17 7800        R     MOV     R0,#LOW DVR_DataChange
0D19 7401              MOV     A,#01H
0D1B F2                MOVX    @R0,A
                                           ; SOURCE LINE # 1653
                                           ; SOURCE LINE # 1656
0D1C         ?C0290:
                                           ; SOURCE LINE # 1658
0D1C 7800        R     MOV     R0,#LOW val
0D1E E2                MOVX    A,@R0
0D1F FE                MOV     R6,A
0D20 08                INC     R0
0D21 E2                MOVX    A,@R0
0D22 FF                MOV     R7,A
                                           ; SOURCE LINE # 1659
0D23         ?C0674:
0D23 22                RET     
0D24         L?1091:
0D24 7E00              MOV     R6,#00H
0D26 120000      E     LCALL   _ReadEEP
0D29 7800        R     MOV     R0,#LOW val
0D2B E4                CLR     A
0D2C F2                MOVX    @R0,A
0D2D 08                INC     R0
0D2E EF                MOV     A,R7
0D2F F2                MOVX    @R0,A
0D30 7800        R     MOV     R0,#LOW flag
0D32 E2                MOVX    A,@R0
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 382 

0D33 22                RET     
0D34         L?1092:
0D34 7E00              MOV     R6,#00H
0D36 120000      E     LCALL   _ReadEEP
0D39 7800        R     MOV     R0,#LOW val
0D3B E4                CLR     A
0D3C F2                MOVX    @R0,A
0D3D 08                INC     R0
0D3E EF                MOV     A,R7
0D3F F2                MOVX    @R0,A
0D40 7800        R     MOV     R0,#LOW flag
0D42 E2                MOVX    A,@R0
0D43 22                RET     
0D44         L?1093:
0D44 7E00              MOV     R6,#00H
0D46 120000      E     LCALL   _ReadEEP
0D49 7800        R     MOV     R0,#LOW val
0D4B E4                CLR     A
0D4C F2                MOVX    @R0,A
0D4D 08                INC     R0
0D4E EF                MOV     A,R7
0D4F F2                MOVX    @R0,A
0D50 7800        R     MOV     R0,#LOW flag
0D52 E2                MOVX    A,@R0
0D53 22                RET     
0D54         L?1094:
0D54 7E00              MOV     R6,#00H
0D56 120000      E     LCALL   _ReadEEP
0D59 7800        R     MOV     R0,#LOW val
0D5B E4                CLR     A
0D5C F2                MOVX    @R0,A
0D5D 08                INC     R0
0D5E EF                MOV     A,R7
0D5F F2                MOVX    @R0,A
0D60 7800        R     MOV     R0,#LOW flag
0D62 E2                MOVX    A,@R0
0D63 22                RET     
0D64         L?1095:
0D64 7E00              MOV     R6,#00H
0D66 120000      E     LCALL   _ReadEEP
0D69 7800        R     MOV     R0,#LOW val
0D6B E4                CLR     A
0D6C F2                MOVX    @R0,A
0D6D 08                INC     R0
0D6E EF                MOV     A,R7
0D6F F2                MOVX    @R0,A
0D70 7800        R     MOV     R0,#LOW flag
0D72 E2                MOVX    A,@R0
0D73 22                RET     
0D74         L?1096:
0D74 7E00              MOV     R6,#00H
0D76 120000      E     LCALL   _ReadEEP
0D79 7800        R     MOV     R0,#LOW val
0D7B E4                CLR     A
0D7C F2                MOVX    @R0,A
0D7D 08                INC     R0
0D7E EF                MOV     A,R7
0D7F F2                MOVX    @R0,A
0D80 7800        R     MOV     R0,#LOW flag
0D82 E2                MOVX    A,@R0
0D83 22                RET     
0D84         L?1154:
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 383 

0D84 7800        R     MOV     R0,#LOW val
0D86 08                INC     R0
0D87 E2                MOVX    A,@R0
0D88 FD                MOV     R5,A
0D89 7E00              MOV     R6,#00H
0D8B 120000      E     LCALL   _WriteEEP
0D8E 22                RET     
0D8F         L?1170:
0D8F 7800        R     MOV     R0,#LOW val
0D91 08                INC     R0
0D92 E2                MOVX    A,@R0
0D93 FD                MOV     R5,A
0D94 7E00              MOV     R6,#00H
0D96 120000      E     LCALL   _WriteEEP
0D99 22                RET     
0D9A         L?1192:
0D9A 7800        R     MOV     R0,#LOW val
0D9C 08                INC     R0
0D9D E2                MOVX    A,@R0
0D9E FD                MOV     R5,A
0D9F 7E00              MOV     R6,#00H
0DA1 120000      E     LCALL   _WriteEEP
0DA4 22                RET     
0DA5         L?1257:
0DA5 7800        R     MOV     R0,#LOW val
0DA7 08                INC     R0
0DA8 E2                MOVX    A,@R0
0DA9 FD                MOV     R5,A
0DAA 7E00              MOV     R6,#00H
0DAC 120000      E     LCALL   _WriteEEP
0DAF 22                RET     
0DB0         L?1262:
0DB0 7800        R     MOV     R0,#LOW id
0DB2 E2                MOVX    A,@R0
0DB3 246B              ADD     A,#06BH
0DB5 FF                MOV     R7,A
0DB6 08                INC     R0
0DB7 E2                MOVX    A,@R0
0DB8 FD                MOV     R5,A
0DB9 120000      R     LCALL   _ChangeVideoData
0DBC 22                RET     
0DBD         L?1285:
0DBD 7800        R     MOV     R0,#LOW flag
0DBF E2                MOVX    A,@R0
0DC0 FD                MOV     R5,A
0DC1 120000      R     LCALL   _SetPCColor
0DC4 7800        R     MOV     R0,#LOW val
0DC6 E4                CLR     A
0DC7 22                RET     
             ; FUNCTION _SetItemValue (END)

             ; FUNCTION _DisplayViewBar (BEGIN)
                                           ; SOURCE LINE # 1662
0000 7800        R     MOV     R0,#LOW addr
0002 EE                MOV     A,R6
0003 F2                MOVX    @R0,A
0004 08                INC     R0
0005 EF                MOV     A,R7
0006 F2                MOVX    @R0,A
0007 08                INC     R0
0008 ED                MOV     A,R5
0009 F2                MOVX    @R0,A
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 384 

                                           ; SOURCE LINE # 1663
                                           ; SOURCE LINE # 1672
000A E4                CLR     A
000B 08                INC     R0
000C F2                MOVX    @R0,A
                                           ; SOURCE LINE # 1673
000D 08                INC     R0
000E 7C00        R     MOV     R4,#HIGH Bar_str
0010 7DFE              MOV     R5,#0FEH
0012 7BFF              MOV     R3,#0FFH
0014 7A00        R     MOV     R2,#HIGH _?ix1001
0016 7900        R     MOV     R1,#LOW _?ix1001
0018 FE                MOV     R6,A
0019 7F0C              MOV     R7,#0CH
001B 120000      E     LCALL   ?C?COPY
                                           ; SOURCE LINE # 1676
                                           ; SOURCE LINE # 1677
001E 7800        R     MOV     R0,#LOW val
0020 E2                MOVX    A,@R0
0021 C3                CLR     C
0022 9462              SUBB    A,#062H
0024 5039              JNC     ?C0676
                                           ; SOURCE LINE # 1678
                                           ; SOURCE LINE # 1679
0026 E2                MOVX    A,@R0
0027 FF                MOV     R7,A
0028 75F00E            MOV     B,#0EH
002B 84                DIV     AB
002C E5F0              MOV     A,B
002E 900000      R     MOV     DPTR,#BAR_ROM_TABLE
0031 93                MOVC    A,@A+DPTR
0032 FE                MOV     R6,A
0033 EF                MOV     A,R7
0034 75F00E            MOV     B,#0EH
0037 84                DIV     AB
0038 FF                MOV     R7,A
0039 2400        R     ADD     A,#LOW Bar_str
003B F8                MOV     R0,A
003C EE                MOV     A,R6
003D F2                MOVX    @R0,A
                                           ; SOURCE LINE # 1680
003E EF                MOV     A,R7
003F 04                INC     A
0040 7800        R     MOV     R0,#LOW i
0042 F2                MOVX    @R0,A
0043         ?C0677:
0043 7800        R     MOV     R0,#LOW i
0045 E2                MOVX    A,@R0
0046 FF                MOV     R7,A
0047 C3                CLR     C
0048 9407              SUBB    A,#07H
004A 5013              JNC     ?C0676
                                           ; SOURCE LINE # 1681
004C 900000      R     MOV     DPTR,#BAR_ROM_TABLE
004F E4                CLR     A
0050 93                MOVC    A,@A+DPTR
0051 FE                MOV     R6,A
0052 7400        R     MOV     A,#LOW Bar_str
0054 2F                ADD     A,R7
0055 F8                MOV     R0,A
0056 EE                MOV     A,R6
0057 F2                MOVX    @R0,A
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 385 

0058 7800        R     MOV     R0,#LOW i
005A E2                MOVX    A,@R0
005B 04                INC     A
005C F2                MOVX    @R0,A
005D 80E4              SJMP    ?C0677
                                           ; SOURCE LINE # 1682
005F         ?C0676:
                                           ; SOURCE LINE # 1684
005F 7800        R     MOV     R0,#LOW Bar_str
0061 E2                MOVX    A,@R0
0062 B40103            CJNE    A,#01H,?C0675
0065 7402              MOV     A,#02H
0067 F2                MOVX    @R0,A
                                           ; SOURCE LINE # 1685
0068         ?C0675:
                                           ; SOURCE LINE # 1688
0068 7800        R     MOV     R0,#LOW val
006A 120000      R     LCALL   L?1195
006D FE                MOV     R6,A
006E 08                INC     R0
006F E2                MOVX    A,@R0
0070 FD                MOV     R5,A
0071 2400        R     ADD     A,#LOW Bar_str+02H
0073 F8                MOV     R0,A
0074 EE                MOV     A,R6
0075 F2                MOVX    @R0,A
0076 7800        R     MOV     R0,#LOW val
                                           ; SOURCE LINE # 1689
0078 120000      R     LCALL   L?1194
007B FE                MOV     R6,A
007C 7400        R     MOV     A,#LOW Bar_str+01H
007E 2D                ADD     A,R5
007F F8                MOV     R0,A
0080 EE                MOV     A,R6
0081 F2                MOVX    @R0,A
0082 7800        R     MOV     R0,#LOW val
                                           ; SOURCE LINE # 1690
0084 120000      R     LCALL   L?1308
0087 7400        R     MOV     A,#LOW Bar_str
0089 2D                ADD     A,R5
008A F8                MOV     R0,A
008B EF                MOV     A,R7
008C F2                MOVX    @R0,A
                                           ; SOURCE LINE # 1691
008D 7400        R     MOV     A,#LOW Bar_str
008F 2D                ADD     A,R5
0090 F8                MOV     R0,A
0091 E2                MOVX    A,@R0
0092 B43003            CJNE    A,#030H,?C0682
0095 7420              MOV     A,#020H
0097 F2                MOVX    @R0,A
                                           ; SOURCE LINE # 1693
0098         ?C0682:
0098 7800        R     MOV     R0,#LOW i
009A E2                MOVX    A,@R0
009B FF                MOV     R7,A
009C C3                CLR     C
009D 9407              SUBB    A,#07H
009F 500E              JNC     ?C0683
                                           ; SOURCE LINE # 1694
00A1 7400        R     MOV     A,#LOW Bar_str+03H
00A3 2F                ADD     A,R7
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 386 

00A4 F8                MOV     R0,A
00A5 7420              MOV     A,#020H
00A7 F2                MOVX    @R0,A
00A8 7800        R     MOV     R0,#LOW i
00AA E2                MOVX    A,@R0
00AB 04                INC     A
00AC F2                MOVX    @R0,A
00AD 80E9              SJMP    ?C0682
00AF         ?C0683:
                                           ; SOURCE LINE # 1696
00AF 7800        R     MOV     R0,#LOW addr
00B1 7A00        R     MOV     R2,#HIGH Bar_str
00B3 7900        R     MOV     R1,#LOW Bar_str
00B5 120000      R     LCALL   L?1224
00B8 020000      E     LJMP    _WriteStringToAddr
             ; FUNCTION _DisplayViewBar (END)

             ; FUNCTION _DrawNum (BEGIN)
                                           ; SOURCE LINE # 1700
0000 7800        R     MOV     R0,#LOW addr
0002 120000      R     LCALL   L?1266
                                           ; SOURCE LINE # 1701
                                           ; SOURCE LINE # 1703
0005 7800        R     MOV     R0,#LOW Num_str
0007 7C00        R     MOV     R4,#HIGH Num_str
0009 7A00        R     MOV     R2,#HIGH _?ix1002
000B 7900        R     MOV     R1,#LOW _?ix1002
000D 120000      R     LCALL   L?1220
                                           ; SOURCE LINE # 1706
0010 7800        R     MOV     R0,#LOW x
0012 740F              MOV     A,#0FH
0014 F2                MOVX    @R0,A
                                           ; SOURCE LINE # 1707
0015 7800        R     MOV     R0,#LOW nptr
0017 120000      R     LCALL   L?1305
001A FF                MOV     R7,A
001B C4                SWAP    A
001C 540F              ANL     A,#0FH
001E FE                MOV     R6,A
001F 7800        R     MOV     R0,#LOW i
0021 F2                MOVX    @R0,A
                                           ; SOURCE LINE # 1708
0022 EF                MOV     A,R7
0023 540F              ANL     A,#0FH
0025 08                INC     R0
0026 F2                MOVX    @R0,A
                                           ; SOURCE LINE # 1709
0027 E9                MOV     A,R1
0028 2401              ADD     A,#01H
002A F9                MOV     R1,A
002B E4                CLR     A
002C 3A                ADDC    A,R2
002D FA                MOV     R2,A
002E 7800        R     MOV     R0,#LOW str
0030 120000      E     LCALL   ?C?PSTPDATA
                                           ; SOURCE LINE # 1712
0033 EE                MOV     A,R6
0034 601E              JZ      ?C0686
                                           ; SOURCE LINE # 1713
0036 E4                CLR     A
0037 7800        R     MOV     R0,#LOW k
0039 F2                MOVX    @R0,A
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 387 

003A         ?C0687:
003A 7800        R     MOV     R0,#LOW i
003C E2                MOVX    A,@R0
003D FF                MOV     R7,A
003E 7800        R     MOV     R0,#LOW k
0040 E2                MOVX    A,@R0
0041 FE                MOV     R6,A
0042 C3                CLR     C
0043 9F                SUBB    A,R7
0044 500E              JNC     ?C0686
                                           ; SOURCE LINE # 1714
0046 120000      R     LCALL   L?1225
0049 FF                MOV     R7,A
004A 7400        R     MOV     A,#LOW Num_str
004C 2E                ADD     A,R6
004D F8                MOV     R0,A
004E EF                MOV     A,R7
004F 120000      R     LCALL   L?1309
0052 80E6              SJMP    ?C0687
0054         ?C0686:
                                           ; SOURCE LINE # 1716
0054 7800        R     MOV     R0,#LOW val
0056 E2                MOVX    A,@R0
0057 FE                MOV     R6,A
0058 08                INC     R0
0059 E2                MOVX    A,@R0
005A FF                MOV     R7,A
005B 120000      R     LCALL   L?1311
005E 7800        E     MOV     R0,#LOW ?_utoa?BYTE+05H
0060 740A              MOV     A,#0AH
0062 F2                MOVX    @R0,A
0063 120000      E     LCALL   _utoa
                                           ; SOURCE LINE # 1717
0066 120000      R     LCALL   L?1311
0069 120000      E     LCALL   _strlen
;---- Variable 'len' assigned to Register 'R7' ----
                                           ; SOURCE LINE # 1718
006C 120000      R     LCALL   L?1312
006F 7800        R     MOV     R0,#LOW str
0071 120000      E     LCALL   ?C?PSTPDATA
                                           ; SOURCE LINE # 1719
0074 E4                CLR     A
0075 7800        R     MOV     R0,#LOW k
0077 F2                MOVX    @R0,A
0078         ?C0690:
0078 7800        R     MOV     R0,#LOW k
007A E2                MOVX    A,@R0
007B FE                MOV     R6,A
007C C3                CLR     C
007D 9F                SUBB    A,R7
007E 5013              JNC     ?C0691
                                           ; SOURCE LINE # 1720
0080 120000      R     LCALL   L?1225
0083 FD                MOV     R5,A
0084 7800        R     MOV     R0,#LOW i
0086 E2                MOVX    A,@R0
0087 FC                MOV     R4,A
0088 EE                MOV     A,R6
0089 2C                ADD     A,R4
008A 2400        R     ADD     A,#LOW Num_str
008C F8                MOV     R0,A
008D ED                MOV     A,R5
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 388 

008E 120000      R     LCALL   L?1309
0091 80E5              SJMP    ?C0690
0093         ?C0691:
                                           ; SOURCE LINE # 1723
0093 7800        R     MOV     R0,#LOW j
0095 E2                MOVX    A,@R0
0096 6022              JZ      ?C0693
                                           ; SOURCE LINE # 1724
0098 E4                CLR     A
0099 08                INC     R0
009A F2                MOVX    @R0,A
009B         ?C0694:
009B 7800        R     MOV     R0,#LOW j
009D E2                MOVX    A,@R0
009E FE                MOV     R6,A
009F 08                INC     R0
00A0 E2                MOVX    A,@R0
00A1 FD                MOV     R5,A
00A2 C3                CLR     C
00A3 9E                SUBB    A,R6
00A4 5014              JNC     ?C0693
                                           ; SOURCE LINE # 1725
00A6 120000      R     LCALL   L?1226
00A9 FE                MOV     R6,A
00AA 7800        R     MOV     R0,#LOW i
00AC E2                MOVX    A,@R0
00AD FC                MOV     R4,A
00AE ED                MOV     A,R5
00AF 2C                ADD     A,R4
00B0 2F                ADD     A,R7
00B1 2400        R     ADD     A,#LOW Num_str
00B3 F8                MOV     R0,A
00B4 EE                MOV     A,R6
00B5 120000      R     LCALL   L?1310
00B8 80E1              SJMP    ?C0694
00BA         ?C0693:
                                           ; SOURCE LINE # 1726
00BA 7800        R     MOV     R0,#LOW addr
00BC 7A00        R     MOV     R2,#HIGH Num_str
00BE 7900        R     MOV     R1,#LOW Num_str
00C0 120000      R     LCALL   L?1224
00C3 020000      E     LJMP    _WriteStringToAddr
             ; FUNCTION _DrawNum (END)

             ; FUNCTION _DrawStringByLang (BEGIN)
                                           ; SOURCE LINE # 1730
0000 7800        R     MOV     R0,#LOW addr
0002 120000      R     LCALL   L?1267
                                           ; SOURCE LINE # 1731
                                           ; SOURCE LINE # 1734
0005 7800        R     MOV     R0,#LOW Buf
0007 7C00        R     MOV     R4,#HIGH Buf
0009 7A00        R     MOV     R2,#HIGH _?ix1003
000B 7900        R     MOV     R1,#LOW _?ix1003
000D 120000      R     LCALL   L?1220
                                           ; SOURCE LINE # 1737
0010 7800        R     MOV     R0,#LOW yptr
0012 120000      R     LCALL   L?1306
0015 7800        R     MOV     R0,#LOW Size_val
0017 F2                MOVX    @R0,A
                                           ; SOURCE LINE # 1738
0018 E9                MOV     A,R1
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 389 

0019 2402              ADD     A,#02H
001B F9                MOV     R1,A
001C E4                CLR     A
001D 3A                ADDC    A,R2
001E FA                MOV     R2,A
001F 7800        R     MOV     R0,#LOW Str
0021 120000      E     LCALL   ?C?PSTPDATA
                                           ; SOURCE LINE # 1740
0024 7800        R     MOV     R0,#LOW yptr
0026 120000      E     LCALL   ?C?PLDPDATA
0029 900001            MOV     DPTR,#01H
002C 120000      E     LCALL   ?C?CLDOPTR
002F 602B              JZ      ?C0698
                                           ; SOURCE LINE # 1741
                                           ; SOURCE LINE # 1742
0031 E4                CLR     A
0032 7800        R     MOV     R0,#LOW j
0034 F2                MOVX    @R0,A
0035         ?C0699:
0035 7800        R     MOV     R0,#LOW Size_val
0037 E2                MOVX    A,@R0
0038 FF                MOV     R7,A
0039 7800        R     MOV     R0,#LOW OSDLang
003B E2                MOVX    A,@R0
003C 8FF0              MOV     B,R7
003E A4                MUL     AB
003F FF                MOV     R7,A
0040 7800        R     MOV     R0,#LOW j
0042 E2                MOVX    A,@R0
0043 C3                CLR     C
0044 9F                SUBB    A,R7
0045 E5F0              MOV     A,B
0047 6480              XRL     A,#080H
0049 F8                MOV     R0,A
004A 7480              MOV     A,#080H
004C 98                SUBB    A,R0
004D 500D              JNC     ?C0698
                                           ; SOURCE LINE # 1743
004F 120000      R     LCALL   L?1258
0052 120000      R     LCALL   L?1169
0055 7800        R     MOV     R0,#LOW j
0057 E2                MOVX    A,@R0
0058 04                INC     A
0059 F2                MOVX    @R0,A
005A 80D9              SJMP    ?C0699
                                           ; SOURCE LINE # 1744
005C         ?C0698:
                                           ; SOURCE LINE # 1746
005C 7800        R     MOV     R0,#LOW val+01H
005E E2                MOVX    A,@R0
005F 7002              JNZ     ?C0911
0061 18                DEC     R0
0062 E2                MOVX    A,@R0
0063         ?C0911:
0063 601F              JZ      ?C0702
                                           ; SOURCE LINE # 1747
0065 E4                CLR     A
0066 7800        R     MOV     R0,#LOW j
0068 F2                MOVX    @R0,A
0069         ?C0703:
0069 7800        R     MOV     R0,#LOW j
006B E2                MOVX    A,@R0
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 390 

006C FF                MOV     R7,A
006D D3                SETB    C
006E 18                DEC     R0
006F E2                MOVX    A,@R0
0070 9F                SUBB    A,R7
0071 18                DEC     R0
0072 E2                MOVX    A,@R0
0073 9400              SUBB    A,#00H
0075 400D              JC      ?C0702
                                           ; SOURCE LINE # 1748
0077 120000      R     LCALL   L?1258
007A 120000      R     LCALL   L?1169
007D 7800        R     MOV     R0,#LOW j
007F E2                MOVX    A,@R0
0080 04                INC     A
0081 F2                MOVX    @R0,A
0082 80E5              SJMP    ?C0703
                                           ; SOURCE LINE # 1749
0084         ?C0702:
                                           ; SOURCE LINE # 1751
0084 7800        R     MOV     R0,#LOW addr
0086 E2                MOVX    A,@R0
0087 FE                MOV     R6,A
0088 08                INC     R0
0089 E2                MOVX    A,@R0
008A FF                MOV     R7,A
008B 7BFE              MOV     R3,#0FEH
008D 7A00        R     MOV     R2,#HIGH Buf
008F 7900        R     MOV     R1,#LOW Buf
0091 7800        E     MOV     R0,#LOW ?_WriteStringToAddr?BYTE+05H
0093 7408              MOV     A,#08H
0095 F2                MOVX    @R0,A
0096 120000      E     LCALL   _WriteStringToAddr
                                           ; SOURCE LINE # 1753
0099 7800        R     MOV     R0,#LOW Str
009B 120000      E     LCALL   ?C?PLDPDATA
009E 120000      E     LCALL   _strlen
;---- Variable 'l' assigned to Register 'R5' ----
00A1 AD07              MOV     R5,AR7
                                           ; SOURCE LINE # 1755
00A3 7800        R     MOV     R0,#LOW addr
00A5 E2                MOVX    A,@R0
00A6 FE                MOV     R6,A
00A7 08                INC     R0
00A8 E2                MOVX    A,@R0
00A9 FF                MOV     R7,A
00AA 7800        R     MOV     R0,#LOW Str
00AC 120000      E     LCALL   ?C?PLDPDATA
00AF 7800        E     MOV     R0,#LOW ?_WriteStringToAddr?BYTE+05H
00B1 ED                MOV     A,R5
00B2 F2                MOVX    @R0,A
00B3 020000      E     LJMP    _WriteStringToAddr
                                           ; SOURCE LINE # 1757
00B6         L?1258:
00B6 7800        R     MOV     R0,#LOW Str
00B8 120000      E     LCALL   ?C?PLDPDATA
00BB 120000      E     LCALL   _strlen
00BE EF                MOV     A,R7
00BF 2401              ADD     A,#01H
00C1 FF                MOV     R7,A
00C2 E4                CLR     A
00C3 33                RLC     A
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 391 

00C4 FE                MOV     R6,A
00C5 7800        R     MOV     R0,#LOW Str+02H
00C7 22                RET     
             ; FUNCTION _DrawStringByLang (END)

             ; FUNCTION _DrawMenulist (BEGIN)
                                           ; SOURCE LINE # 1785
0000 7800        R     MOV     R0,#LOW NOTViewflag
0002 EF                MOV     A,R7
0003 F2                MOVX    @R0,A
                                           ; SOURCE LINE # 1786
                                           ; SOURCE LINE # 1787
0004 E4                CLR     A
0005 7800        R     MOV     R0,#LOW x
0007 F2                MOVX    @R0,A
                                           ; SOURCE LINE # 1795
0008 120000      R     LCALL   L?1144
000B 7402              MOV     A,#02H
000D 93                MOVC    A,@A+DPTR
000E F4                CPL     A
000F 7003              JNZ     $ + 5H
0011 020000      R     LJMP    ?C0707
                                           ; SOURCE LINE # 1801
0014 7800        R     MOV     R0,#LOW title_item
0016 E2                MOVX    A,@R0
0017 7800        R     MOV     R0,#LOW MenuTitle+01H
0019 120000      R     LCALL   L?1255
;---- Variable 'DMp' assigned to Register 'R1/R2/R3' ----
                                           ; SOURCE LINE # 1802
001C 120000      R     LCALL   L?1223
001F 7800        R     MOV     R0,#LOW Desc
0021 120000      E     LCALL   ?C?PSTPDATA
                                           ; SOURCE LINE # 1803
0024 120000      E     LCALL   _strlen
0027 7800        R     MOV     R0,#LOW j
0029 EF                MOV     A,R7
002A F2                MOVX    @R0,A
                                           ; SOURCE LINE # 1805
002B E4                CLR     A
002C 18                DEC     R0
002D F2                MOVX    @R0,A
002E 7800        R     MOV     R0,#LOW k
0030 F2                MOVX    @R0,A
0031         ?C0708:
0031 7800        R     MOV     R0,#LOW j
0033 E2                MOVX    A,@R0
0034 FF                MOV     R7,A
0035 18                DEC     R0
0036 E2                MOVX    A,@R0
0037 FE                MOV     R6,A
0038 C3                CLR     C
0039 9F                SUBB    A,R7
003A 5021              JNC     ?C0709
                                           ; SOURCE LINE # 1806
003C 7800        R     MOV     R0,#LOW Desc
003E 120000      E     LCALL   ?C?PLDPDATA
0041 8E82              MOV     DPL,R6
0043 758300            MOV     DPH,#00H
0046 120000      E     LCALL   ?C?CLDOPTR
0049 FF                MOV     R7,A
004A F4                CPL     A
004B 6004              JZ      ?C0712
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 392 

004D EF                MOV     A,R7
004E B4FE05            CJNE    A,#0FEH,?C0710
0051         ?C0712:
0051 7800        R     MOV     R0,#LOW k
0053 E2                MOVX    A,@R0
0054 04                INC     A
0055 F2                MOVX    @R0,A
0056         ?C0710:
0056 7800        R     MOV     R0,#LOW i
0058 E2                MOVX    A,@R0
0059 04                INC     A
005A F2                MOVX    @R0,A
005B 80D4              SJMP    ?C0708
005D         ?C0709:
                                           ; SOURCE LINE # 1809
005D 120000      R     LCALL   L?1145
0060 7402              MOV     A,#02H
0062 93                MOVC    A,@A+DPTR
0063 FD                MOV     R5,A
0064 E4                CLR     A
0065 93                MOVC    A,@A+DPTR
0066 FB                MOV     R3,A
0067 7F0F              MOV     R7,#0FH
0069 7E00              MOV     R6,#00H
006B 120000      E     LCALL   _DrawAttrCnt
                                           ; SOURCE LINE # 1810
006E 7800        R     MOV     R0,#LOW Desc
0070 120000      E     LCALL   ?C?PLDPDATA
0073 7800        R     MOV     R0,#LOW j
0075 E2                MOVX    A,@R0
0076 7800        E     MOV     R0,#LOW ?_WriteStringToAddr?BYTE+05H
0078 F2                MOVX    @R0,A
0079 7F0F              MOV     R7,#0FH
007B 7E00              MOV     R6,#00H
007D 120000      E     LCALL   _WriteStringToAddr
                                           ; SOURCE LINE # 1812
0080 7800        R     MOV     R0,#LOW k
0082 E2                MOVX    A,@R0
0083 FF                MOV     R7,A
0084 18                DEC     R0
0085 E2                MOVX    A,@R0
0086 C3                CLR     C
0087 9F                SUBB    A,R7
0088 C3                CLR     C
0089 9417              SUBB    A,#017H
008B 5018              JNC     ?C0713
                                           ; SOURCE LINE # 1813
008D E2                MOVX    A,@R0
008E FD                MOV     R5,A
008F 240F              ADD     A,#0FH
0091 FF                MOV     R7,A
0092 E4                CLR     A
0093 33                RLC     A
0094 FE                MOV     R6,A
0095 08                INC     R0
0096 E2                MOVX    A,@R0
0097 FC                MOV     R4,A
0098 120000      R     LCALL   L?1300
009B 7417              MOV     A,#017H
009D 9D                SUBB    A,R5
009E FD                MOV     R5,A
009F EC                MOV     A,R4
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 393 

00A0 2D                ADD     A,R5
00A1 FD                MOV     R5,A
00A2 120000      E     LCALL   _ClearDataCnt
00A5         ?C0713:
                                           ; SOURCE LINE # 1815
00A5 7800        R     MOV     R0,#LOW y
00A7 E2                MOVX    A,@R0
00A8 04                INC     A
00A9 F2                MOVX    @R0,A
                                           ; SOURCE LINE # 1816
00AA         ?C0707:
                                           ; SOURCE LINE # 1818
00AA 7800        R     MOV     R0,#LOW MenuChild+01H
00AC E2                MOVX    A,@R0
00AD 7002              JNZ     ?C0912
00AF 18                DEC     R0
00B0 E2                MOVX    A,@R0
00B1         ?C0912:
00B1 6006              JZ      ?C0714
00B3 E4                CLR     A
00B4 7800        R     MOV     R0,#LOW i
00B6 F2                MOVX    @R0,A
00B7 8005              SJMP    ?C0715
00B9         ?C0714:
                                           ; SOURCE LINE # 1819
00B9 7800        R     MOV     R0,#LOW i
00BB 74FF              MOV     A,#0FFH
00BD F2                MOVX    @R0,A
00BE         ?C0715:
                                           ; SOURCE LINE # 1822
00BE 7800        R     MOV     R0,#LOW cur_osdwin
00C0 E2                MOVX    A,@R0
00C1 FF                MOV     R7,A
00C2 B40304            CJNE    A,#03H,?C0716
00C5 7E05              MOV     R6,#05H
00C7 8002              SJMP    ?C0717
00C9         ?C0716:
00C9 7E08              MOV     R6,#08H
00CB         ?C0717:
00CB 7800        R     MOV     R0,#LOW Max_y
00CD EE                MOV     A,R6
00CE F2                MOVX    @R0,A
                                           ; SOURCE LINE # 1823
00CF EF                MOV     A,R7
00D0 7E00              MOV     R6,#00H
00D2 B40304            CJNE    A,#03H,?C0718
00D5 7F00              MOV     R7,#00H
00D7 8002              SJMP    ?C0719
00D9         ?C0718:
00D9 7F0F              MOV     R7,#0FH
00DB         ?C0719:
00DB 7800        R     MOV     R0,#LOW addr
00DD EE                MOV     A,R6
00DE F2                MOVX    @R0,A
00DF EF                MOV     A,R7
                                           ; SOURCE LINE # 1824
00E0 120000      R     LCALL   L?1144
00E3 7800        R     MOV     R0,#LOW y
00E5 120000      R     LCALL   L?1261
00E8 AEF0              MOV     R6,B
00EA 7800        R     MOV     R0,#LOW addr+01H
00EC 120000      R     LCALL   L?1169
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 394 

                                           ; SOURCE LINE # 1826
00EF 7800        R     MOV     R0,#LOW NOTViewflag
00F1 E2                MOVX    A,@R0
00F2 700B              JNZ     ?C0721
                                           ; SOURCE LINE # 1827
00F4 D200        E     SETB    I2CAutoIncFlagOn
                                           ; SOURCE LINE # 1828
00F6 7B04              MOV     R3,#04H
00F8 7D94              MOV     R5,#094H
00FA 7F8A              MOV     R7,#08AH
00FC 120000      E     LCALL   _WriteI2C
                                           ; SOURCE LINE # 1829
                                           ; SOURCE LINE # 1831
00FF         ?C0721:
00FF 7800        R     MOV     R0,#LOW Max_y
0101 E2                MOVX    A,@R0
0102 FF                MOV     R7,A
0103 7800        R     MOV     R0,#LOW y
0105 E2                MOVX    A,@R0
0106 C3                CLR     C
0107 9F                SUBB    A,R7
0108 505D              JNC     ?C0722
                                           ; SOURCE LINE # 1833
010A 7800        R     MOV     R0,#LOW i
010C E2                MOVX    A,@R0
010D FF                MOV     R7,A
010E F4                CPL     A
010F 6036              JZ      ?C0724
                                           ; SOURCE LINE # 1834
0111 EF                MOV     A,R7
0112 7800        R     MOV     R0,#LOW MenuChild+01H
0114 120000      R     LCALL   L?1255
0117 7800        R     MOV     R0,#LOW cur_osdwin
0119 E2                MOVX    A,@R0
011A FF                MOV     R7,A
011B 7E00              MOV     R6,#00H
011D 7800        R     MOV     R0,#LOW x
011F E2                MOVX    A,@R0
0120 7800        R     MOV     R0,#LOW ?_DisplayOSDMenuOneItem?BYTE+05H
0122 F2                MOVX    @R0,A
0123 7800        R     MOV     R0,#LOW y
0125 E2                MOVX    A,@R0
0126 7800        R     MOV     R0,#LOW ?_DisplayOSDMenuOneItem?BYTE+06H
0128 F2                MOVX    @R0,A
0129 7800        R     MOV     R0,#LOW NOTViewflag
012B E2                MOVX    A,@R0
012C 7800        R     MOV     R0,#LOW ?_DisplayOSDMenuOneItem?BYTE+07H
012E F2                MOVX    @R0,A
012F 120000      R     LCALL   _DisplayOSDMenuOneItem
                                           ; SOURCE LINE # 1835
0132 120000      R     LCALL   L?1227
0135 AA06              MOV     R2,AR6
0137 F9                MOV     R1,A
0138 7BFF              MOV     R3,#0FFH
013A 7800        R     MOV     R0,#LOW i
013C E2                MOVX    A,@R0
013D FD                MOV     R5,A
013E 120000      R     LCALL   _GetLowerMenuItem
0141 7800        R     MOV     R0,#LOW i
0143 EF                MOV     A,R7
0144 F2                MOVX    @R0,A
                                           ; SOURCE LINE # 1836
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 395 

0145 800B              SJMP    ?C0725
0147         ?C0724:
                                           ; SOURCE LINE # 1837
                                           ; SOURCE LINE # 1838
0147 7800        R     MOV     R0,#LOW addr
0149 120000      R     LCALL   L?1181
014C E4                CLR     A
014D 93                MOVC    A,@A+DPTR
014E FD                MOV     R5,A
014F 120000      E     LCALL   _ClearDataCnt
                                           ; SOURCE LINE # 1839
0152         ?C0725:
                                           ; SOURCE LINE # 1840
0152 120000      R     LCALL   L?1145
0155 E4                CLR     A
0156 93                MOVC    A,@A+DPTR
0157 FF                MOV     R7,A
0158 7800        R     MOV     R0,#LOW addr+01H
015A E2                MOVX    A,@R0
015B 2F                ADD     A,R7
015C 120000      R     LCALL   L?1104
                                           ; SOURCE LINE # 1842
015F 7800        R     MOV     R0,#LOW y
0161 E2                MOVX    A,@R0
0162 04                INC     A
0163 F2                MOVX    @R0,A
0164 020000      R     LJMP    ?C0721
0167         ?C0722:
                                           ; SOURCE LINE # 1844
0167 7800        R     MOV     R0,#LOW NOTViewflag
0169 E2                MOVX    A,@R0
016A 700A              JNZ     ?C0727
                                           ; SOURCE LINE # 1845
016C C200        E     CLR     I2CAutoIncFlagOn
                                           ; SOURCE LINE # 1846
016E FB                MOV     R3,A
016F 7D94              MOV     R5,#094H
0171 7F8A              MOV     R7,#08AH
0173 120000      E     LCALL   _WriteI2C
                                           ; SOURCE LINE # 1847
                                           ; SOURCE LINE # 1849
0176         ?C0727:
0176 22                RET     
             ; FUNCTION _DrawMenulist (END)

             ; FUNCTION DisplayOSDMenu (BEGIN)
                                           ; SOURCE LINE # 1854
                                           ; SOURCE LINE # 1855
                                           ; SOURCE LINE # 1863
0000 7B0A              MOV     R3,#0AH
0002 7D37              MOV     R5,#037H
0004 E4                CLR     A
0005 FF                MOV     R7,A
0006 FE                MOV     R6,A
0007 120000      E     LCALL   _DrawAttrCnt
                                           ; SOURCE LINE # 1864
000A 7D16              MOV     R5,#016H
000C 7F0F              MOV     R7,#0FH
000E 120000      R     LCALL   L?1293
                                           ; SOURCE LINE # 1865
0011 120000      R     LCALL   L?1107
0014 740D              MOV     A,#0DH
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 396 

0016 93                MOVC    A,@A+DPTR
0017 B4A00E            CJNE    A,#0A0H,?C0728
001A 120000      E     LCALL   GetInputSelection
001D EF                MOV     A,R7
001E 6405              XRL     A,#05H
0020 6006              JZ      ?C0728
                                           ; SOURCE LINE # 1866
0022 7BA1              MOV     R3,#0A1H
0024 7D35              MOV     R5,#035H
0026 803B              SJMP    ?C1068
0028         ?C0728:
                                           ; SOURCE LINE # 1868
                                           ; SOURCE LINE # 1869
0028 120000      R     LCALL   L?1108
002B 740D              MOV     A,#0DH
002D 93                MOVC    A,@A+DPTR
002E B43F0A            CJNE    A,#03FH,?C0732
0031 7F80              MOV     R7,#080H
0033 7E00              MOV     R6,#00H
0035 120000      E     LCALL   _ReadEEP
0038 BF0315            CJNE    R7,#03H,?C0731
003B         ?C0732:
003B 120000      R     LCALL   L?1108
003E 740D              MOV     A,#0DH
0040 93                MOVC    A,@A+DPTR
0041 B49F1B            CJNE    A,#09FH,?C0730
0044 7F0B              MOV     R7,#0BH
0046 7E00              MOV     R6,#00H
0048 120000      E     LCALL   _ReadEEP
004B EF                MOV     A,R7
004C 6403              XRL     A,#03H
004E 600F              JZ      ?C0730
0050         ?C0731:
                                           ; SOURCE LINE # 1871
                                           ; SOURCE LINE # 1872
0050 7D37              MOV     R5,#037H
0052 7F26              MOV     R7,#026H
0054 120000      R     LCALL   L?1293
                                           ; SOURCE LINE # 1873
0057 7B8A              MOV     R3,#08AH
0059 7D30              MOV     R5,#030H
005B 7F3D              MOV     R7,#03DH
                                           ; SOURCE LINE # 1874
005D 8006              SJMP    ?C1069
005F         ?C0730:
                                           ; SOURCE LINE # 1876
005F 7BA1              MOV     R3,#0A1H
0061 7D37              MOV     R5,#037H
0063         ?C1068:
0063 7F26              MOV     R7,#026H
0065         ?C1069:
0065 7E00              MOV     R6,#00H
0067 120000      E     LCALL   _DrawAttrCnt
                                           ; SOURCE LINE # 1878
006A         ?C0729:
                                           ; SOURCE LINE # 1880
006A 7B17              MOV     R3,#017H
006C 7D17              MOV     R5,#017H
006E 7FC7              MOV     R7,#0C7H
0070 7E00              MOV     R6,#00H
0072 120000      E     LCALL   _DrawAttrCnt
                                           ; SOURCE LINE # 1882
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 397 

0075 7F01              MOV     R7,#01H
0077 120000      R     LCALL   _DrawMenulist
                                           ; SOURCE LINE # 1885
007A 7800        R     MOV     R0,#LOW OSDMenuLevel
007C E2                MOVX    A,@R0
007D 6401              XRL     A,#01H
007F 7032              JNZ     ?C0734
                                           ; SOURCE LINE # 1886
                                           ; SOURCE LINE # 1887
                                           ; SOURCE LINE # 1888
0081 120000      R     LCALL   L?1208
                                           ; SOURCE LINE # 1889
0084 08                INC     R0
0085 E2                MOVX    A,@R0
0086 08                INC     R0
                                           ; SOURCE LINE # 1891
0087 120000      R     LCALL   L?1173
008A 7800        R     MOV     R0,#LOW title_item
008C E2                MOVX    A,@R0
008D FD                MOV     R5,A
008E 120000      R     LCALL   L?1112
                                           ; SOURCE LINE # 1892
0091 120000      R     LCALL   L?1132
                                           ; SOURCE LINE # 1893
0094 7800        R     MOV     R0,#LOW cur_osdwin
0096 E2                MOVX    A,@R0
0097 14                DEC     A
0098 F2                MOVX    @R0,A
                                           ; SOURCE LINE # 1895
0099 E4                CLR     A
009A FF                MOV     R7,A
009B 120000      R     LCALL   _DrawMenulist
                                           ; SOURCE LINE # 1897
009E 120000      R     LCALL   popMenu
                                           ; SOURCE LINE # 1898
00A1 120000      R     LCALL   L?1174
00A4 7800        R     MOV     R0,#LOW title_item
00A6 E2                MOVX    A,@R0
00A7 FD                MOV     R5,A
00A8 120000      R     LCALL   L?1112
                                           ; SOURCE LINE # 1899
00AB 120000      R     LCALL   L?1132
                                           ; SOURCE LINE # 1900
00AE 7800        R     MOV     R0,#LOW cur_osdwin
00B0 E2                MOVX    A,@R0
00B1 04                INC     A
00B2 F2                MOVX    @R0,A
                                           ; SOURCE LINE # 1901
00B3         ?C0734:
                                           ; SOURCE LINE # 1907
00B3 020000      R     LJMP    DisplayCursor
                                           ; SOURCE LINE # 1908
00B6         L?1293:
00B6 7B17              MOV     R3,#017H
00B8 7E00              MOV     R6,#00H
00BA 120000      E     LCALL   _DrawAttrCnt
00BD 22                RET     
             ; FUNCTION DisplayOSDMenu (END)

             ; FUNCTION OSDHighMenu_sub (BEGIN)
                                           ; SOURCE LINE # 1910
                                           ; SOURCE LINE # 1911
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 398 

                                           ; SOURCE LINE # 1917
0000 7800        R     MOV     R0,#LOW cursor_item
0002 E2                MOVX    A,@R0
0003 7800        R     MOV     R0,#LOW temp_cursor
0005 F2                MOVX    @R0,A
                                           ; SOURCE LINE # 1918
0006 7800        R     MOV     R0,#LOW MenuTitle
0008 E2                MOVX    A,@R0
0009 FF                MOV     R7,A
000A 08                INC     R0
000B E2                MOVX    A,@R0
000C 120000      R     LCALL   L?1136
                                           ; SOURCE LINE # 1919
000F 7800        R     MOV     R0,#LOW title_item
0011 E2                MOVX    A,@R0
0012 18                DEC     R0
0013 F2                MOVX    @R0,A
                                           ; SOURCE LINE # 1921
0014 120000      R     LCALL   popMenu
0017 EF                MOV     A,R7
0018 701C              JNZ     ?C0736
                                           ; SOURCE LINE # 1922
001A 120000      R     LCALL   CloseOSDMenu
                                           ; SOURCE LINE # 1924
001D 120000      R     LCALL   L?1227
                                           ; SOURCE LINE # 1925
0020 120000      R     LCALL   L?1288
0023 FD                MOV     R5,A
0024 08                INC     R0
0025 F2                MOVX    @R0,A
                                           ; SOURCE LINE # 1926
0026 8F82              MOV     DPL,R7
0028 8E83              MOV     DPH,R6
002A 120000      R     LCALL   L?1112
002D 120000      R     LCALL   L?1135
                                           ; SOURCE LINE # 1927
0030 7800        R     MOV     R0,#LOW temp_cursor
0032 E2                MOVX    A,@R0
0033 7800        R     MOV     R0,#LOW cursor_item
0035 F2                MOVX    @R0,A
                                           ; SOURCE LINE # 1935
0036         ?C0736:
                                           ; SOURCE LINE # 1941
0036 7800        R     MOV     R0,#LOW MenuTitle
0038 120000      R     LCALL   L?1146
003B 7800        R     MOV     R0,#LOW title_item
003D 120000      R     LCALL   L?1111
0040 740E              MOV     A,#0EH
0042 93                MOVC    A,@A+DPTR
0043 FF                MOV     R7,A
0044 740F              MOV     A,#0FH
0046 93                MOVC    A,@A+DPTR
0047 7800        R     MOV     R0,#LOW MenuFormat
0049 CF                XCH     A,R7
004A F2                MOVX    @R0,A
004B 08                INC     R0
004C EF                MOV     A,R7
004D F2                MOVX    @R0,A
                                           ; SOURCE LINE # 1943
004E 7800        R     MOV     R0,#LOW OSDMenuLevel
0050 E2                MOVX    A,@R0
0051 14                DEC     A
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 399 

0052 F2                MOVX    @R0,A
                                           ; SOURCE LINE # 1945
0053 E2                MOVX    A,@R0
0054 B4010A            CJNE    A,#01H,?C0737
                                           ; SOURCE LINE # 1946
0057 7800        R     MOV     R0,#LOW cur_osdwin
0059 7403              MOV     A,#03H
005B F2                MOVX    @R0,A
                                           ; SOURCE LINE # 1947
005C 120000      R     LCALL   DisplayOSDMenu
                                           ; SOURCE LINE # 1948
005F 8008              SJMP    ?C0738
0061         ?C0737:
                                           ; SOURCE LINE # 1950
                                           ; SOURCE LINE # 1951
0061 E4                CLR     A
0062 FF                MOV     R7,A
0063 120000      R     LCALL   _DrawMenulist
                                           ; SOURCE LINE # 1952
0066 120000      R     LCALL   DisplayCursor
                                           ; SOURCE LINE # 1953
0069         ?C0738:
                                           ; SOURCE LINE # 1956
0069 7800        R     MOV     R0,#LOW OSDMenuLevel
006B E2                MOVX    A,@R0
006C B4010F            CJNE    A,#01H,?C0740
                                           ; SOURCE LINE # 1957
006F 120000      R     LCALL   L?1313
0072 120000      E     LCALL   _WriteI2C
                                           ; SOURCE LINE # 1958
0075 7B85              MOV     R3,#085H
0077 7D9F              MOV     R5,#09FH
0079 7F8A              MOV     R7,#08AH
007B 120000      E     LCALL   _WriteI2C
                                           ; SOURCE LINE # 1959
                                           ; SOURCE LINE # 1962
007E         ?C0740:
007E 22                RET     
             ; FUNCTION OSDHighMenu_sub (END)

             ; FUNCTION _DoAction (BEGIN)
                                           ; SOURCE LINE # 1965
;---- Variable 'id' assigned to Register 'R7' ----
                                           ; SOURCE LINE # 1966
                                           ; SOURCE LINE # 1967
0000 7800        R     MOV     R0,#LOW ret
0002 7401              MOV     A,#01H
0004 F2                MOVX    @R0,A
                                           ; SOURCE LINE # 1972
0005 EF                MOV     A,R7
0006 120000      E     LCALL   ?C?CCASE
0009 0000        R     DW      ?C0756
000B 16                DB      016H
000C 0000        R     DW      ?C0746
000E 21                DB      021H
000F 0000        R     DW      ?C0746
0011 22                DB      022H
0012 0000        R     DW      ?C0746
0014 23                DB      023H
0015 0000        R     DW      ?C0746
0017 27                DB      027H
0018 0000        R     DW      ?C0746
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 400 

001A 28                DB      028H
001B 0000        R     DW      ?C0747
001D 47                DB      047H
001E 0000        R     DW      ?C0749
0020 4B                DB      04BH
0021 0000        R     DW      ?C0748
0023 4E                DB      04EH
0024 0000        R     DW      ?C0782
0026 4F                DB      04FH
0027 0000        R     DW      ?C0750
0029 9B                DB      09BH
002A 0000        R     DW      ?C0758
002C E8                DB      0E8H
002D 0000        R     DW      ?C0761
002F E9                DB      0E9H
0030 0000        R     DW      ?C0764
0032 EA                DB      0EAH
0033 0000        R     DW      ?C0767
0035 EB                DB      0EBH
0036 0000        R     DW      ?C0774
0038 ED                DB      0EDH
0039 0000        R     DW      ?C0781
003B EE                DB      0EEH
003C 0000        R     DW      ?C0751
003E F1                DB      0F1H
003F 0000        R     DW      ?C0757
0041 F4                DB      0F4H
0042 0000        R     DW      ?C0752
0044 F5                DB      0F5H
0045 0000        R     DW      ?C0754
0047 F6                DB      0F6H
0048 0000              DW      00H
004A 0000        R     DW      ?C0741
                                           ; SOURCE LINE # 1974
                                           ; SOURCE LINE # 1975
                                           ; SOURCE LINE # 1976
                                           ; SOURCE LINE # 1979
                                           ; SOURCE LINE # 1980
004C         ?C0746:
                                           ; SOURCE LINE # 1987
004C EF                MOV     A,R7
004D 540F              ANL     A,#0FH
004F FF                MOV     R7,A
0050 120000      E     LCALL   _ChangeInput
                                           ; SOURCE LINE # 1988
0053 020000      R     LJMP    ?C0741
                                           ; SOURCE LINE # 1991
0056         ?C0747:
                                           ; SOURCE LINE # 1992
0056 120000      E     LCALL   AutoAdjust
                                           ; SOURCE LINE # 1998
0059 020000      R     LJMP    ?C0741
                                           ; SOURCE LINE # 2006
005C         ?C0748:
005C 120000      E     LCALL   ClearOSDInfo
                                           ; SOURCE LINE # 2007
005F 120000      R     LCALL   ResetPanelAttributeValue
                                           ; SOURCE LINE # 2009
                                           ; SOURCE LINE # 2011
                                           ; SOURCE LINE # 2012
                                           ; SOURCE LINE # 2013
                                           ; SOURCE LINE # 2014
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 401 

0062 800F              SJMP    ?C1070
                                           ; SOURCE LINE # 2016
0064         ?C0749:
                                           ; SOURCE LINE # 2017
0064 120000      E     LCALL   AutoColorAdjust
                                           ; SOURCE LINE # 2018
0067 020000      R     LJMP    ?C0741
                                           ; SOURCE LINE # 2022
006A         ?C0750:
006A 120000      E     LCALL   ClearOSDInfo
                                           ; SOURCE LINE # 2023
006D 120000      R     LCALL   ResetPanelAttributeValue
                                           ; SOURCE LINE # 2024
0070 120000      R     LCALL   ResetVideoValue
                                           ; SOURCE LINE # 2025
0073         ?C1070:
0073 120000      R     LCALL   ResetOSDValue
                                           ; SOURCE LINE # 2027
0076 120000      E     LCALL   SetNowMode
                                           ; SOURCE LINE # 2028
0079 7F02              MOV     R7,#02H
007B 120000      E     LCALL   _Hs_DvrTxCmdPaser
                                           ; SOURCE LINE # 2029
                                           ; SOURCE LINE # 2030
007E 020000      R     LJMP    ?C1082
                                           ; SOURCE LINE # 2041
0081         ?C0751:
                                           ; SOURCE LINE # 2042
0081 020000      R     LJMP    ?C1074
                                           ; SOURCE LINE # 2044
0084         ?C0752:
0084 7800        R     MOV     R0,#LOW DVR_DataChange
0086 E2                MOVX    A,@R0
0087 B40109            CJNE    A,#01H,?C0753
                                           ; SOURCE LINE # 2045
                                           ; SOURCE LINE # 2046
008A 7F01              MOV     R7,#01H
008C 120000      E     LCALL   _Hs_DvrTxCmdPaser
                                           ; SOURCE LINE # 2047
008F E4                CLR     A
0090 7800        R     MOV     R0,#LOW DVR_DataChange
0092 F2                MOVX    @R0,A
                                           ; SOURCE LINE # 2048
0093         ?C0753:
                                           ; SOURCE LINE # 2049
0093         ?C1072:
                                           ; SOURCE LINE # 2050
0093 020000      R     LJMP    ?C1074
                                           ; SOURCE LINE # 2052
0096         ?C0754:
0096 7800        R     MOV     R0,#LOW DVR_DataChange
0098 E2                MOVX    A,@R0
0099 B40109            CJNE    A,#01H,?C0755
                                           ; SOURCE LINE # 2053
                                           ; SOURCE LINE # 2054
009C 7F03              MOV     R7,#03H
009E 120000      E     LCALL   _Hs_DvrTxCmdPaser
                                           ; SOURCE LINE # 2055
00A1 E4                CLR     A
00A2 7800        R     MOV     R0,#LOW DVR_DataChange
00A4 F2                MOVX    @R0,A
                                           ; SOURCE LINE # 2056
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 402 

00A5         ?C0755:
                                           ; SOURCE LINE # 2057
00A5         ?C1073:
                                           ; SOURCE LINE # 2058
00A5 020000      R     LJMP    ?C1074
                                           ; SOURCE LINE # 2060
00A8         ?C0756:
                                           ; SOURCE LINE # 2061
00A8 120000      R     LCALL   DisplayInfo_OSD
                                           ; SOURCE LINE # 2062
00AB D200        R     SETB    displayOnValueWindow
                                           ; SOURCE LINE # 2063
00AD 020000      R     LJMP    ?C0741
                                           ; SOURCE LINE # 2064
00B0         ?C0757:
00B0 120000      R     LCALL   CloseOSDMenu
                                           ; SOURCE LINE # 2065
00B3 120000      E     LCALL   DisplayInput
                                           ; SOURCE LINE # 2066
                                           ; SOURCE LINE # 2067
                                           ; SOURCE LINE # 2068
                                           ; SOURCE LINE # 2069
00B6 120000      R     LCALL   L?1289
                                           ; SOURCE LINE # 2074
00B9 020000      R     LJMP    ?C0741
                                           ; SOURCE LINE # 2078
00BC         ?C0758:
                                           ; SOURCE LINE # 2079
00BC 200006      E     JB      DVR_Ready,?C0759
                                           ; SOURCE LINE # 2080
                                           ; SOURCE LINE # 2081
                                           ; SOURCE LINE # 2082
                                           ; SOURCE LINE # 2083
00BF 120000      R     LCALL   L?1162
                                           ; SOURCE LINE # 2084
00C2         ?C1071:
                                           ; SOURCE LINE # 2085
00C2 020000      R     LJMP    ?C1082
00C5         ?C0759:
                                           ; SOURCE LINE # 2087
                                           ; SOURCE LINE # 2089
00C5 7FDC              MOV     R7,#0DCH
                                           ; SOURCE LINE # 2090
00C7 120000      R     LCALL   L?1271
                                           ; SOURCE LINE # 2091
00CA         ?C1075:
                                           ; SOURCE LINE # 2092
                                           ; SOURCE LINE # 2093
00CA 020000      R     LJMP    ?C1082
                                           ; SOURCE LINE # 2094
00CD         ?C0761:
                                           ; SOURCE LINE # 2095
00CD 200006      E     JB      DVR_Ready,?C0762
                                           ; SOURCE LINE # 2096
                                           ; SOURCE LINE # 2097
                                           ; SOURCE LINE # 2098
                                           ; SOURCE LINE # 2099
00D0 120000      R     LCALL   L?1162
                                           ; SOURCE LINE # 2100
00D3         ?C1076:
                                           ; SOURCE LINE # 2101
00D3 020000      R     LJMP    ?C1082
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 403 

00D6         ?C0762:
                                           ; SOURCE LINE # 2103
                                           ; SOURCE LINE # 2104
00D6 7FDD              MOV     R7,#0DDH
                                           ; SOURCE LINE # 2105
00D8 120000      R     LCALL   L?1271
                                           ; SOURCE LINE # 2106
00DB         ?C1077:
                                           ; SOURCE LINE # 2107
                                           ; SOURCE LINE # 2108
00DB 020000      R     LJMP    ?C1082
                                           ; SOURCE LINE # 2109
00DE         ?C0764:
                                           ; SOURCE LINE # 2110
00DE 200009      E     JB      DVR_Ready,?C0765
                                           ; SOURCE LINE # 2111
                                           ; SOURCE LINE # 2112
00E1 120000      E     LCALL   DisplayDVRnotReady
                                           ; SOURCE LINE # 2113
                                           ; SOURCE LINE # 2114
00E4 120000      R     LCALL   L?1193
                                           ; SOURCE LINE # 2115
00E7         ?C1078:
                                           ; SOURCE LINE # 2116
00E7 020000      R     LJMP    ?C1082
00EA         ?C0765:
                                           ; SOURCE LINE # 2118
                                           ; SOURCE LINE # 2119
00EA 7FDE              MOV     R7,#0DEH
                                           ; SOURCE LINE # 2120
00EC 120000      R     LCALL   L?1319
                                           ; SOURCE LINE # 2121
00EF         ?C1079:
                                           ; SOURCE LINE # 2122
                                           ; SOURCE LINE # 2123
00EF 020000      R     LJMP    ?C1082
                                           ; SOURCE LINE # 2125
00F2         ?C0767:
                                           ; SOURCE LINE # 2126
00F2 7800        E     MOV     R0,#LOW DVR_SDCardAvailable
00F4 E2                MOVX    A,@R0
00F5 F4                CPL     A
00F6 7003              JNZ     $ + 5H
00F8 020000      R     LJMP    ?C0741
                                           ; SOURCE LINE # 2127
                                           ; SOURCE LINE # 2151
00FB 7F07              MOV     R7,#07H
                                           ; SOURCE LINE # 2152
00FD 120000      R     LCALL   L?1319
                                           ; SOURCE LINE # 2155
0100 120000      E     LCALL   DisplayFormatOSD
0103         ?C0769:
                                           ; SOURCE LINE # 2157
0103 7800        E     MOV     R0,#LOW FormatWait
0105 E2                MOVX    A,@R0
0106 D3                SETB    C
0107 9478              SUBB    A,#078H
0109 5016              JNC     ?C0770
                                           ; SOURCE LINE # 2158
                                           ; SOURCE LINE # 2159
010B E500        E     MOV     A,RS2_in
010D 6003              JZ      ?C0771
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 404 

                                           ; SOURCE LINE # 2160
010F 120000      E     LCALL   DvrReceivePaser
0112         ?C0771:
                                           ; SOURCE LINE # 2161
0112 E4                CLR     A
0113 F500        E     MOV     RS2_in,A
                                           ; SOURCE LINE # 2163
0115 7800        E     MOV     R0,#LOW FormatStatus
0117 E2                MOVX    A,@R0
0118 B401E8            CJNE    A,#01H,?C0769
                                           ; SOURCE LINE # 2164
                                           ; SOURCE LINE # 2165
011B 120000      E     LCALL   DisplayFormatOkOSD
                                           ; SOURCE LINE # 2166
                                           ; SOURCE LINE # 2167
011E 120000      R     LCALL   L?1193
                                           ; SOURCE LINE # 2168
                                           ; SOURCE LINE # 2169
                                           ; SOURCE LINE # 2170
0121         ?C0770:
                                           ; SOURCE LINE # 2172
0121 7800        E     MOV     R0,#LOW FormatStatus
0123 E2                MOVX    A,@R0
0124 7006              JNZ     ?C0773
                                           ; SOURCE LINE # 2173
                                           ; SOURCE LINE # 2174
0126 120000      E     LCALL   DisplayFormatFailOSD
                                           ; SOURCE LINE # 2175
                                           ; SOURCE LINE # 2176
0129 120000      R     LCALL   L?1259
                                           ; SOURCE LINE # 2177
012C         ?C0773:
                                           ; SOURCE LINE # 2178
                                           ; SOURCE LINE # 2179
                                           ; SOURCE LINE # 2180
012C 120000      R     LCALL   L?1315
                                           ; SOURCE LINE # 2181
012F         ?C1080:
                                           ; SOURCE LINE # 2182
                                           ; SOURCE LINE # 2183
012F 020000      R     LJMP    ?C1082
                                           ; SOURCE LINE # 2185
0132         ?C0774:
                                           ; SOURCE LINE # 2186
0132 7800        E     MOV     R0,#LOW DVR_SDCardAvailable
0134 E2                MOVX    A,@R0
0135 F4                CPL     A
0136 7003              JNZ     $ + 5H
0138 020000      R     LJMP    ?C0741
                                           ; SOURCE LINE # 2187
                                           ; SOURCE LINE # 2188
013B 7FCA              MOV     R7,#0CAH
013D 120000      E     LCALL   _Hs_DvrTxCmdPaser
                                           ; SOURCE LINE # 2189
0140 120000      R     LCALL   CloseOSDMenu
                                           ; SOURCE LINE # 2192
0143 120000      E     LCALL   DisplayFWUpDate
0146         ?C0776:
                                           ; SOURCE LINE # 2194
0146 7800        E     MOV     R0,#LOW FormatWait
0148 E2                MOVX    A,@R0
0149 D3                SETB    C
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 405 

014A 9478              SUBB    A,#078H
014C 5016              JNC     ?C0777
                                           ; SOURCE LINE # 2195
                                           ; SOURCE LINE # 2196
014E E500        E     MOV     A,RS2_in
0150 6003              JZ      ?C0778
                                           ; SOURCE LINE # 2197
0152 120000      E     LCALL   DvrReceivePaser
0155         ?C0778:
                                           ; SOURCE LINE # 2198
0155 E4                CLR     A
0156 F500        E     MOV     RS2_in,A
                                           ; SOURCE LINE # 2200
0158 7800        E     MOV     R0,#LOW FormatStatus
015A E2                MOVX    A,@R0
015B B401E8            CJNE    A,#01H,?C0776
                                           ; SOURCE LINE # 2201
                                           ; SOURCE LINE # 2202
015E 120000      E     LCALL   DisplayFWUpDateOK
                                           ; SOURCE LINE # 2203
                                           ; SOURCE LINE # 2204
0161 120000      R     LCALL   L?1259
                                           ; SOURCE LINE # 2205
                                           ; SOURCE LINE # 2206
                                           ; SOURCE LINE # 2207
0164         ?C0777:
                                           ; SOURCE LINE # 2209
0164 7800        E     MOV     R0,#LOW FormatStatus
0166 E2                MOVX    A,@R0
0167 700D              JNZ     ?C0780
                                           ; SOURCE LINE # 2210
                                           ; SOURCE LINE # 2211
0169 120000      E     LCALL   DisplayFWUpDateFail
                                           ; SOURCE LINE # 2212
016C 7FB8              MOV     R7,#0B8H
016E 7E0B              MOV     R6,#0BH
0170 120000      E     LCALL   _Wait_ms
                                           ; SOURCE LINE # 2213
0173 120000      E     LCALL   ClearGAUGEINFO
                                           ; SOURCE LINE # 2214
0176         ?C0780:
                                           ; SOURCE LINE # 2215
                                           ; SOURCE LINE # 2216
                                           ; SOURCE LINE # 2217
0176 120000      R     LCALL   L?1315
                                           ; SOURCE LINE # 2218
0179         ?C1081:
                                           ; SOURCE LINE # 2219
                                           ; SOURCE LINE # 2220
0179 803F              SJMP    ?C1082
                                           ; SOURCE LINE # 2222
017B         ?C0781:
                                           ; SOURCE LINE # 2255
017B 7800        R     MOV     R0,#LOW PW_FirstNumber
017D 7FB3              MOV     R7,#0B3H
017F 120000      R     LCALL   L?1272
                                           ; SOURCE LINE # 2256
0182 7800        R     MOV     R0,#LOW PW_SecondNumber
0184 7FB4              MOV     R7,#0B4H
0186 120000      R     LCALL   L?1272
                                           ; SOURCE LINE # 2257
0189 7800        R     MOV     R0,#LOW PW_ThridNumber
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 406 

018B E2                MOVX    A,@R0
018C FD                MOV     R5,A
018D 7FB5              MOV     R7,#0B5H
018F 7E00              MOV     R6,#00H
0191 120000      E     LCALL   _WriteEEP
                                           ; SOURCE LINE # 2258
0194 7800        R     MOV     R0,#LOW PW_FourthNumber
0196 E2                MOVX    A,@R0
0197 FD                MOV     R5,A
0198 7FB6              MOV     R7,#0B6H
019A 7E00              MOV     R6,#00H
019C 120000      E     LCALL   _WriteEEP
                                           ; SOURCE LINE # 2259
                                           ; SOURCE LINE # 2260
                                           ; SOURCE LINE # 2261
                                           ; SOURCE LINE # 2262
019F 120000      R     LCALL   L?1289
                                           ; SOURCE LINE # 2264
01A2         ?C1074:
01A2 120000      R     LCALL   OSDHighMenu_sub
                                           ; SOURCE LINE # 2266
01A5 8016              SJMP    ?C0741
                                           ; SOURCE LINE # 2270
01A7         ?C0782:
                                           ; SOURCE LINE # 2271
01A7 120000      R     LCALL   CloseOSDMenu
                                           ; SOURCE LINE # 2272
01AA D200        E     SETB    SpeedDomeMode
                                           ; SOURCE LINE # 2273
01AC D2E8              SETB    P4_0
                                           ; SOURCE LINE # 2274
01AE 7FC8              MOV     R7,#0C8H
01B0 7E00              MOV     R6,#00H
01B2 120000      E     LCALL   _Wait_ms
                                           ; SOURCE LINE # 2275
01B5 7F08              MOV     R7,#08H
01B7 120000      E     LCALL   _CAM_TxCommand_toRS485
                                           ; SOURCE LINE # 2276
01BA         ?C1082:
01BA 120000      E     LCALL   DisplayInput
                                           ; SOURCE LINE # 2278
                                           ; SOURCE LINE # 2280
01BD         ?C0741:
                                           ; SOURCE LINE # 2281
01BD 7800        R     MOV     R0,#LOW ret
01BF E2                MOVX    A,@R0
01C0 FF                MOV     R7,A
                                           ; SOURCE LINE # 2282
01C1         ?C0783:
01C1 22                RET     
01C2         L?1162:
01C2 120000      E     LCALL   DisplayDVRnotReady
01C5 7FB8              MOV     R7,#0B8H
01C7 7E0B              MOV     R6,#0BH
01C9 120000      E     LCALL   _Wait_ms
01CC 120000      E     LCALL   ClearGAUGEINFO
01CF 22                RET     
01D0         L?1193:
01D0 7FB8              MOV     R7,#0B8H
01D2 7E0B              MOV     R6,#0BH
01D4 120000      E     LCALL   _Wait_ms
01D7 120000      E     LCALL   ClearGAUGEINFO
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 407 

01DA 22                RET     
01DB         L?1259:
01DB 7FB8              MOV     R7,#0B8H
01DD 7E0B              MOV     R6,#0BH
01DF 120000      E     LCALL   _Wait_ms
01E2 120000      E     LCALL   ClearGAUGEINFO
01E5 22                RET     
01E6         L?1271:
01E6 120000      E     LCALL   _Hs_DvrTxCmdPaser
01E9 120000      R     LCALL   CloseOSDMenu
01EC 22                RET     
01ED         L?1272:
01ED E2                MOVX    A,@R0
01EE FD                MOV     R5,A
01EF 7E00              MOV     R6,#00H
01F1 120000      E     LCALL   _WriteEEP
01F4 22                RET     
01F5         L?1319:
01F5 120000      E     LCALL   _Hs_DvrTxCmdPaser
01F8 120000      R     LCALL   CloseOSDMenu
01FB 22                RET     
             ; FUNCTION _DoAction (END)

             ; FUNCTION _GetNextCursorMenuItem (BEGIN)
                                           ; SOURCE LINE # 2285
;---- Variable 'new_cursor' assigned to Register 'R6' ----
;---- Variable 'itemno' assigned to Register 'R5' ----
;---- Variable 'DMp' assigned to Register 'R1/R2/R3' ----
                                           ; SOURCE LINE # 2286
                                           ; SOURCE LINE # 2289
0000 7800        R     MOV     R0,#LOW flag
0002 E2                MOVX    A,@R0
0003 24FE              ADD     A,#0FEH
0005 600C              JZ      ?C0786
0007 04                INC     A
0008 700E              JNZ     ?C0784
                                           ; SOURCE LINE # 2290
000A         ?C0785:
000A AF05              MOV     R7,AR5
000C 120000      R     LCALL   _GetUpperMenuItem
000F AE07              MOV     R6,AR7
0011 8005              SJMP    ?C0784
                                           ; SOURCE LINE # 2291
0013         ?C0786:
0013 120000      R     LCALL   _GetLowerMenuItem
0016 AE07              MOV     R6,AR7
                                           ; SOURCE LINE # 2292
0018         ?C0784:
                                           ; SOURCE LINE # 2293
0018 AF06              MOV     R7,AR6
                                           ; SOURCE LINE # 2294
001A         ?C0787:
001A 22                RET     
             ; FUNCTION _GetNextCursorMenuItem (END)

             ; FUNCTION SaveValue1 (BEGIN)
                                           ; SOURCE LINE # 2299
                                           ; SOURCE LINE # 2300
                                           ; SOURCE LINE # 2303
0000 7800        R     MOV     R0,#LOW MenuChild
0002 120000      R     LCALL   L?1175
0005 7800        R     MOV     R0,#LOW cursor_item
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 408 

0007 E2                MOVX    A,@R0
0008 FD                MOV     R5,A
0009 120000      R     LCALL   L?1112
000C 740B              MOV     A,#0BH
000E 93                MOVC    A,@A+DPTR
000F 24FB              ADD     A,#0FBH
0011 7003              JNZ     ?C0788
                                           ; SOURCE LINE # 2305
0013         ?C0789:
                                           ; SOURCE LINE # 2306
0013 120000      R     LCALL   L?1214
                                           ; SOURCE LINE # 2310
                                           ; SOURCE LINE # 2312
                                           ; SOURCE LINE # 2314
                                           ; SOURCE LINE # 2315
0016         ?C0788:
                                           ; SOURCE LINE # 2317
0016 7F00              MOV     R7,#00H
                                           ; SOURCE LINE # 2318
0018         ?C0792:
0018 22                RET     
             ; FUNCTION SaveValue1 (END)

             ; FUNCTION ClearValueWin (BEGIN)
                                           ; SOURCE LINE # 2320
                                           ; SOURCE LINE # 2321
                                           ; SOURCE LINE # 2322
0000 120000      R     LCALL   SaveValue1
                                           ; SOURCE LINE # 2324
0003 7800        R     MOV     R0,#LOW val_osdwin
0005 74FF              MOV     A,#0FFH
0007 F2                MOVX    @R0,A
                                           ; SOURCE LINE # 2325
0008 C200        R     CLR     OnChangingValue
                                           ; SOURCE LINE # 2326
000A 22                RET     
             ; FUNCTION ClearValueWin (END)

             ; FUNCTION _OSDCursorMove (BEGIN)
                                           ; SOURCE LINE # 2328
0000 7800        R     MOV     R0,#LOW flag
0002 EF                MOV     A,R7
0003 F2                MOVX    @R0,A
                                           ; SOURCE LINE # 2329
                                           ; SOURCE LINE # 2337
0004 300003      R     JNB     displayOnValueWindow,$ + 6H
0007 020000      R     LJMP    ?C0795
000A         ?C0794:
                                           ; SOURCE LINE # 2339
000A 120000      R     LCALL   L?1108
000D 740D              MOV     A,#0DH
000F 93                MOVC    A,@A+DPTR
0010 B4300F            CJNE    A,#030H,?C0796
0013 7F80              MOV     R7,#080H
0015 7E00              MOV     R6,#00H
0017 120000      E     LCALL   _ReadEEP
001A EF                MOV     A,R7
001B 6403              XRL     A,#03H
001D 6003              JZ      $ + 5H
001F 020000      R     LJMP    ?C0795
0022         ?C0796:
                                           ; SOURCE LINE # 2342
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 409 

0022 120000      R     LCALL   L?1108
0025 740D              MOV     A,#0DH
0027 93                MOVC    A,@A+DPTR
0028 B4900F            CJNE    A,#090H,?C0797
002B 7F0B              MOV     R7,#0BH
002D 7E00              MOV     R6,#00H
002F 120000      E     LCALL   _ReadEEP
0032 EF                MOV     A,R7
0033 6403              XRL     A,#03H
0035 6003              JZ      $ + 5H
0037 020000      R     LJMP    ?C0795
003A         ?C0797:
                                           ; SOURCE LINE # 2344
003A 120000      R     LCALL   L?1228
003D AA06              MOV     R2,AR6
003F F9                MOV     R1,A
0040 7BFF              MOV     R3,#0FFH
0042 7800        R     MOV     R0,#LOW cursor_item
0044 E2                MOVX    A,@R0
0045 FD                MOV     R5,A
0046 7800        R     MOV     R0,#LOW flag
0048 E2                MOVX    A,@R0
0049 7800        R     MOV     R0,#LOW ?_GetNextCursorMenuItem?BYTE+04H
004B F2                MOVX    @R0,A
004C 120000      R     LCALL   _GetNextCursorMenuItem
004F 7800        R     MOV     R0,#LOW new_cursor
0051 EF                MOV     A,R7
0052 F2                MOVX    @R0,A
                                           ; SOURCE LINE # 2346
0053 F4                CPL     A
0054 702E              JNZ     ?C0798
                                           ; SOURCE LINE # 2348
0056 18                DEC     R0
0057 E2                MOVX    A,@R0
0058 6401              XRL     A,#01H
005A 7024              JNZ     ?C0799
                                           ; SOURCE LINE # 2349
005C 7800        R     MOV     R0,#LOW i
005E F2                MOVX    @R0,A
005F         ?C0800:
005F 7800        R     MOV     R0,#LOW i
0061 E2                MOVX    A,@R0
0062 C3                CLR     C
0063 9408              SUBB    A,#08H
0065 501D              JNC     ?C0798
                                           ; SOURCE LINE # 2350
0067 E2                MOVX    A,@R0
0068 FD                MOV     R5,A
0069 7800        R     MOV     R0,#LOW new_cursor
006B F2                MOVX    @R0,A
                                           ; SOURCE LINE # 2351
006C 120000      R     LCALL   L?1228
006F AA06              MOV     R2,AR6
0071 F9                MOV     R1,A
0072 7BFF              MOV     R3,#0FFH
0074 120000      R     LCALL   _GetLowerMenuItem
0077 7800        R     MOV     R0,#LOW i
0079 EF                MOV     A,R7
007A F2                MOVX    @R0,A
007B BFFFE1            CJNE    R7,#0FFH,?C0800
007E 8004              SJMP    ?C0798
                                           ; SOURCE LINE # 2353
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 410 

0080         ?C0799:
                                           ; SOURCE LINE # 2356
0080 E4                CLR     A
0081 7800        R     MOV     R0,#LOW new_cursor
0083 F2                MOVX    @R0,A
                                           ; SOURCE LINE # 2357
0084         ?C0798:
                                           ; SOURCE LINE # 2359
0084 300003      R     JNB     OnChangingValue,?C0804
                                           ; SOURCE LINE # 2360
0087 120000      R     LCALL   ClearValueWin
                                           ; SOURCE LINE # 2361
008A         ?C0804:
                                           ; SOURCE LINE # 2362
008A 7800        R     MOV     R0,#LOW OSDMenuLevel
008C E2                MOVX    A,@R0
008D 6401              XRL     A,#01H
008F 6003              JZ      ?C0805
                                           ; SOURCE LINE # 2363
0091 120000      R     LCALL   ClearCursor
0094         ?C0805:
                                           ; SOURCE LINE # 2372
0094 7FB3              MOV     R7,#0B3H
0096 7E00              MOV     R6,#00H
0098 120000      E     LCALL   _ReadEEP
009B 7800        R     MOV     R0,#LOW PW_FirstNumber
009D E2                MOVX    A,@R0
009E 6F                XRL     A,R7
009F 7026              JNZ     ?C0808
00A1 7FB4              MOV     R7,#0B4H
00A3 FE                MOV     R6,A
00A4 120000      E     LCALL   _ReadEEP
00A7 7800        R     MOV     R0,#LOW PW_SecondNumber
00A9 E2                MOVX    A,@R0
00AA B5071A            CJNE    A,AR7,?C0808
00AD 7FB5              MOV     R7,#0B5H
00AF 7E00              MOV     R6,#00H
00B1 120000      E     LCALL   _ReadEEP
00B4 7800        R     MOV     R0,#LOW PW_ThridNumber
00B6 E2                MOVX    A,@R0
00B7 B5070D            CJNE    A,AR7,?C0808
00BA 7FB6              MOV     R7,#0B6H
00BC 7E00              MOV     R6,#00H
00BE 120000      E     LCALL   _ReadEEP
00C1 7800        R     MOV     R0,#LOW PW_FourthNumber
00C3 E2                MOVX    A,@R0
00C4 6F                XRL     A,R7
00C5 6015              JZ      ?C0807
00C7         ?C0808:
00C7 7800        R     MOV     R0,#LOW PW_FirstNumber
00C9 E2                MOVX    A,@R0
00CA 701F              JNZ     ?C0806
00CC 7800        R     MOV     R0,#LOW PW_SecondNumber
00CE E2                MOVX    A,@R0
00CF B40619            CJNE    A,#06H,?C0806
00D2 7800        R     MOV     R0,#LOW PW_ThridNumber
00D4 E2                MOVX    A,@R0
00D5 B40313            CJNE    A,#03H,?C0806
00D8 18                DEC     R0
00D9 E2                MOVX    A,@R0
00DA 700F              JNZ     ?C0806
00DC         ?C0807:
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 411 

                                           ; SOURCE LINE # 2380
                                           ; SOURCE LINE # 2381
00DC 7BFF              MOV     R3,#0FFH
00DE 7A00        R     MOV     R2,#HIGH ?SC_35
00E0 7900        R     MOV     R1,#LOW ?SC_35
00E2 E4                CLR     A
00E3 7800        E     MOV     R0,#LOW ?_Printf?BYTE+03H
00E5 F2                MOVX    @R0,A
00E6 120000      E     LCALL   _Printf
                                           ; SOURCE LINE # 2382
00E9 805F              SJMP    ?C0809
00EB         ?C0806:
                                           ; SOURCE LINE # 2384
                                           ; SOURCE LINE # 2385
00EB 7800        R     MOV     R0,#LOW title_item
00ED E2                MOVX    A,@R0
00EE FF                MOV     R7,A
00EF 6403              XRL     A,#03H
00F1 7029              JNZ     ?C0810
00F3 7800        R     MOV     R0,#LOW cur_osdwin
00F5 E2                MOVX    A,@R0
00F6 6402              XRL     A,#02H
00F8 7022              JNZ     ?C0810
00FA 7800        R     MOV     R0,#LOW OSDMenuLevel
00FC E2                MOVX    A,@R0
00FD B4031C            CJNE    A,#03H,?C0810
0100 7800        R     MOV     R0,#LOW flag
0102 E2                MOVX    A,@R0
0103 B40116            CJNE    A,#01H,?C0810
0106 7800        R     MOV     R0,#LOW cursor_item
0108 E2                MOVX    A,@R0
0109 B40610            CJNE    A,#06H,?C0810
010C 7800        R     MOV     R0,#LOW new_cursor
010E E2                MOVX    A,@R0
010F B4050A            CJNE    A,#05H,?C0810
                                           ; SOURCE LINE # 2387
                                           ; SOURCE LINE # 2388
0112 7800        R     MOV     R0,#LOW cursor_item
0114 7406              MOV     A,#06H
0116 F2                MOVX    @R0,A
                                           ; SOURCE LINE # 2389
0117 7800        R     MOV     R0,#LOW new_cursor
0119 7403              MOV     A,#03H
011B F2                MOVX    @R0,A
                                           ; SOURCE LINE # 2390
011C         ?C0810:
                                           ; SOURCE LINE # 2392
011C EF                MOV     A,R7
011D 6403              XRL     A,#03H
011F 7029              JNZ     ?C0809
0121 7800        R     MOV     R0,#LOW cur_osdwin
0123 E2                MOVX    A,@R0
0124 6402              XRL     A,#02H
0126 7022              JNZ     ?C0809
0128 7800        R     MOV     R0,#LOW OSDMenuLevel
012A E2                MOVX    A,@R0
012B B4031C            CJNE    A,#03H,?C0809
012E 7800        R     MOV     R0,#LOW flag
0130 E2                MOVX    A,@R0
0131 B40216            CJNE    A,#02H,?C0809
0134 7800        R     MOV     R0,#LOW cursor_item
0136 E2                MOVX    A,@R0
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 412 

0137 B40310            CJNE    A,#03H,?C0809
013A 7800        R     MOV     R0,#LOW new_cursor
013C E2                MOVX    A,@R0
013D B4040A            CJNE    A,#04H,?C0809
                                           ; SOURCE LINE # 2394
                                           ; SOURCE LINE # 2395
0140 7800        R     MOV     R0,#LOW cursor_item
0142 7403              MOV     A,#03H
0144 F2                MOVX    @R0,A
                                           ; SOURCE LINE # 2396
0145 7800        R     MOV     R0,#LOW new_cursor
0147 7406              MOV     A,#06H
0149 F2                MOVX    @R0,A
                                           ; SOURCE LINE # 2397
                                           ; SOURCE LINE # 2398
014A         ?C0809:
                                           ; SOURCE LINE # 2402
014A 200033      E     JB      DVR_Ready,?C0812
                                           ; SOURCE LINE # 2403
                                           ; SOURCE LINE # 2404
014D 7800        R     MOV     R0,#LOW OSDMenuLevel
014F E2                MOVX    A,@R0
0150 FF                MOV     R7,A
0151 B40114            CJNE    A,#01H,?C0813
0154 7800        R     MOV     R0,#LOW flag
0156 E2                MOVX    A,@R0
0157 B4010E            CJNE    A,#01H,?C0813
015A 7800        R     MOV     R0,#LOW cursor_item
015C E2                MOVX    A,@R0
015D B40408            CJNE    A,#04H,?C0813
                                           ; SOURCE LINE # 2406
                                           ; SOURCE LINE # 2407
0160 7404              MOV     A,#04H
0162 F2                MOVX    @R0,A
                                           ; SOURCE LINE # 2408
0163 7800        R     MOV     R0,#LOW new_cursor
0165 7402              MOV     A,#02H
0167 F2                MOVX    @R0,A
                                           ; SOURCE LINE # 2409
0168         ?C0813:
                                           ; SOURCE LINE # 2411
0168 EF                MOV     A,R7
0169 B40114            CJNE    A,#01H,?C0812
016C 7800        R     MOV     R0,#LOW flag
016E E2                MOVX    A,@R0
016F B4020E            CJNE    A,#02H,?C0812
0172 7800        R     MOV     R0,#LOW cursor_item
0174 E2                MOVX    A,@R0
0175 B40208            CJNE    A,#02H,?C0812
                                           ; SOURCE LINE # 2413
                                           ; SOURCE LINE # 2414
0178 7402              MOV     A,#02H
017A F2                MOVX    @R0,A
                                           ; SOURCE LINE # 2415
017B 7800        R     MOV     R0,#LOW new_cursor
017D 7404              MOV     A,#04H
017F F2                MOVX    @R0,A
                                           ; SOURCE LINE # 2416
                                           ; SOURCE LINE # 2417
0180         ?C0812:
                                           ; SOURCE LINE # 2419
0180 7800        R     MOV     R0,#LOW cursor_item
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 413 

0182 E2                MOVX    A,@R0
0183 7800        R     MOV     R0,#LOW old_cursor
0185 F2                MOVX    @R0,A
                                           ; SOURCE LINE # 2420
0186 18                DEC     R0
0187 E2                MOVX    A,@R0
0188 7800        R     MOV     R0,#LOW cursor_item
018A F2                MOVX    @R0,A
                                           ; SOURCE LINE # 2421
018B 7800        R     MOV     R0,#LOW OSDMenuLevel
018D E2                MOVX    A,@R0
018E 6401              XRL     A,#01H
0190 7041              JNZ     ?C0815
                                           ; SOURCE LINE # 2422
                                           ; SOURCE LINE # 2423
0192 120000      E     LCALL   WaitEndofDisplayArea
                                           ; SOURCE LINE # 2424
0195 7F01              MOV     R7,#01H
0197 120000      E     LCALL   _GetOSDWindowY
;---- Variable 'dat' assigned to Register 'R2/R3' ----
019A AB07              MOV     R3,AR7
019C AA06              MOV     R2,AR6
                                           ; SOURCE LINE # 2425
019E 7800        R     MOV     R0,#LOW old_cursor
01A0 E2                MOVX    A,@R0
01A1 FF                MOV     R7,A
01A2 7800        R     MOV     R0,#LOW cursor_item
01A4 E2                MOVX    A,@R0
01A5 C3                CLR     C
01A6 9F                SUBB    A,R7
01A7 FF                MOV     R7,A
01A8 E4                CLR     A
01A9 9400              SUBB    A,#00H
01AB FE                MOV     R6,A
01AC 7D0A              MOV     R5,#0AH
01AE 120000      R     LCALL   L?1232
01B1 2B                ADD     A,R3
01B2 FB                MOV     R3,A
01B3 EE                MOV     A,R6
01B4 3A                ADDC    A,R2
01B5 FA                MOV     R2,A
                                           ; SOURCE LINE # 2426
01B6 AD03              MOV     R5,AR3
01B8 7F01              MOV     R7,#01H
01BA 120000      E     LCALL   _SetOSDWindowY_TW88
                                           ; SOURCE LINE # 2427
01BD 120000      R     LCALL   L?1313
01C0 120000      E     LCALL   _WriteI2C
                                           ; SOURCE LINE # 2428
01C3 7800        R     MOV     R0,#LOW cursor_item
01C5 E2                MOVX    A,@R0
01C6 25E0              ADD     A,ACC
01C8 FB                MOV     R3,A
01C9 7DAA              MOV     R5,#0AAH
01CB 7F8A              MOV     R7,#08AH
01CD 120000      E     LCALL   _WriteI2C
                                           ; SOURCE LINE # 2430
01D0 020000      R     LJMP    DisplayOSDMenu
                                           ; SOURCE LINE # 2432
01D3         ?C0815:
                                           ; SOURCE LINE # 2433
                                           ; SOURCE LINE # 2435
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 414 

01D3 7800        R     MOV     R0,#LOW MenuChild
01D5 120000      R     LCALL   L?1146
01D8 7800        R     MOV     R0,#LOW old_cursor
01DA 120000      R     LCALL   L?1111
01DD 740D              MOV     A,#0DH
01DF 93                MOVC    A,@A+DPTR
01E0 B41605            CJNE    A,#016H,?C0817
                                           ; SOURCE LINE # 2436
01E3 E4                CLR     A
01E4 FF                MOV     R7,A
01E5 120000      R     LCALL   _DrawMenulist
01E8         ?C0817:
                                           ; SOURCE LINE # 2437
01E8 120000      R     LCALL   DisplayCursor
                                           ; SOURCE LINE # 2438
                                           ; SOURCE LINE # 2439
01EB         ?C0795:
01EB 22                RET     
             ; FUNCTION _OSDCursorMove (END)

             ; FUNCTION _OSDValueUpDn (BEGIN)
                                           ; SOURCE LINE # 2441
0000 7800        R     MOV     R0,#LOW flag
0002 EF                MOV     A,R7
0003 F2                MOVX    @R0,A
                                           ; SOURCE LINE # 2442
                                           ; SOURCE LINE # 2448
0004 7800        R     MOV     R0,#LOW addr
                                           ; SOURCE LINE # 2449
0006 120000      R     LCALL   L?1143
0009 E4                CLR     A
000A 93                MOVC    A,@A+DPTR
000B FD                MOV     R5,A
000C 7C00              MOV     R4,#00H
000E 7800        R     MOV     R0,#LOW cursor_item
0010 E2                MOVX    A,@R0
0011 FB                MOV     R3,A
0012 2401              ADD     A,#01H
0014 FF                MOV     R7,A
0015 E4                CLR     A
0016 33                RLC     A
0017 FE                MOV     R6,A
0018 120000      E     LCALL   ?C?IMUL
001B 740F              MOV     A,#0FH
001D 25E0              ADD     A,ACC
001F CD                XCH     A,R5
0020 E4                CLR     A
0021 33                RLC     A
0022 CD                XCH     A,R5
0023 2F                ADD     A,R7
0024 7800        R     MOV     R0,#LOW addr+01H
0026 F2                MOVX    @R0,A
0027 ED                MOV     A,R5
0028 3E                ADDC    A,R6
0029 18                DEC     R0
002A F2                MOVX    @R0,A
                                           ; SOURCE LINE # 2451
002B 7800        R     MOV     R0,#LOW MenuChild
002D 120000      R     LCALL   L?1146
0030 75F010            MOV     B,#010H
0033 EB                MOV     A,R3
0034 120000      E     LCALL   ?C?OFFXADD
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 415 

0037 740B              MOV     A,#0BH
0039 93                MOVC    A,@A+DPTR
003A 24FB              ADD     A,#0FBH
003C 6027              JZ      ?C0820
003E 24FE              ADD     A,#0FEH
0040 6048              JZ      ?C0823
0042 2403              ADD     A,#03H
0044 7069              JNZ     ?C0825
                                           ; SOURCE LINE # 2453
0046         ?C0819:
                                           ; SOURCE LINE # 2454
0046 120000      R     LCALL   L?1108
0049 740D              MOV     A,#0DH
004B 93                MOVC    A,@A+DPTR
004C FF                MOV     R7,A
004D 7800        R     MOV     R0,#LOW flag
004F E2                MOVX    A,@R0
0050 FD                MOV     R5,A
0051 120000      R     LCALL   _SetItemValue
0054 7800        R     MOV     R0,#LOW val
0056 EE                MOV     A,R6
0057 F2                MOVX    @R0,A
0058 08                INC     R0
0059 EF                MOV     A,R7
005A F2                MOVX    @R0,A
005B FD                MOV     R5,A
                                           ; SOURCE LINE # 2455
005C 08                INC     R0
005D E2                MOVX    A,@R0
005E FE                MOV     R6,A
005F 08                INC     R0
0060 E2                MOVX    A,@R0
0061 FF                MOV     R7,A
0062 020000      R     LJMP    _DisplayViewBar
                                           ; SOURCE LINE # 2456
                                           ; SOURCE LINE # 2458
0065         ?C0820:
                                           ; SOURCE LINE # 2459
0065 120000      R     LCALL   L?1228
0068 FF                MOV     R7,A
0069 120000      R     LCALL   L?1109
006C 120000      R     LCALL   L?1235
                                           ; SOURCE LINE # 2460
006F 8F82              MOV     DPL,R7
0071 120000      R     LCALL   L?1110
0074 740D              MOV     A,#0DH
0076 93                MOVC    A,@A+DPTR
0077 FF                MOV     R7,A
                                           ; SOURCE LINE # 2467
0078         ?C0822:
                                           ; SOURCE LINE # 2468
                                           ; SOURCE LINE # 2469
0078 120000      R     LCALL   L?1199
007B 7800        R     MOV     R0,#LOW ptr
007D 120000      E     LCALL   ?C?PLDPDATA
0080 7800        R     MOV     R0,#LOW ?_DrawNum?BYTE+05H
0082 EC                MOV     A,R4
0083 F2                MOVX    @R0,A
0084 08                INC     R0
0085 ED                MOV     A,R5
0086 F2                MOVX    @R0,A
0087 020000      R     LJMP    _DrawNum
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 416 

                                           ; SOURCE LINE # 2470
                                           ; SOURCE LINE # 2471
                                           ; SOURCE LINE # 2473
                                           ; SOURCE LINE # 2495
008A         ?C0823:
                                           ; SOURCE LINE # 2496
008A 120000      R     LCALL   L?1228
008D FF                MOV     R7,A
008E 120000      R     LCALL   L?1109
0091 120000      R     LCALL   L?1235
                                           ; SOURCE LINE # 2497
0094 8F82              MOV     DPL,R7
0096 120000      R     LCALL   L?1110
0099 740D              MOV     A,#0DH
009B 93                MOVC    A,@A+DPTR
009C FF                MOV     R7,A
                                           ; SOURCE LINE # 2498
009D 120000      R     LCALL   L?1199
00A0 7800        R     MOV     R0,#LOW ptr
00A2 120000      E     LCALL   ?C?PLDPDATA
00A5 7800        R     MOV     R0,#LOW ?_DrawStringByLang?BYTE+05H
00A7 EC                MOV     A,R4
00A8 F2                MOVX    @R0,A
00A9 08                INC     R0
00AA ED                MOV     A,R5
00AB F2                MOVX    @R0,A
00AC 120000      R     LCALL   _DrawStringByLang
                                           ; SOURCE LINE # 2499
                                           ; SOURCE LINE # 2501
                                           ; SOURCE LINE # 2502
                                           ; SOURCE LINE # 2503
00AF         ?C0825:
00AF 22                RET     
00B0         L?1199:
00B0 7800        R     MOV     R0,#LOW flag
00B2 E2                MOVX    A,@R0
00B3 FD                MOV     R5,A
00B4 120000      R     LCALL   _SetItemValue
00B7 7800        R     MOV     R0,#LOW val
00B9 EE                MOV     A,R6
00BA F2                MOVX    @R0,A
00BB FC                MOV     R4,A
00BC 08                INC     R0
00BD EF                MOV     A,R7
00BE F2                MOVX    @R0,A
00BF FD                MOV     R5,A
00C0 08                INC     R0
00C1 E2                MOVX    A,@R0
00C2 FE                MOV     R6,A
00C3 08                INC     R0
00C4 E2                MOVX    A,@R0
00C5 FF                MOV     R7,A
00C6 22                RET     
             ; FUNCTION _OSDValueUpDn (END)

             ; FUNCTION CloseOSDMenu (BEGIN)
                                           ; SOURCE LINE # 2505
                                           ; SOURCE LINE # 2506
                                           ; SOURCE LINE # 2510
0000 E4                CLR     A
0001 FF                MOV     R7,A
0002 120000      E     LCALL   _ShowOSDWindowAll
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 417 

                                           ; SOURCE LINE # 2513
0005 120000      E     LCALL   WaitEndofDisplayArea
                                           ; SOURCE LINE # 2514
0008 7800        R     MOV     R0,#LOW i
000A 7401              MOV     A,#01H
000C F2                MOVX    @R0,A
000D         ?C0826:
000D 7800        R     MOV     R0,#LOW i
000F E2                MOVX    A,@R0
0010 FF                MOV     R7,A
0011 D3                SETB    C
0012 9404              SUBB    A,#04H
0014 501A              JNC     ?C0827
                                           ; SOURCE LINE # 2515
                                           ; SOURCE LINE # 2516
0016 EF                MOV     A,R7
0017 14                DEC     A
0018 FB                MOV     R3,A
0019 7D9E              MOV     R5,#09EH
001B 7F8A              MOV     R7,#08AH
001D 120000      E     LCALL   _WriteI2C
                                           ; SOURCE LINE # 2517
0020 E4                CLR     A
0021 FB                MOV     R3,A
0022 7D9F              MOV     R5,#09FH
0024 7F8A              MOV     R7,#08AH
0026 120000      E     LCALL   _WriteI2C
                                           ; SOURCE LINE # 2518
0029 7800        R     MOV     R0,#LOW i
002B E2                MOVX    A,@R0
002C 04                INC     A
002D F2                MOVX    @R0,A
002E 80DD              SJMP    ?C0826
0030         ?C0827:
                                           ; SOURCE LINE # 2520
0030 7F02              MOV     R7,#02H
0032 120000      E     LCALL   _ClearDisplayedOSD
                                           ; SOURCE LINE # 2537
0035 7F01              MOV     R7,#01H
                                           ; SOURCE LINE # 2538
0037         ?C0829:
0037 22                RET     
             ; FUNCTION CloseOSDMenu (END)

             ; FUNCTION InitOSDMenuXY (BEGIN)
                                           ; SOURCE LINE # 2540
                                           ; SOURCE LINE # 2541
                                           ; SOURCE LINE # 2545
0000 7800        R     MOV     R0,#LOW OSDMenuX
0002 E2                MOVX    A,@R0
0003 FF                MOV     R7,A
0004 900000      R     MOV     DPTR,#OSDMenuXRange+04H
0007 7800        R     MOV     R0,#LOW addx+01H
0009 120000      R     LCALL   L?1268
                                           ; SOURCE LINE # 2546
000C 7800        R     MOV     R0,#LOW OSDMenuY
000E E2                MOVX    A,@R0
000F FF                MOV     R7,A
0010 900000      R     MOV     DPTR,#OSDMenuYRange+04H
0013 7800        R     MOV     R0,#LOW addy+01H
0015 120000      R     LCALL   L?1268
                                           ; SOURCE LINE # 2556
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 418 

0018 7800        R     MOV     R0,#LOW winno
001A 7401              MOV     A,#01H
001C F2                MOVX    @R0,A
001D         ?C0830:
001D 7800        R     MOV     R0,#LOW winno
001F E2                MOVX    A,@R0
0020 FF                MOV     R7,A
0021 D3                SETB    C
0022 9404              SUBB    A,#04H
0024 5029              JNC     ?C0833
                                           ; SOURCE LINE # 2558
0026 120000      E     LCALL   _GetOSDWindowX
                                           ; SOURCE LINE # 2559
0029 120000      R     LCALL   L?1290
002C 7800        R     MOV     R0,#LOW addx
002E 08                INC     R0
002F E2                MOVX    A,@R0
0030 2D                ADD     A,R5
0031 FD                MOV     R5,A
0032 120000      E     LCALL   _SetOSDWindowX_TW88
                                           ; SOURCE LINE # 2561
0035 7800        R     MOV     R0,#LOW winno
0037 E2                MOVX    A,@R0
0038 FF                MOV     R7,A
0039 120000      E     LCALL   _GetOSDWindowY
                                           ; SOURCE LINE # 2562
003C 120000      R     LCALL   L?1290
003F 7800        R     MOV     R0,#LOW addy
0041 08                INC     R0
0042 E2                MOVX    A,@R0
0043 2D                ADD     A,R5
0044 FD                MOV     R5,A
0045 120000      E     LCALL   _SetOSDWindowY_TW88
                                           ; SOURCE LINE # 2563
0048 7800        R     MOV     R0,#LOW winno
004A E2                MOVX    A,@R0
004B 04                INC     A
004C F2                MOVX    @R0,A
004D 80CE              SJMP    ?C0830
                                           ; SOURCE LINE # 2564
004F         ?C0833:
004F 22                RET     
             ; FUNCTION InitOSDMenuXY (END)

             ; FUNCTION OpenOSDMenu (BEGIN)
                                           ; SOURCE LINE # 2566
                                           ; SOURCE LINE # 2567
                                           ; SOURCE LINE # 2570
0000 120000      E     LCALL   ClearOSDInfo
                                           ; SOURCE LINE # 2571
                                           ; SOURCE LINE # 2572
0003 120000      R     LCALL   InitOSDMenu
                                           ; SOURCE LINE # 2576
                                           ; SOURCE LINE # 2578
0006 7800        R     MOV     R0,#LOW i
0008 7401              MOV     A,#01H
000A F2                MOVX    @R0,A
000B         ?C0834:
000B 7800        R     MOV     R0,#LOW i
000D E2                MOVX    A,@R0
000E FF                MOV     R7,A
000F D3                SETB    C
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 419 

0010 9403              SUBB    A,#03H
0012 500C              JNC     ?C0835
                                           ; SOURCE LINE # 2579
0014 7D01              MOV     R5,#01H
0016 120000      E     LCALL   _ShowOSDWindow_TW88
                                           ; SOURCE LINE # 2580
0019 7800        R     MOV     R0,#LOW i
001B E2                MOVX    A,@R0
001C 04                INC     A
001D F2                MOVX    @R0,A
001E 80EB              SJMP    ?C0834
0020         ?C0835:
                                           ; SOURCE LINE # 2583
0020 E4                CLR     A
0021 FD                MOV     R5,A
0022 7F04              MOV     R7,#04H
0024 120000      E     LCALL   _ShowOSDWindow_TW88
                                           ; SOURCE LINE # 2584
0027 7F01              MOV     R7,#01H
0029 120000      E     LCALL   _ShowOSDWindowAll
                                           ; SOURCE LINE # 2585
002C 7F02              MOV     R7,#02H
002E 020000      E     LJMP    _SetDisplayedOSD
             ; FUNCTION OpenOSDMenu (END)

             ; FUNCTION InitOSDMenu (BEGIN)
                                           ; SOURCE LINE # 2589
                                           ; SOURCE LINE # 2590
                                           ; SOURCE LINE # 2592
0000 E4                CLR     A
0001 7800        R     MOV     R0,#LOW i
0003 F2                MOVX    @R0,A
                                           ; SOURCE LINE # 2595
0004 120000      E     LCALL   GetOSDLangEE
0007 7800        R     MOV     R0,#LOW OSDLang
0009 EF                MOV     A,R7
000A F2                MOVX    @R0,A
                                           ; SOURCE LINE # 2597
000B 120000      E     LCALL   GetInputSelection
000E EF                MOV     A,R7
000F 24F9              ADD     A,#0F9H
0011 700B              JNZ     ?C0840
                                           ; SOURCE LINE # 2600
0013         ?C0839:
                                           ; SOURCE LINE # 2606
0013 7800        R     MOV     R0,#LOW MenuTitle
0015 7400        R     MOV     A,#HIGH PCMenu
0017 F2                MOVX    @R0,A
0018 08                INC     R0
0019 7400        R     MOV     A,#LOW PCMenu
001B F2                MOVX    @R0,A
                                           ; SOURCE LINE # 2607
001C 8009              SJMP    ?C0838
                                           ; SOURCE LINE # 2615
001E         ?C0840:
                                           ; SOURCE LINE # 2621
001E 7800        R     MOV     R0,#LOW MenuTitle
0020 7400        R     MOV     A,#HIGH DefaultMenu
0022 F2                MOVX    @R0,A
0023 08                INC     R0
0024 7400        R     MOV     A,#LOW DefaultMenu
0026 F2                MOVX    @R0,A
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 420 

                                           ; SOURCE LINE # 2622
                                           ; SOURCE LINE # 2623
0027         ?C0838:
                                           ; SOURCE LINE # 2625
0027 E4                CLR     A
0028 F500        R     MOV     MenuSP,A
                                           ; SOURCE LINE # 2626
002A 7800        R     MOV     R0,#LOW title_item
                                           ; SOURCE LINE # 2627
002C 120000      R     LCALL   L?1173
002F 7800        R     MOV     R0,#LOW title_item
0031 E2                MOVX    A,@R0
0032 FD                MOV     R5,A
0033 120000      R     LCALL   L?1112
0036 120000      R     LCALL   L?1274
                                           ; SOURCE LINE # 2629
0039 7800        R     MOV     R0,#LOW OSDMenuLevel
003B 7401              MOV     A,#01H
003D F2                MOVX    @R0,A
                                           ; SOURCE LINE # 2630
003E 7800        R     MOV     R0,#LOW cur_osdwin
0040 7403              MOV     A,#03H
                                           ; SOURCE LINE # 2632
0042 120000      R     LCALL   L?1133
                                           ; SOURCE LINE # 2633
0045 E4                CLR     A
0046 7800        R     MOV     R0,#LOW cursor_item
0048 F2                MOVX    @R0,A
                                           ; SOURCE LINE # 2635
0049 7800        R     MOV     R0,#LOW val_osdwin
004B 74FF              MOV     A,#0FFH
004D F2                MOVX    @R0,A
                                           ; SOURCE LINE # 2636
004E E4                CLR     A
004F 08                INC     R0
0050 F2                MOVX    @R0,A
                                           ; SOURCE LINE # 2637
0051 C200        R     CLR     OnChangingValue
                                           ; SOURCE LINE # 2645
0053 7BFF              MOV     R3,#0FFH
0055 7A00        E     MOV     R2,#HIGH Init_Osd_MainMenu
0057 7900        E     MOV     R1,#LOW Init_Osd_MainMenu
0059 120000      E     LCALL   _InitOSDWindow
                                           ; SOURCE LINE # 2650
005C 120000      E     LCALL   GetOSDPositionModeEE
005F 7800        R     MOV     R0,#LOW i
0061 EF                MOV     A,R7
                                           ; SOURCE LINE # 2652
0062 120000      R     LCALL   L?1260
0065 7800        R     MOV     R0,#LOW OSDMenuX
                                           ; SOURCE LINE # 2653
0067 120000      R     LCALL   L?1263
006A 08                INC     R0
006B F2                MOVX    @R0,A
                                           ; SOURCE LINE # 2655
006C 120000      R     LCALL   InitOSDMenuXY
                                           ; SOURCE LINE # 2659
006F 020000      R     LJMP    DisplayOSDMenu
             ; FUNCTION InitOSDMenu (END)

             ; FUNCTION OSDHighMenu (BEGIN)
                                           ; SOURCE LINE # 2663
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 421 

                                           ; SOURCE LINE # 2664
                                           ; SOURCE LINE # 2665
0000 30000B      R     JNB     OnChangingValue,?C0842
                                           ; SOURCE LINE # 2666
                                           ; SOURCE LINE # 2668
0003 120000      R     LCALL   ClearValueWin
                                           ; SOURCE LINE # 2670
0006 E4                CLR     A
0007 FF                MOV     R7,A
0008 120000      R     LCALL   _DrawMenulist
                                           ; SOURCE LINE # 2671
000B 020000      R     LJMP    DisplayCursor
                                           ; SOURCE LINE # 2674
000E         ?C0842:
                                           ; SOURCE LINE # 2676
000E C200        R     CLR     displayOnValueWindow
                                           ; SOURCE LINE # 2677
0010 120000      R     LCALL   L?1108
0013 7406              MOV     A,#06H
0015 93                MOVC    A,@A+DPTR
0016 FF                MOV     R7,A
0017 120000      R     LCALL   _DoAction
                                           ; SOURCE LINE # 2679
001A 7800        R     MOV     R0,#LOW OSDMenuLevel
001C E2                MOVX    A,@R0
001D 6401              XRL     A,#01H
001F 6003              JZ      ?C0844
0021 120000      R     LCALL   ClearCursor
0024         ?C0844:
                                           ; SOURCE LINE # 2680
0024 120000      R     LCALL   OSDHighMenu_sub
                                           ; SOURCE LINE # 2682
0027         ?C0843:
0027 22                RET     
             ; FUNCTION OSDHighMenu (END)

             ; FUNCTION OSDSelect (BEGIN)
                                           ; SOURCE LINE # 2685
                                           ; SOURCE LINE # 2686
                                           ; SOURCE LINE # 2690
0000 7800        R     MOV     R0,#LOW cursor_item
0002 E2                MOVX    A,@R0
0003 FF                MOV     R7,A
0004 F4                CPL     A
0005 7003              JNZ     $ + 5H
0007 020000      R     LJMP    ?C0846
000A         ?C0845:
                                           ; SOURCE LINE # 2691
000A 7800        R     MOV     R0,#LOW MenuChild
000C 120000      R     LCALL   L?1183
000F 75F010            MOV     B,#010H
0012 EF                MOV     A,R7
0013 120000      E     LCALL   ?C?OFFXADD
0016 740D              MOV     A,#0DH
0018 93                MOVC    A,@A+DPTR
0019 B4A00B            CJNE    A,#0A0H,?C0847
001C 120000      E     LCALL   GetInputSelection
001F EF                MOV     A,R7
0020 6405              XRL     A,#05H
0022 6003              JZ      $ + 5H
0024 020000      R     LJMP    ?C0846
0027         ?C0847:
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 422 

                                           ; SOURCE LINE # 2693
0027 120000      R     LCALL   L?1108
002A 740D              MOV     A,#0DH
002C 93                MOVC    A,@A+DPTR
002D B49913            CJNE    A,#099H,?C0848
0030 120000      E     LCALL   ReadVInputSTD
0033 EF                MOV     A,R7
0034 6401              XRL     A,#01H
0036 600B              JZ      ?C0848
0038 120000      E     LCALL   ReadVInputSTD
003B EF                MOV     A,R7
003C 6404              XRL     A,#04H
003E 6003              JZ      $ + 5H
0040 020000      R     LJMP    ?C0846
0043         ?C0848:
                                           ; SOURCE LINE # 2697
0043 120000      R     LCALL   L?1108
0046 7405              MOV     A,#05H
0048 93                MOVC    A,@A+DPTR
0049 FF                MOV     R7,A
004A 120000      R     LCALL   _DoAction
;---- Variable 'ret' assigned to Register 'R7' ----
                                           ; SOURCE LINE # 2698
004D EF                MOV     A,R7
004E 7003              JNZ     $ + 5H
0050 020000      R     LJMP    ?C0846
0053         ?C0849:
                                           ; SOURCE LINE # 2700
0053 7800        R     MOV     R0,#LOW MenuChild
0055 120000      R     LCALL   L?1175
0058 7800        R     MOV     R0,#LOW cursor_item
005A E2                MOVX    A,@R0
005B FD                MOV     R5,A
005C 120000      R     LCALL   L?1112
005F 740B              MOV     A,#0BH
0061 93                MOVC    A,@A+DPTR
0062 14                DEC     A
0063 603A              JZ      ?C0858
0065 14                DEC     A
0066 6037              JZ      ?C0858
0068 24FE              ADD     A,#0FEH
006A 6018              JZ      ?C0853
006C 14                DEC     A
006D 6024              JZ      ?C0854
006F 24FE              ADD     A,#0FEH
0071 6011              JZ      ?C0853
0073 2404              ADD     A,#04H
0075 6003              JZ      $ + 5H
0077 020000      R     LJMP    ?C0846
                                           ; SOURCE LINE # 2701
007A         ?C0851:
                                           ; SOURCE LINE # 2702
007A 120000      R     LCALL   L?1214
007D 740D              MOV     A,#0DH
007F 93                MOVC    A,@A+DPTR
0080 FF                MOV     R7,A
0081 020000      R     LJMP    _DoAction
                                           ; SOURCE LINE # 2705
                                           ; SOURCE LINE # 2706
0084         ?C0853:
                                           ; SOURCE LINE # 2707
0084 D200        R     SETB    OnChangingValue
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 423 

                                           ; SOURCE LINE # 2708
0086 120000      R     LCALL   DisplayCursor
                                           ; SOURCE LINE # 2709
0089 120000      R     LCALL   L?1108
008C 740D              MOV     A,#0DH
008E 93                MOVC    A,@A+DPTR
008F FF                MOV     R7,A
0090 020000      R     LJMP    _GetItemValue
                                           ; SOURCE LINE # 2712
0093         ?C0854:
                                           ; SOURCE LINE # 2713
0093 D200        R     SETB    OnChangingValue
                                           ; SOURCE LINE # 2715
0095 120000      R     LCALL   L?1108
0098 740D              MOV     A,#0DH
009A 93                MOVC    A,@A+DPTR
009B FF                MOV     R7,A
                                           ; SOURCE LINE # 2716
009C         ?C0856:
                                           ; SOURCE LINE # 2717
                                           ; SOURCE LINE # 2720
009C 020000      R     LJMP    ?C1083
                                           ; SOURCE LINE # 2721
                                           ; SOURCE LINE # 2724
                                           ; SOURCE LINE # 2725
009F         ?C0858:
                                           ; SOURCE LINE # 2726
009F 7800        R     MOV     R0,#LOW OSDMenuLevel
00A1 E2                MOVX    A,@R0
00A2 6401              XRL     A,#01H
00A4 7024              JNZ     ?C0859
                                           ; SOURCE LINE # 2727
00A6 120000      R     LCALL   L?1145
00A9 E4                CLR     A
00AA 93                MOVC    A,@A+DPTR
00AB FF                MOV     R7,A
00AC 7800        R     MOV     R0,#LOW cursor_item
00AE E2                MOVX    A,@R0
00AF 8FF0              MOV     B,R7
00B1 A4                MUL     AB
00B2 FF                MOV     R7,A
00B3 7800        R     MOV     R0,#LOW addr
00B5 E5F0              MOV     A,B
00B7 F2                MOVX    @R0,A
00B8 08                INC     R0
00B9 EF                MOV     A,R7
00BA F2                MOVX    @R0,A
                                           ; SOURCE LINE # 2730
00BB 120000      R     LCALL   L?1314
00BE 120000      E     LCALL   _WriteI2C
                                           ; SOURCE LINE # 2731
00C1 7B8D              MOV     R3,#08DH
00C3 7D9F              MOV     R5,#09FH
00C5 7F8A              MOV     R7,#08AH
00C7 120000      E     LCALL   _WriteI2C
                                           ; SOURCE LINE # 2732
00CA         ?C0859:
                                           ; SOURCE LINE # 2734
00CA 7800        R     MOV     R0,#LOW OSDMenuLevel
00CC E2                MOVX    A,@R0
00CD 04                INC     A
00CE F2                MOVX    @R0,A
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 424 

                                           ; SOURCE LINE # 2736
00CF 120000      R     LCALL   pushMenu
                                           ; SOURCE LINE # 2737
00D2 120000      R     LCALL   L?1228
                                           ; SOURCE LINE # 2738
00D5 120000      R     LCALL   L?1288
00D8 08                INC     R0
00D9 F2                MOVX    @R0,A
00DA FD                MOV     R5,A
                                           ; SOURCE LINE # 2740
00DB 8F82              MOV     DPL,R7
00DD 8E83              MOV     DPH,R6
00DF E2                MOVX    A,@R0
00E0 FC                MOV     R4,A
00E1 120000      R     LCALL   L?1112
00E4 120000      R     LCALL   L?1274
                                           ; SOURCE LINE # 2741
00E7 8F82              MOV     DPL,R7
00E9 8E83              MOV     DPH,R6
00EB EC                MOV     A,R4
00EC 120000      R     LCALL   L?1134
                                           ; SOURCE LINE # 2742
00EF 7800        R     MOV     R0,#LOW MenuTitle
00F1 120000      R     LCALL   L?1146
00F4 120000      R     LCALL   L?1215
00F7 740D              MOV     A,#0DH
00F9 93                MOVC    A,@A+DPTR
00FA FF                MOV     R7,A
00FB 120000      R     LCALL   _Get_cursor_item
00FE 7800        R     MOV     R0,#LOW cursor_item
0100 EF                MOV     A,R7
0101 F2                MOVX    @R0,A
                                           ; SOURCE LINE # 2744
0102 7800        R     MOV     R0,#LOW cur_osdwin
0104 E2                MOVX    A,@R0
0105 B40305            CJNE    A,#03H,?C0860
                                           ; SOURCE LINE # 2745
0108 7402              MOV     A,#02H
010A F2                MOVX    @R0,A
010B 8003              SJMP    ?C0861
010D         ?C0860:
                                           ; SOURCE LINE # 2747
010D 120000      R     LCALL   DisplayOSDMenu
0110         ?C0861:
                                           ; SOURCE LINE # 2749
0110         ?C1083:
0110 120000      R     LCALL   DisplayCursor
                                           ; SOURCE LINE # 2750
                                           ; SOURCE LINE # 2751
                                           ; SOURCE LINE # 2754
0113         ?C0846:
0113 22                RET     
             ; FUNCTION OSDSelect (END)

             ; FUNCTION _CAMOutDSel (BEGIN)
                                           ; SOURCE LINE # 2772
0000 7800        R     MOV     R0,#LOW val
0002 EF                MOV     A,R7
0003 F2                MOVX    @R0,A
                                           ; SOURCE LINE # 2773
                                           ; SOURCE LINE # 2774
0004 7008              JNZ     ?C0862
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 425 

                                           ; SOURCE LINE # 2775
0006 7BFF              MOV     R3,#0FFH
0008 7A00        R     MOV     R2,#HIGH ?SC_50
000A 7900        R     MOV     R1,#LOW ?SC_50
000C 8036              SJMP    ?C1087
000E         ?C0862:
                                           ; SOURCE LINE # 2776
000E 7800        R     MOV     R0,#LOW val
0010 E2                MOVX    A,@R0
0011 B40108            CJNE    A,#01H,?C0864
                                           ; SOURCE LINE # 2777
0014 7BFF              MOV     R3,#0FFH
0016 7A00        R     MOV     R2,#HIGH ?SC_62
0018 7900        R     MOV     R1,#LOW ?SC_62
001A         ?C1084:
001A 8028              SJMP    ?C1087
001C         ?C0864:
                                           ; SOURCE LINE # 2778
001C 7800        R     MOV     R0,#LOW val
001E E2                MOVX    A,@R0
001F B40208            CJNE    A,#02H,?C0866
                                           ; SOURCE LINE # 2779
0022 7BFF              MOV     R3,#0FFH
0024 7A00        R     MOV     R2,#HIGH ?SC_74
0026 7900        R     MOV     R1,#LOW ?SC_74
0028         ?C1085:
0028 801A              SJMP    ?C1087
002A         ?C0866:
                                           ; SOURCE LINE # 2780
002A 7800        R     MOV     R0,#LOW val
002C E2                MOVX    A,@R0
002D B40308            CJNE    A,#03H,?C0868
                                           ; SOURCE LINE # 2781
0030 7BFF              MOV     R3,#0FFH
0032 7A00        R     MOV     R2,#HIGH ?SC_86
0034 7900        R     MOV     R1,#LOW ?SC_86
0036         ?C1086:
0036 800C              SJMP    ?C1087
0038         ?C0868:
                                           ; SOURCE LINE # 2782
0038 7800        R     MOV     R0,#LOW val
003A E2                MOVX    A,@R0
003B B40409            CJNE    A,#04H,?C0871
                                           ; SOURCE LINE # 2783
003E 7BFF              MOV     R3,#0FFH
0040 7A00        R     MOV     R2,#HIGH ?SC_98
0042 7900        R     MOV     R1,#LOW ?SC_98
0044         ?C1087:
0044 120000      E     LCALL   _Puts
                                           ; SOURCE LINE # 2784
0047         ?C0871:
0047 22                RET     
             ; FUNCTION _CAMOutDSel (END)

             ; FUNCTION _DVRAodioSel (BEGIN)
                                           ; SOURCE LINE # 2790
0000 7800        R     MOV     R0,#LOW val
0002 EF                MOV     A,R7
0003 F2                MOVX    @R0,A
                                           ; SOURCE LINE # 2791
                                           ; SOURCE LINE # 2792
0004 7008              JNZ     ?C0872
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 426 

                                           ; SOURCE LINE # 2793
0006 7BFF              MOV     R3,#0FFH
0008 7A00        R     MOV     R2,#HIGH ?SC_110
000A 7900        R     MOV     R1,#LOW ?SC_110
000C 8028              SJMP    ?C1090
000E         ?C0872:
                                           ; SOURCE LINE # 2794
000E 7800        R     MOV     R0,#LOW val
0010 E2                MOVX    A,@R0
0011 B40108            CJNE    A,#01H,?C0874
                                           ; SOURCE LINE # 2795
0014 7BFF              MOV     R3,#0FFH
0016 7A00        R     MOV     R2,#HIGH ?SC_122
0018 7900        R     MOV     R1,#LOW ?SC_122
001A         ?C1088:
001A 801A              SJMP    ?C1090
001C         ?C0874:
                                           ; SOURCE LINE # 2796
001C 7800        R     MOV     R0,#LOW val
001E E2                MOVX    A,@R0
001F B40208            CJNE    A,#02H,?C0876
                                           ; SOURCE LINE # 2797
0022 7BFF              MOV     R3,#0FFH
0024 7A00        R     MOV     R2,#HIGH ?SC_134
0026 7900        R     MOV     R1,#LOW ?SC_134
0028         ?C1089:
0028 800C              SJMP    ?C1090
002A         ?C0876:
                                           ; SOURCE LINE # 2798
002A 7800        R     MOV     R0,#LOW val
002C E2                MOVX    A,@R0
002D B40309            CJNE    A,#03H,?C0879
                                           ; SOURCE LINE # 2799
0030 7BFF              MOV     R3,#0FFH
0032 7A00        R     MOV     R2,#HIGH ?SC_146
0034 7900        R     MOV     R1,#LOW ?SC_146
0036         ?C1090:
0036 120000      E     LCALL   _Puts
                                           ; SOURCE LINE # 2801
0039         ?C0879:
0039 22                RET     
             ; FUNCTION _DVRAodioSel (END)

C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 427 

NAME                                    CLASS   MSPACE  TYPE    OFFSET  SIZE
====                                    =====   ======  ====    ======  ====


Str_Secord . . . . . . . . . . . . . .  PUBLIC   CODE   ARRAY    0CEDH  3
Str_Sharpness_F. . . . . . . . . . . .  PUBLIC   CODE   ARRAY    01F5H  7
MenuChild. . . . . . . . . . . . . . .  PUBLIC   PDATA  PTR      0000H  2
FormatStart. . . . . . . . . . . . . .  EXTERN   DATA   BIT      -----  1
SetDATETIME. . . . . . . . . . . . . .  E_CONST  -----  INT      -----  2
GetPhaseCurrent. . . . . . . . . . . .  EXTERN   CODE   PROC     -----  -----
Str_CAMNumber_E. . . . . . . . . . . .  PUBLIC   CODE   ARRAY    0551H  10
Str_Saturation_S . . . . . . . . . . .  PUBLIC   CODE   ARRAY    02BAH  11
Str_VPosition_S. . . . . . . . . . . .  PUBLIC   CODE   ARRAY    0122H  12
PW_FirstNumber . . . . . . . . . . . .  PUBLIC   PDATA  U_CHAR   0002H  1
FWUpdateSelectMenu . . . . . . . . . .  PUBLIC   CODE   ARRAY    0E3DH  4
Str_DVR_DISPLAY. . . . . . . . . . . .  PUBLIC   CODE   ARRAY    0BB8H  15
OSDHighMenu. . . . . . . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
ResetVideoValue. . . . . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
  i. . . . . . . . . . . . . . . . . .  AUTO     PDATA  U_CHAR   0000H  1
  CurInput . . . . . . . . . . . . . .  AUTO     PDATA  U_CHAR   0001H  1
_Mapping1. . . . . . . . . . . . . . .  EXTERN   CODE   PROC     -----  -----
DWORD. . . . . . . . . . . . . . . . .  TYPEDEF  -----  U_LONG   -----  4
Str_OSDPosition_E. . . . . . . . . . .  PUBLIC   CODE   ARRAY    0178H  13
SendDVRStatus. . . . . . . . . . . . .  E_CONST  -----  INT      -----  2
_DVRAodioSel . . . . . . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
  val. . . . . . . . . . . . . . . . .  AUTO     PDATA  U_CHAR   0000H  1
IsInputAnalogRGB . . . . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
VIDEO_ICON . . . . . . . . . . . . . .  PUBLIC   CODE   ARRAY    0D9BH  4
Str_Sharpness_K. . . . . . . . . . . .  PUBLIC   CODE   ARRAY    020CH  9
SpeedDomeMode. . . . . . . . . . . . .  EXTERN   DATA   BIT      -----  1
ClearGAUGEINFO . . . . . . . . . . . .  EXTERN   CODE   PROC     -----  -----
GetDVRParam. . . . . . . . . . . . . .  E_CONST  -----  INT      -----  2
_OSDCursorMove . . . . . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
  flag . . . . . . . . . . . . . . . .  AUTO     PDATA  U_CHAR   0000H  1
  i. . . . . . . . . . . . . . . . . .  AUTO     PDATA  U_CHAR   0003H  1
  new_cursor . . . . . . . . . . . . .  AUTO     PDATA  U_CHAR   0001H  1
  old_cursor . . . . . . . . . . . . .  AUTO     PDATA  U_CHAR   0002H  1
  dat. . . . . . . . . . . . . . . . .  * REG *  DATA   U_INT    0002H  2
GetCoarseValue . . . . . . . . . . . .  EXTERN   CODE   PROC     -----  -----
P4 . . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00E8H  1
CAM_R. . . . . . . . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
PanelBrightnessRange . . . . . . . . .  PUBLIC   CODE   STRUCT   1677H  6
RECORDSELECT . . . . . . . . . . . . .  PUBLIC   CODE   ARRAY    10EDH  128
Str_FourthNumber . . . . . . . . . . .  PUBLIC   CODE   ARRAY    0D1DH  3
Str_FPS. . . . . . . . . . . . . . . .  PUBLIC   CODE   ARRAY    0CBDH  3
MenuFormat . . . . . . . . . . . . . .  PUBLIC   PDATA  PTR      0003H  2
FormatWait . . . . . . . . . . . . . .  EXTERN   PDATA  U_CHAR   -----  1
_ShowOSDWindow_TW88. . . . . . . . . .  EXTERN   CODE   PROC     -----  -----
Str_RecordMode . . . . . . . . . . . .  PUBLIC   CODE   ARRAY    0CC3H  3
Str_Version. . . . . . . . . . . . . .  PUBLIC   CODE   ARRAY    0A68H  15
Halt_OK. . . . . . . . . . . . . . . .  E_CONST  -----  INT      -----  2
DMPCPicture. . . . . . . . . . . . . .  PUBLIC   CODE   ARRAY    1555H  128
Str_ThridNumber. . . . . . . . . . . .  PUBLIC   CODE   ARRAY    0D1AH  3
Str_RETURNAPPLY. . . . . . . . . . . .  PUBLIC   CODE   ARRAY    0D02H  3
Str_OSDLang. . . . . . . . . . . . . .  PUBLIC   CODE   ARRAY    0AC8H  15
ResolutionChoiceString . . . . . . . .  PUBLIC   CODE   ARRAY    0866H  19
BarRange . . . . . . . . . . . . . . .  PUBLIC   PDATA  PTR      0005H  2
PanelHueRange. . . . . . . . . . . . .  PUBLIC   CODE   STRUCT   1683H  6
StandardTimeBeginesSelectMenu. . . . .  PUBLIC   CODE   ARRAY    0FEDH  4
Str_RS485_E. . . . . . . . . . . . . .  PUBLIC   CODE   ARRAY    054BH  6
SendDVRParamDT . . . . . . . . . . . .  E_CONST  -----  INT      -----  2
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 428 

NAME                                    CLASS   MSPACE  TYPE    OFFSET  SIZE
====                                    =====   ======  ====    ======  ====


CAM_BAR. . . . . . . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
CAM_ABR. . . . . . . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
Str_Quality. . . . . . . . . . . . . .  PUBLIC   CODE   ARRAY    0CC0H  3
Str_VER. . . . . . . . . . . . . . . .  PUBLIC   CODE   ARRAY    0CABH  3
Str_SPACE. . . . . . . . . . . . . . .  PUBLIC   CODE   ARRAY    0CA8H  3
Str_TIMEOUT_STEP_E . . . . . . . . . .  PUBLIC   CODE   ARRAY    03ABH  14
Str_OSDPosition_K. . . . . . . . . . .  PUBLIC   CODE   ARRAY    0192H  12
DVR_Resolution . . . . . . . . . . . .  EXTERN   PDATA  U_CHAR   -----  1
_SaveOSDLangEE . . . . . . . . . . . .  EXTERN   CODE   PROC     -----  -----
CAM_CAR. . . . . . . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
CAM_ACR. . . . . . . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
Str_Clock. . . . . . . . . . . . . . .  PUBLIC   CODE   ARRAY    0D53H  15
Str_ManualRecordStop . . . . . . . . .  PUBLIC   CODE   ARRAY    0CD5H  3
ONOFFChineseChoiceString . . . . . . .  PUBLIC   CODE   ARRAY    09F4H  14
Str_RecordLength_E . . . . . . . . . .  PUBLIC   CODE   ARRAY    03FDH  13
CAM_CBR. . . . . . . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
CAM_BCR. . . . . . . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
DMUtility. . . . . . . . . . . . . . .  PUBLIC   CODE   ARRAY    0F6DH  128
Str_WideScreen . . . . . . . . . . . .  PUBLIC   CODE   ARRAY    0D80H  15
CheckPCCableStr. . . . . . . . . . . .  PUBLIC   CODE   ARRAY    0A77H  3
AutoAdjust . . . . . . . . . . . . . .  EXTERN   CODE   PROC     -----  -----
PCColorTempRGB . . . . . . . . . . . .  PUBLIC   CODE   ARRAY    16C9H  12
VideoBrightnessRange . . . . . . . . .  PUBLIC   CODE   STRUCT   169BH  6
Str_CVBSA. . . . . . . . . . . . . . .  PUBLIC   CODE   ARRAY    0C03H  15
Str_Sharpness_S. . . . . . . . . . . .  PUBLIC   CODE   ARRAY    0204H  8
DVR_timebeginesmonth . . . . . . . . .  EXTERN   PDATA  U_CHAR   -----  1
PCPictureMenu. . . . . . . . . . . . .  PUBLIC   CODE   ARRAY    1551H  4
Str_YES. . . . . . . . . . . . . . . .  PUBLIC   CODE   ARRAY    0D0EH  3
Str_CVBSB. . . . . . . . . . . . . . .  PUBLIC   CODE   ARRAY    0C12H  15
Str_OSD_LOCK . . . . . . . . . . . . .  PUBLIC   CODE   ARRAY    0BD6H  15
MenuIndexStack . . . . . . . . . . . .  STATIC   DATA   ARRAY    0000H  4
Baud_rate. . . . . . . . . . . . . . .  EXTERN   PDATA  U_CHAR   -----  1
Str_CVBSC. . . . . . . . . . . . . . .  PUBLIC   CODE   ARRAY    0C21H  15
Str_SecondNumber_E . . . . . . . . . .  PUBLIC   CODE   ARRAY    04F0H  14
AutoColorAdjust. . . . . . . . . . . .  EXTERN   CODE   PROC     -----  -----
NumberStringType . . . . . . . . . . .  * TAG *  -----  STRUCT   -----  11
  x. . . . . . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0000H  1
  y. . . . . . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0001H  1
  width. . . . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0002H  1
  BackColor. . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0003H  1
  Radix. . . . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0004H  1
  NumColor . . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0005H  1
  MaxLen . . . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0006H  1
  PrePostCharLen . . . . . . . . . . .  MEMBER   -----  U_CHAR   0007H  1
  PrePostChar. . . . . . . . . . . . .  MEMBER   -----  ARRAY    0008H  3
GetOSDLang . . . . . . . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
_ClearDataCnt. . . . . . . . . . . . .  EXTERN   CODE   PROC     -----  -----
VideoHueRange. . . . . . . . . . . . .  PUBLIC   CODE   STRUCT   16A7H  6
DateTimeSelectMenu . . . . . . . . . .  PUBLIC   CODE   ARRAY    116DH  4
Str_Phase. . . . . . . . . . . . . . .  PUBLIC   CODE   ARRAY    0D44H  15
Str_DISTANCE_E . . . . . . . . . . . .  PUBLIC   CODE   ARRAY    058AH  15
_DisplayVolumebar. . . . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
  val. . . . . . . . . . . . . . . . .  AUTO     PDATA  U_CHAR   0000H  1
  BAR_ROM_TABLE. . . . . . . . . . . .  STATIC   CODE   ARRAY    1911H  7
  i. . . . . . . . . . . . . . . . . .  * REG *  DATA   U_CHAR   0007H  1
  Bar_str. . . . . . . . . . . . . . .  AUTO     PDATA  ARRAY    0001H  24
  addr . . . . . . . . . . . . . . . .  * REG *  DATA   U_INT    0006H  2
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 429 

NAME                                    CLASS   MSPACE  TYPE    OFFSET  SIZE
====                                    =====   ======  ====    ======  ====


InputSelectMenu. . . . . . . . . . . .  PUBLIC   CODE   ARRAY    0DB5H  4
RS2_in . . . . . . . . . . . . . . . .  EXTERN   DATA   U_CHAR   -----  1
SetDVRParam. . . . . . . . . . . . . .  E_CONST  -----  INT      -----  2
_DisplayViewBar. . . . . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
  addr . . . . . . . . . . . . . . . .  AUTO     PDATA  U_INT    0000H  2
  val. . . . . . . . . . . . . . . . .  AUTO     PDATA  U_CHAR   0002H  1
  BAR_ROM_TABLE. . . . . . . . . . . .  STATIC   CODE   ARRAY    1948H  16
  i. . . . . . . . . . . . . . . . . .  AUTO     PDATA  U_CHAR   0003H  1
  Bar_str. . . . . . . . . . . . . . .  AUTO     PDATA  ARRAY    0004H  12
_DisplayOSDMenuOneItem . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
  winno. . . . . . . . . . . . . . . .  AUTO     PDATA  INT      0000H  2
  DMp. . . . . . . . . . . . . . . . .  AUTO     PDATA  PTR      0002H  3
  x. . . . . . . . . . . . . . . . . .  AUTO     PDATA  U_CHAR   0005H  1
  y. . . . . . . . . . . . . . . . . .  AUTO     PDATA  U_CHAR   0006H  1
  NOTViewflag. . . . . . . . . . . . .  AUTO     PDATA  U_CHAR   0007H  1
  ptr. . . . . . . . . . . . . . . . .  AUTO     PDATA  PTR      0010H  3
  ptr. . . . . . . . . . . . . . . . .  AUTO     PDATA  PTR      0010H  3
  i. . . . . . . . . . . . . . . . . .  * REG *  DATA   U_CHAR   0007H  1
  j. . . . . . . . . . . . . . . . . .  AUTO     PDATA  U_CHAR   0008H  1
  k. . . . . . . . . . . . . . . . . .  AUTO     PDATA  U_CHAR   0009H  1
  IconColor. . . . . . . . . . . . . .  AUTO     PDATA  U_CHAR   000AH  1
  addr . . . . . . . . . . . . . . . .  AUTO     PDATA  U_INT    000BH  2
  Str. . . . . . . . . . . . . . . . .  AUTO     PDATA  PTR      000DH  3
  RightSign_str. . . . . . . . . . . .  STATIC   CODE   ARRAY    1930H  12
  SpaceStr . . . . . . . . . . . . . .  STATIC   CODE   ARRAY    193CH  12
UtilityMenu. . . . . . . . . . . . . .  PUBLIC   CODE   ARRAY    0F69H  4
Str_Pelco. . . . . . . . . . . . . . .  PUBLIC   CODE   ARRAY    0D32H  3
Str_Minute . . . . . . . . . . . . . .  PUBLIC   CODE   ARRAY    0CEAH  3
Str_OSDPosition_S. . . . . . . . . . .  PUBLIC   CODE   ARRAY    0185H  13
MenuStack. . . . . . . . . . . . . . .  PUBLIC   PDATA  ARRAY    0007H  8
DVR_timebeginesweek. . . . . . . . . .  EXTERN   PDATA  U_CHAR   -----  1
SelectModeType . . . . . . . . . . . .  EXTERN   PDATA  U_CHAR   -----  1
UserRange. . . . . . . . . . . . . . .  PUBLIC   CODE   STRUCT   1659H  6
NumberOnly . . . . . . . . . . . . . .  PUBLIC   CODE   ARRAY    0DB3H  1
Str_PASSWORD . . . . . . . . . . . . .  PUBLIC   CODE   ARRAY    0BE5H  15
bpsChoiceString. . . . . . . . . . . .  PUBLIC   CODE   ARRAY    09E3H  17
CAM_PTZ_RIGHT. . . . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
Str_Contrast_D . . . . . . . . . . . .  PUBLIC   CODE   ARRAY    0228H  9
WIDE_ADDRESS . . . . . . . . . . . . .  PUBLIC   CODE   ARRAY    1721H  20
TRIGGERSelectMenu. . . . . . . . . . .  PUBLIC   CODE   ARRAY    1361H  4
Str_FirstNumber. . . . . . . . . . . .  PUBLIC   CODE   ARRAY    0D14H  3
Str_Auto_Day_Night . . . . . . . . . .  PUBLIC   CODE   ARRAY    0C3FH  15
Str_TimeBegines_E. . . . . . . . . . .  PUBLIC   CODE   ARRAY    0479H  13
Str_Contrast_E . . . . . . . . . . . .  PUBLIC   CODE   ARRAY    0215H  9
DVR_DataChange . . . . . . . . . . . .  PUBLIC   PDATA  U_CHAR   000FH  1
OpenOSDMenu. . . . . . . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
  i. . . . . . . . . . . . . . . . . .  AUTO     PDATA  U_CHAR   0000H  1
P4_0 . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00E8H  1
DMUserPicture. . . . . . . . . . . . .  PUBLIC   CODE   ARRAY    1279H  16
RecordLengthChoiceString . . . . . . .  PUBLIC   CODE   ARRAY    08CDH  45
Str_Contrast_F . . . . . . . . . . . .  PUBLIC   CODE   ARRAY    021EH  10
DisplayDVRnotReady . . . . . . . . . .  EXTERN   CODE   PROC     -----  -----
PanelSaturationRange . . . . . . . . .  PUBLIC   CODE   STRUCT   1689H  6
Str_Snapshot_E . . . . . . . . . . . .  PUBLIC   CODE   ARRAY    043CH  9
minute . . . . . . . . . . . . . . . .  EXTERN   PDATA  U_CHAR   -----  1
_DoAction. . . . . . . . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
  id . . . . . . . . . . . . . . . . .  * REG *  DATA   U_CHAR   0007H  1
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 430 

NAME                                    CLASS   MSPACE  TYPE    OFFSET  SIZE
====                                    =====   ======  ====    ======  ====


  ret. . . . . . . . . . . . . . . . .  AUTO     PDATA  U_CHAR   0000H  1
InitOSDMenu. . . . . . . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
  i. . . . . . . . . . . . . . . . . .  AUTO     PDATA  U_CHAR   0000H  1
FontData . . . . . . . . . . . . . . .  * TAG *  -----  STRUCT   -----  27
  font . . . . . . . . . . . . . . . .  MEMBER   -----  ARRAY    0000H  27
TimeBeginesSELECT. . . . . . . . . . .  PUBLIC   CODE   ARRAY    1045H  80
DVR_RecordLength . . . . . . . . . . .  EXTERN   PDATA  U_CHAR   -----  1
Str_ManualRecordStart_E. . . . . . . .  PUBLIC   CODE   ARRAY    0425H  12
GetDVRStatus . . . . . . . . . . . . .  E_CONST  -----  INT      -----  2
SetScale . . . . . . . . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
  scale. . . . . . . . . . . . . . . .  AUTO     PDATA  U_LONG   0000H  4
  outv . . . . . . . . . . . . . . . .  AUTO     PDATA  U_LONG   0004H  4
Str_AudioRecord_E. . . . . . . . . . .  PUBLIC   CODE   ARRAY    04BFH  13
GetOSDLangEE . . . . . . . . . . . . .  EXTERN   CODE   PROC     -----  -----
GetInitPanelAttribute1 . . . . . . . .  EXTERN   CODE   PROC     -----  -----
Str_Contrast_K . . . . . . . . . . . .  PUBLIC   CODE   ARRAY    023BH  8
AutoAdjustInfo . . . . . . . . . . . .  PUBLIC   CODE   ARRAY    00D1H  26
Str_PostAlarmLength. . . . . . . . . .  PUBLIC   CODE   ARRAY    0CCCH  3
Str_PreAlarmLength . . . . . . . . . .  PUBLIC   CODE   ARRAY    0CC9H  3
ClearValueWin. . . . . . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
Str_GAUGE_RECALL . . . . . . . . . . .  PUBLIC   CODE   ARRAY    0CB4H  3
OutOfRangeStr. . . . . . . . . . . . .  PUBLIC   CODE   ARRAY    0A7AH  15
_strlen. . . . . . . . . . . . . . . .  EXTERN   CODE   PROC     -----  -----
VideoSaturationRange . . . . . . . . .  PUBLIC   CODE   STRUCT   16A1H  6
INPUT_ICON . . . . . . . . . . . . . .  PUBLIC   CODE   ARRAY    0D93H  4
Str_CVBSR. . . . . . . . . . . . . . .  PUBLIC   CODE   ARRAY    0C30H  15
MenuTitle. . . . . . . . . . . . . . .  PUBLIC   PDATA  PTR      0010H  2
Str_MIRROR_E . . . . . . . . . . . . .  PUBLIC   CODE   ARRAY    036BH  7
Init_Osd_MainMenu. . . . . . . . . . .  EXTERN   CODE   ARRAY    -----  -----
DMPCUtility. . . . . . . . . . . . . .  PUBLIC   CODE   ARRAY    14D1H  128
CAM_SET. . . . . . . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
AVMode . . . . . . . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
ChangePasswordSelectMenu . . . . . . .  PUBLIC   CODE   ARRAY    0E71H  4
Str_FormatSD . . . . . . . . . . . . .  PUBLIC   CODE   ARRAY    0D05H  3
InputSourceMenu. . . . . . . . . . . .  PUBLIC   CODE   ARRAY    0DB9H  4
Str_PRIORITY . . . . . . . . . . . . .  PUBLIC   CODE   ARRAY    0CB7H  3
Str_Reset. . . . . . . . . . . . . . .  PUBLIC   CODE   ARRAY    0B31H  15
struct_VInputStd . . . . . . . . . . .  EXTERN   CODE   ARRAY    -----  -----
PanelSharpnessRange. . . . . . . . . .  PUBLIC   CODE   STRUCT   167DH  6
Str_TriggerSet . . . . . . . . . . . .  PUBLIC   CODE   ARRAY    0D26H  3
CaptionChoice. . . . . . . . . . . . .  PUBLIC   CODE   ARRAY    074DH  34
Str_Contrast_S . . . . . . . . . . . .  PUBLIC   CODE   ARRAY    0231H  10
SourceModeType . . . . . . . . . . . .  TYPEDEF  -----  U_CHAR   -----  1
Str_RETURN_E . . . . . . . . . . . . .  PUBLIC   CODE   ARRAY    038DH  7
_ShowOSDWindowAll. . . . . . . . . . .  EXTERN   CODE   PROC     -----  -----
_SetPhaseValue . . . . . . . . . . . .  EXTERN   CODE   PROC     -----  -----
CAM_NUM. . . . . . . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
Str_Month. . . . . . . . . . . . . . .  PUBLIC   CODE   ARRAY    0CE1H  3
Str_Apply. . . . . . . . . . . . . . .  PUBLIC   CODE   ARRAY    0CCFH  3
Str_GAUGE_STEP . . . . . . . . . . . .  PUBLIC   CODE   ARRAY    0CB1H  3
AudioRecordChoiceString. . . . . . . .  PUBLIC   CODE   ARRAY    098AH  10
Str_Secord_E . . . . . . . . . . . . .  PUBLIC   CODE   ARRAY    0466H  4
_SetPCCoarseValue. . . . . . . . . . .  EXTERN   CODE   PROC     -----  -----
PCUtilityMenu. . . . . . . . . . . . .  PUBLIC   CODE   ARRAY    14CDH  4
DaylightSavingSelectMenu . . . . . . .  PUBLIC   CODE   ARRAY    1095H  4
IMAGEChineseString . . . . . . . . . .  PUBLIC   CODE   ARRAY    0A02H  40
Str_AutoAdjust . . . . . . . . . . . .  PUBLIC   CODE   ARRAY    0D71H  15
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 431 

NAME                                    CLASS   MSPACE  TYPE    OFFSET  SIZE
====                                    =====   ======  ====    ======  ====


DVR_AudioRecord. . . . . . . . . . . .  EXTERN   PDATA  U_CHAR   -----  1
CMD_NUM. . . . . . . . . . . . . . . .  E_CONST  -----  INT      -----  2
DMCAMSELECT. . . . . . . . . . . . . .  PUBLIC   CODE   ARRAY    1301H  96
FORMATSDSELECT . . . . . . . . . . . .  PUBLIC   CODE   ARRAY    0EE9H  128
REARString . . . . . . . . . . . . . .  PUBLIC   CODE   ARRAY    07FCH  22
Str_DVR_DISPLAY_E. . . . . . . . . . .  PUBLIC   CODE   ARRAY    057EH  12
Str_Baud_rate. . . . . . . . . . . . .  PUBLIC   CODE   ARRAY    0D35H  3
AudioVol . . . . . . . . . . . . . . .  EXTERN   PDATA  U_CHAR   -----  1
VideoSharpnessRange. . . . . . . . . .  PUBLIC   CODE   STRUCT   16ADH  6
Str_Week . . . . . . . . . . . . . . .  PUBLIC   CODE   ARRAY    0CF9H  3
month. . . . . . . . . . . . . . . . .  EXTERN   PDATA  U_CHAR   -----  1
_AdjustAutoDayNight. . . . . . . . . .  EXTERN   CODE   PROC     -----  -----
Str_Backlight. . . . . . . . . . . . .  PUBLIC   CODE   ARRAY    0AE6H  15
Str_FourthNumber_E . . . . . . . . . .  PUBLIC   CODE   ARRAY    050BH  14
Str_FPS_E. . . . . . . . . . . . . . .  PUBLIC   CODE   ARRAY    03E6H  4
PCMenu . . . . . . . . . . . . . . . .  PUBLIC   CODE   ARRAY    1639H  32
Str_RecordMode_E . . . . . . . . . . .  PUBLIC   CODE   ARRAY    03F2H  11
Str_OSDLang_D. . . . . . . . . . . . .  PUBLIC   CODE   ARRAY    01AEH  8
Str_Version_E. . . . . . . . . . . . .  PUBLIC   CODE   ARRAY    00F8H  8
Str_Time . . . . . . . . . . . . . . .  PUBLIC   CODE   ARRAY    0CFCH  3
Str_ThridNumber_E. . . . . . . . . . .  PUBLIC   CODE   ARRAY    04FEH  13
Str_RETURNAPPLY_E. . . . . . . . . . .  PUBLIC   CODE   ARRAY    04A3H  13
Str_OSDLang_E. . . . . . . . . . . . .  PUBLIC   CODE   ARRAY    019EH  9
_Hs_DvrTxCmdPaser. . . . . . . . . . .  EXTERN   CODE   PROC     -----  -----
WIDEDATA_480i. . . . . . . . . . . . .  PUBLIC   CODE   ARRAY    1785H  40
Str_DateTime . . . . . . . . . . . . .  PUBLIC   CODE   ARRAY    0CDBH  3
Str_OSDLang_F. . . . . . . . . . . . .  PUBLIC   CODE   ARRAY    01A7H  7
MANUALRECSTART . . . . . . . . . . . .  E_CONST  -----  INT      -----  2
Str_Year . . . . . . . . . . . . . . .  PUBLIC   CODE   ARRAY    0CDEH  3
Str_CAMA . . . . . . . . . . . . . . .  PUBLIC   CODE   ARRAY    0C6CH  15
TimeBeginesWeekChoiceString. . . . . .  PUBLIC   CODE   ARRAY    096DH  29
Str_Quality_E. . . . . . . . . . . . .  PUBLIC   CODE   ARRAY    03EAH  8
Str_VER_E. . . . . . . . . . . . . . .  PUBLIC   CODE   ARRAY    03A2H  9
Str_SPACE_E. . . . . . . . . . . . . .  PUBLIC   CODE   ARRAY    03A0H  2
Str_Clock_D. . . . . . . . . . . . . .  PUBLIC   CODE   ARRAY    031AH  5
_Puts. . . . . . . . . . . . . . . . .  EXTERN   CODE   PROC     -----  -----
OSDHighMenu_sub. . . . . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
  temp_cursor. . . . . . . . . . . . .  AUTO     PDATA  U_CHAR   0000H  1
Str_CAMB . . . . . . . . . . . . . . .  PUBLIC   CODE   ARRAY    0C7BH  15
Str_ManualRecordStop_E . . . . . . . .  PUBLIC   CODE   ARRAY    0431H  11
Str_Clock_E. . . . . . . . . . . . . .  PUBLIC   CODE   ARRAY    030CH  6
DisplayFormatFailOSD . . . . . . . . .  EXTERN   CODE   PROC     -----  -----
Str_CAMC . . . . . . . . . . . . . . .  PUBLIC   CODE   ARRAY    0C8AH  15
Str_WideScreen_E . . . . . . . . . . .  PUBLIC   CODE   ARRAY    0352H  12
Str_Clock_F. . . . . . . . . . . . . .  PUBLIC   CODE   ARRAY    0312H  8
CheckPCCableStr_E. . . . . . . . . . .  PUBLIC   CODE   ARRAY    009EH  16
DisplayFormatOSD . . . . . . . . . . .  EXTERN   CODE   PROC     -----  -----
TimeStep . . . . . . . . . . . . . . .  EXTERN   PDATA  U_CHAR   -----  1
_SaveWideModeEE. . . . . . . . . . . .  EXTERN   CODE   PROC     -----  -----
_SetVideoMode. . . . . . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
  mode . . . . . . . . . . . . . . . .  AUTO     PDATA  U_CHAR   0000H  1
  userv. . . . . . . . . . . . . . . .  AUTO     PDATA  INT      0005H  2
  i. . . . . . . . . . . . . . . . . .  AUTO     PDATA  INT      0001H  2
  regv . . . . . . . . . . . . . . . .  AUTO     PDATA  INT      0003H  2
CAM_RAB_H. . . . . . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
DisplayInfo_OSD. . . . . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
  i. . . . . . . . . . . . . . . . . .  AUTO     PDATA  U_CHAR   0000H  1
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 432 

NAME                                    CLASS   MSPACE  TYPE    OFFSET  SIZE
====                                    =====   ======  ====    ======  ====


  title. . . . . . . . . . . . . . . .  AUTO     PDATA  U_CHAR   0001H  1
  len. . . . . . . . . . . . . . . . .  AUTO     PDATA  U_CHAR   0002H  1
  inputs . . . . . . . . . . . . . . .  * REG *  DATA   U_CHAR   0007H  1
  mstr . . . . . . . . . . . . . . . .  AUTO     PDATA  ARRAY    0003H  5
OSDInfoStr . . . . . . . . . . . . . .  PUBLIC   CODE   ARRAY    1875H  156
WIDEDATA_720p. . . . . . . . . . . . .  PUBLIC   CODE   ARRAY    1825H  40
DMMainMenu . . . . . . . . . . . . . .  PUBLIC   CODE   ARRAY    144DH  96
Str_CVBSA_E. . . . . . . . . . . . . .  PUBLIC   CODE   ARRAY    05B8H  7
OSDStrInfo . . . . . . . . . . . . . .  * TAG *  -----  STRUCT   -----  8
  cnt. . . . . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0000H  1
  addr . . . . . . . . . . . . . . . .  MEMBER   -----  U_INT    0001H  2
  attr . . . . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0003H  1
  str. . . . . . . . . . . . . . . . .  MEMBER   -----  U_LONG   0004H  4
Str_CVBSB_E. . . . . . . . . . . . . .  PUBLIC   CODE   ARRAY    05BFH  7
Str_OSD_LOCK_E . . . . . . . . . . . .  PUBLIC   CODE   ARRAY    0599H  9
Str_YES_E. . . . . . . . . . . . . . .  PUBLIC   CODE   ARRAY    04DCH  4
Str_OSDLang_K. . . . . . . . . . . . .  PUBLIC   CODE   ARRAY    01BDH  8
I2CAutoIncFlagOn . . . . . . . . . . .  EXTERN   DATA   BIT      -----  1
WIDEDATA_576i. . . . . . . . . . . . .  PUBLIC   CODE   ARRAY    17ADH  40
PCMainMenu . . . . . . . . . . . . . .  PUBLIC   CODE   ARRAY    15D5H  4
SDCARD . . . . . . . . . . . . . . . .  PUBLIC   CODE   ARRAY    11F5H  128
Str_CVBSC_E. . . . . . . . . . . . . .  PUBLIC   CODE   ARRAY    05C6H  7
SetFormatSD. . . . . . . . . . . . . .  E_CONST  -----  INT      -----  2
WIDEDATA_480p. . . . . . . . . . . . .  PUBLIC   CODE   ARRAY    17D5H  40
Str_DIR_IMAGE_CAMA . . . . . . . . . .  PUBLIC   CODE   ARRAY    0D3BH  3
Str_DISPLAY. . . . . . . . . . . . . .  PUBLIC   CODE   ARRAY    0BA9H  15
Str_SEQ_TIME_STEP. . . . . . . . . . .  PUBLIC   CODE   ARRAY    0B5EH  15
Str_Phase_E. . . . . . . . . . . . . .  PUBLIC   CODE   ARRAY    0301H  6
cursor_item. . . . . . . . . . . . . .  STATIC   PDATA  U_CHAR   0012H  1
_GetItemValue. . . . . . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
  id . . . . . . . . . . . . . . . . .  AUTO     PDATA  U_CHAR   0000H  1
  val. . . . . . . . . . . . . . . . .  AUTO     PDATA  U_INT    0001H  2
TV_ICON. . . . . . . . . . . . . . . .  PUBLIC   CODE   ARRAY    0D97H  4
Str_DIR_IMAGE_CAMB . . . . . . . . . .  PUBLIC   CODE   ARRAY    0D3EH  3
FPSChoiceString. . . . . . . . . . . .  PUBLIC   CODE   ARRAY    0879H  20
CAM_BA . . . . . . . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
CAM_AB . . . . . . . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
BYTE . . . . . . . . . . . . . . . . .  TYPEDEF  -----  U_CHAR   -----  1
_Get_cursor_item . . . . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
  id . . . . . . . . . . . . . . . . .  * REG *  DATA   U_CHAR   0007H  1
  i. . . . . . . . . . . . . . . . . .  AUTO     PDATA  U_CHAR   0000H  1
  tid. . . . . . . . . . . . . . . . .  AUTO     PDATA  U_CHAR   0001H  1
Str_DIR_IMAGE_CAMC . . . . . . . . . .  PUBLIC   CODE   ARRAY    0D41H  3
RecordModeChoiceString . . . . . . . .  PUBLIC   CODE   ARRAY    08B8H  21
Str_Pelco_E. . . . . . . . . . . . . .  PUBLIC   CODE   ARRAY    055BH  6
Str_Minute_E . . . . . . . . . . . . .  PUBLIC   CODE   ARRAY    0462H  4
Str_WideScreen_K . . . . . . . . . . .  PUBLIC   CODE   ARRAY    035EH  13
DVR_daylightsaving . . . . . . . . . .  EXTERN   PDATA  U_CHAR   -----  1
TimeType . . . . . . . . . . . . . . .  * TAG *  -----  STRUCT   -----  7
  x. . . . . . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0000H  1
  y. . . . . . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0001H  1
  width. . . . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0002H  1
  BackColor. . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0003H  1
  Format . . . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0004H  1
  TimeColor. . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0005H  1
  CursorColor. . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0006H  1
ResetPanelAttributeValue . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 433 

NAME                                    CLASS   MSPACE  TYPE    OFFSET  SIZE
====                                    =====   ======  ====    ======  ====


  i. . . . . . . . . . . . . . . . . .  AUTO     PDATA  U_CHAR   0000H  1
  j. . . . . . . . . . . . . . . . . .  AUTO     PDATA  U_CHAR   0001H  1
CAM_CA . . . . . . . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
CAM_AC . . . . . . . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
StrVolume. . . . . . . . . . . . . . .  PUBLIC   CODE   ARRAY    0A89H  3
Str_PASSWORD_E . . . . . . . . . . . .  PUBLIC   CODE   ARRAY    05A2H  9
DVR_FPS. . . . . . . . . . . . . . . .  EXTERN   PDATA  U_CHAR   -----  1
displayOnValueWindow . . . . . . . . .  PUBLIC   DATA   BIT      0000H  1
title_item . . . . . . . . . . . . . .  STATIC   PDATA  U_CHAR   0013H  1
CAM_PTZ_UP . . . . . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
CAM_BC . . . . . . . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
CAM_CB . . . . . . . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
_SetLRBlank. . . . . . . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
  bl . . . . . . . . . . . . . . . . .  * REG *  DATA   U_CHAR   0007H  1
PanelContrastRange . . . . . . . . . .  PUBLIC   CODE   STRUCT   1671H  6
Str_NO . . . . . . . . . . . . . . . .  PUBLIC   CODE   ARRAY    0D11H  3
DVR_RecordMode . . . . . . . . . . . .  EXTERN   PDATA  U_CHAR   -----  1
_SetVideoBacklight . . . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
  newv . . . . . . . . . . . . . . . .  * REG *  DATA   U_CHAR   0007H  1
  regv . . . . . . . . . . . . . . . .  AUTO     PDATA  INT      0000H  2
  page . . . . . . . . . . . . . . . .  AUTO     PDATA  U_CHAR   0002H  1
SetScale4_3X . . . . . . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
  scale. . . . . . . . . . . . . . . .  AUTO     PDATA  U_LONG   0000H  4
  outv . . . . . . . . . . . . . . . .  AUTO     PDATA  U_LONG   0004H  4
Str_AutoColor. . . . . . . . . . . . .  PUBLIC   CODE   ARRAY    0D62H  15
QualityChoiceString. . . . . . . . . .  PUBLIC   CODE   ARRAY    088DH  43
JUMPString . . . . . . . . . . . . . .  PUBLIC   CODE   ARRAY    0812H  57
Str_Auto_Day_Night_E . . . . . . . . .  PUBLIC   CODE   ARRAY    05D4H  15
Str_FirstNumber_E. . . . . . . . . . .  PUBLIC   CODE   ARRAY    04E3H  13
GetVInputStd . . . . . . . . . . . . .  EXTERN   CODE   PROC     -----  -----
AutoDayNight . . . . . . . . . . . . .  EXTERN   PDATA  U_CHAR   -----  1
SetScale4_3Y . . . . . . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
  outv . . . . . . . . . . . . . . . .  AUTO     PDATA  U_LONG   0000H  4
  scale. . . . . . . . . . . . . . . .  AUTO     PDATA  U_LONG   0004H  4
WIDEDATA_576p. . . . . . . . . . . . .  PUBLIC   CODE   ARRAY    17FDH  40
Str_Day. . . . . . . . . . . . . . . .  PUBLIC   CODE   ARRAY    0CE4H  3
Str_REAR_SETUP . . . . . . . . . . . .  PUBLIC   CODE   ARRAY    0C5DH  15
Str_OSDLang_S. . . . . . . . . . . . .  PUBLIC   CODE   ARRAY    01B6H  7
SourceModeTypeEnum . . . . . . . . . .  * TAG *  -----  ENUM     -----  -----
CheckPanelImage. . . . . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
  newv . . . . . . . . . . . . . . . .  * REG *  DATA   INT      0006H  2
  regv . . . . . . . . . . . . . . . .  AUTO     PDATA  INT      0000H  2
  newval . . . . . . . . . . . . . . .  * REG *  DATA   INT      0006H  2
Str_Hour . . . . . . . . . . . . . . .  PUBLIC   CODE   ARRAY    0CE7H  3
Str_Brightness . . . . . . . . . . . .  PUBLIC   CODE   ARRAY    0B13H  15
MenuSP . . . . . . . . . . . . . . . .  STATIC   DATA   U_CHAR   0004H  1
DVR_Quality. . . . . . . . . . . . . .  EXTERN   PDATA  U_CHAR   -----  1
_utoa. . . . . . . . . . . . . . . . .  EXTERN   CODE   PROC     -----  -----
_SetDisplayedOSD . . . . . . . . . . .  EXTERN   CODE   PROC     -----  -----
PcMode . . . . . . . . . . . . . . . .  EXTERN   PDATA  U_CHAR   -----  1
struct_IdName. . . . . . . . . . . . .  * TAG *  -----  STRUCT   -----  17
  Id . . . . . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0000H  1
  Name . . . . . . . . . . . . . . . .  MEMBER   -----  ARRAY    0001H  16
SetFormatSDDone. . . . . . . . . . . .  E_CONST  -----  INT      -----  2
PCAudioVol . . . . . . . . . . . . . .  EXTERN   PDATA  U_CHAR   -----  1
EnumType . . . . . . . . . . . . . . .  * TAG *  -----  STRUCT   -----  17
  Sz . . . . . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0000H  1
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 434 

NAME                                    CLASS   MSPACE  TYPE    OFFSET  SIZE
====                                    =====   ======  ====    ======  ====


  ByLang . . . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0001H  1
  Str. . . . . . . . . . . . . . . . .  MEMBER   -----  ARRAY    0002H  15
MenuType . . . . . . . . . . . . . . .  * TAG *  -----  STRUCT   -----  4
  width. . . . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0000H  1
  height . . . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0001H  1
  TitleColor . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0002H  1
  CursorColor. . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0003H  1
_WriteI2Cn . . . . . . . . . . . . . .  EXTERN   CODE   PROC     -----  -----
CAM_RAB_T. . . . . . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
DMCAMERA . . . . . . . . . . . . . . .  PUBLIC   CODE   ARRAY    13D9H  112
Str_Clock_S. . . . . . . . . . . . . .  PUBLIC   CODE   ARRAY    031FH  6
val_osdwin . . . . . . . . . . . . . .  STATIC   PDATA  U_CHAR   0014H  1
_ReadI2C . . . . . . . . . . . . . . .  EXTERN   CODE   PROC     -----  -----
WORD . . . . . . . . . . . . . . . . .  TYPEDEF  -----  U_INT    -----  2
Contast_Reg_Addr . . . . . . . . . . .  PUBLIC   CODE   ARRAY    16B9H  6
SDCARD_ICON. . . . . . . . . . . . . .  PUBLIC   CODE   ARRAY    0D9FH  4
Str_ChangePassword . . . . . . . . . .  PUBLIC   CODE   ARRAY    0D20H  3
Str_Hue. . . . . . . . . . . . . . . .  PUBLIC   CODE   ARRAY    0AD7H  15
Str_HPosition. . . . . . . . . . . . .  PUBLIC   CODE   ARRAY    0AAAH  15
CAM_PTZ_LEFT . . . . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
Attr_A . . . . . . . . . . . . . . . .  EXTERN   PDATA  U_CHAR   -----  1
VideoContrastRange . . . . . . . . . .  PUBLIC   CODE   STRUCT   1695H  6
Str_CAMR . . . . . . . . . . . . . . .  PUBLIC   CODE   ARRAY    0C99H  15
WideScreenChoice . . . . . . . . . . .  PUBLIC   CODE   ARRAY    0711H  28
CAMNumber. . . . . . . . . . . . . . .  EXTERN   PDATA  U_CHAR   -----  1
day. . . . . . . . . . . . . . . . . .  EXTERN   PDATA  U_CHAR   -----  1
DisplayFWUpDateFail. . . . . . . . . .  EXTERN   CODE   PROC     -----  -----
Attr_B . . . . . . . . . . . . . . . .  EXTERN   PDATA  U_CHAR   -----  1
UserPictureMenuType. . . . . . . . . .  PUBLIC   CODE   ARRAY    1275H  4
Str_DIR_IMAGE. . . . . . . . . . . . .  PUBLIC   CODE   ARRAY    0C4EH  15
Str_PostAlarmLength_E. . . . . . . . .  PUBLIC   CODE   ARRAY    0414H  11
Str_PreAlarmLength_E . . . . . . . . .  PUBLIC   CODE   ARRAY    040AH  10
hour . . . . . . . . . . . . . . . . .  EXTERN   PDATA  U_CHAR   -----  1
val_index. . . . . . . . . . . . . . .  STATIC   PDATA  U_CHAR   0015H  1
DisplayFWUpDate. . . . . . . . . . . .  EXTERN   CODE   PROC     -----  -----
CAM_Iris_Open. . . . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
Attr_C . . . . . . . . . . . . . . . .  EXTERN   PDATA  U_CHAR   -----  1
_SetItemValue. . . . . . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
  id . . . . . . . . . . . . . . . . .  AUTO     PDATA  U_CHAR   0000H  1
  flag . . . . . . . . . . . . . . . .  AUTO     PDATA  U_CHAR   0001H  1
  val. . . . . . . . . . . . . . . . .  AUTO     PDATA  U_INT    0002H  2
InputSelection . . . . . . . . . . . .  EXTERN   PDATA  U_CHAR   -----  1
_ChangeVideoData . . . . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
  offset . . . . . . . . . . . . . . .  AUTO     PDATA  U_CHAR   0000H  1
  flag . . . . . . . . . . . . . . . .  * REG *  DATA   U_CHAR   0005H  1
  newv . . . . . . . . . . . . . . . .  AUTO     PDATA  INT      0001H  2
  inc. . . . . . . . . . . . . . . . .  * REG *  DATA   INT      0006H  2
Str_GAUGE_RECALL_E . . . . . . . . . .  PUBLIC   CODE   ARRAY    03C5H  13
OutOfRangeStr_E. . . . . . . . . . . .  PUBLIC   CODE   ARRAY    00AEH  13
Init_DTV_Data. . . . . . . . . . . . .  PUBLIC   CODE   ARRAY    171BH  6
_SetPanelBrightness. . . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
  flag . . . . . . . . . . . . . . . .  * REG *  DATA   U_CHAR   0007H  1
  newv . . . . . . . . . . . . . . . .  AUTO     PDATA  INT      0000H  2
  regv . . . . . . . . . . . . . . . .  AUTO     PDATA  INT      0002H  2
PCUserColorTempRange . . . . . . . . .  PUBLIC   CODE   STRUCT   166BH  6
Str_CVBSR_E. . . . . . . . . . . . . .  PUBLIC   CODE   ARRAY    05CDH  7
Str_Phase_S. . . . . . . . . . . . . .  PUBLIC   CODE   ARRAY    0307H  5
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 435 

NAME                                    CLASS   MSPACE  TYPE    OFFSET  SIZE
====                                    =====   ======  ====    ======  ====


NowModeState . . . . . . . . . . . . .  EXTERN   PDATA  U_CHAR   -----  1
_DrawNum . . . . . . . . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
  addr . . . . . . . . . . . . . . . .  AUTO     PDATA  U_INT    0000H  2
  nptr . . . . . . . . . . . . . . . .  AUTO     PDATA  PTR      0002H  3
  val. . . . . . . . . . . . . . . . .  AUTO     PDATA  U_INT    0005H  2
  x. . . . . . . . . . . . . . . . . .  AUTO     PDATA  U_CHAR   0007H  1
  i. . . . . . . . . . . . . . . . . .  AUTO     PDATA  U_CHAR   0008H  1
  j. . . . . . . . . . . . . . . . . .  AUTO     PDATA  U_CHAR   0009H  1
  k. . . . . . . . . . . . . . . . . .  AUTO     PDATA  U_CHAR   000AH  1
  len. . . . . . . . . . . . . . . . .  * REG *  DATA   U_CHAR   0007H  1
  mstr . . . . . . . . . . . . . . . .  AUTO     PDATA  ARRAY    000BH  5
  Num_str. . . . . . . . . . . . . . .  AUTO     PDATA  ARRAY    0010H  12
  str. . . . . . . . . . . . . . . . .  AUTO     PDATA  PTR      001CH  3
_?ix1000 . . . . . . . . . . . . . . .  STATIC   CODE   ARRAY    1918H  24
CAMERAMenu . . . . . . . . . . . . . .  PUBLIC   CODE   ARRAY    13D5H  4
Str_DaylightSaving . . . . . . . . . .  PUBLIC   CODE   ARRAY    0CF0H  3
CAM_ZOOM_OUT_START . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
SaveValue1 . . . . . . . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
GetPCInputSourceName . . . . . . . . .  EXTERN   CODE   PROC     -----  -----
_?ix1001 . . . . . . . . . . . . . . .  STATIC   CODE   ARRAY    1958H  12
_SetPCColor. . . . . . . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
  color. . . . . . . . . . . . . . . .  AUTO     PDATA  U_CHAR   0000H  1
  flag . . . . . . . . . . . . . . . .  * REG *  DATA   U_CHAR   0005H  1
  newval . . . . . . . . . . . . . . .  AUTO     PDATA  INT      0001H  2
  toValue. . . . . . . . . . . . . . .  AUTO     PDATA  INT      0003H  2
  regv . . . . . . . . . . . . . . . .  AUTO     PDATA  INT      0005H  2
cur_osdwin . . . . . . . . . . . . . .  STATIC   PDATA  U_CHAR   0016H  1
_GetVideoDatawithOffset. . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
  offset . . . . . . . . . . . . . . .  * REG *  DATA   U_CHAR   0007H  1
_?ix1002 . . . . . . . . . . . . . . .  STATIC   CODE   ARRAY    1964H  12
Str_FirmwareUpdate . . . . . . . . . .  PUBLIC   CODE   ARRAY    0D0BH  3
ONOFFChoiceString. . . . . . . . . . .  PUBLIC   CODE   ARRAY    076FH  9
Str_FormatSD_E . . . . . . . . . . . .  PUBLIC   CODE   ARRAY    04B0H  15
Str_Reset_D. . . . . . . . . . . . . .  PUBLIC   CODE   ARRAY    02DBH  15
DVR_Ready. . . . . . . . . . . . . . .  EXTERN   DATA   BIT      -----  1
GetHPosition . . . . . . . . . . . . .  EXTERN   CODE   PROC     -----  -----
CAM_AR . . . . . . . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
_?ix1003 . . . . . . . . . . . . . . .  STATIC   CODE   ARRAY    1970H  12
Str_CAM_OUT. . . . . . . . . . . . . .  PUBLIC   CODE   ARRAY    0B6DH  15
Str_PRIORITY_E . . . . . . . . . . . .  PUBLIC   CODE   ARRAY    03D2H  9
Str_Reset_E. . . . . . . . . . . . . .  PUBLIC   CODE   ARRAY    02CEH  6
CAM_BR . . . . . . . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
CAM_RB . . . . . . . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
CAMOUTString . . . . . . . . . . . . .  PUBLIC   CODE   ARRAY    084BH  27
Str_TriggerSet_E . . . . . . . . . . .  PUBLIC   CODE   ARRAY    0533H  12
Str_Reset_F. . . . . . . . . . . . . .  PUBLIC   CODE   ARRAY    02D4H  7
OutOfRangeStr_K. . . . . . . . . . . .  PUBLIC   CODE   ARRAY    00BBH  13
CAM_CR . . . . . . . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
OSDMenuXRange. . . . . . . . . . . . .  PUBLIC   CODE   STRUCT   1665H  6
FWUpdateSELECT . . . . . . . . . . . .  PUBLIC   CODE   ARRAY    0E41H  48
DVR_standardtimebeginesWeek. . . . . .  EXTERN   PDATA  U_CHAR   -----  1
InitOSDMenuXY. . . . . . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
  val. . . . . . . . . . . . . . . . .  AUTO     PDATA  INT      0000H  2
  addx . . . . . . . . . . . . . . . .  AUTO     PDATA  INT      0002H  2
  addy . . . . . . . . . . . . . . . .  AUTO     PDATA  INT      0004H  2
  winno. . . . . . . . . . . . . . . .  AUTO     PDATA  U_CHAR   0006H  1
OSDMenuYRange. . . . . . . . . . . . .  PUBLIC   CODE   STRUCT   165FH  6
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 436 

NAME                                    CLASS   MSPACE  TYPE    OFFSET  SIZE
====                                    =====   ======  ====    ======  ====


Str_Month_E. . . . . . . . . . . . . .  PUBLIC   CODE   ARRAY    0453H  6
Str_Apply_E. . . . . . . . . . . . . .  PUBLIC   CODE   ARRAY    041FH  6
Str_GAUGE_STEP_E . . . . . . . . . . .  PUBLIC   CODE   ARRAY    03B9H  12
CAM_MENU_ENTER . . . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
_SetVideoBrightness. . . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
  newv . . . . . . . . . . . . . . . .  AUTO     PDATA  U_CHAR   0000H  1
  regv . . . . . . . . . . . . . . . .  AUTO     PDATA  INT      0001H  2
TVMainMenu . . . . . . . . . . . . . .  PUBLIC   CODE   ARRAY    1449H  4
UTIL_ICON. . . . . . . . . . . . . . .  PUBLIC   CODE   ARRAY    0D8FH  4
struct_InputSelection. . . . . . . . .  EXTERN   CODE   ARRAY    -----  -----
Register . . . . . . . . . . . . . . .  TYPEDEF  -----  U_CHAR   -----  1
SDCARDMenu . . . . . . . . . . . . . .  PUBLIC   CODE   ARRAY    11F1H  4
Str_TimeZone . . . . . . . . . . . . .  PUBLIC   CODE   ARRAY    0CFFH  3
PostAlarmLengthChoiceString. . . . . .  PUBLIC   CODE   ARRAY    0920H  59
PreAlarmLengthChoiceString . . . . . .  PUBLIC   CODE   ARRAY    08FAH  38
Str_AutoAdjust_E . . . . . . . . . . .  PUBLIC   CODE   ARRAY    033BH  12
DVR_standardtimebeginesTime. . . . . .  EXTERN   PDATA  U_CHAR   -----  1
CAM_PTZ_DOWN . . . . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
OSDSelect. . . . . . . . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
  ret. . . . . . . . . . . . . . . . .  * REG *  DATA   U_CHAR   0007H  1
  addr . . . . . . . . . . . . . . . .  AUTO     PDATA  U_INT    0000H  2
Str_Saturation . . . . . . . . . . . .  PUBLIC   CODE   ARRAY    0B22H  15
Str_VPosition. . . . . . . . . . . . .  PUBLIC   CODE   ARRAY    0A9BH  15
Str_Reset_K. . . . . . . . . . . . . .  PUBLIC   CODE   ARRAY    02FBH  6
_SetVideoHue . . . . . . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
  newv . . . . . . . . . . . . . . . .  AUTO     PDATA  U_CHAR   0000H  1
  regv . . . . . . . . . . . . . . . .  AUTO     PDATA  INT      0001H  2
_WriteStringToAddr . . . . . . . . . .  EXTERN   CODE   PROC     -----  -----
Init_Video_Data. . . . . . . . . . . .  PUBLIC   CODE   ARRAY    1715H  6
SDCardOverWrite_ICON . . . . . . . . .  PUBLIC   CODE   ARRAY    0DAFH  4
Str_Baud_rate_E. . . . . . . . . . . .  PUBLIC   CODE   ARRAY    0561H  10
DVR_PostAlarmLength. . . . . . . . . .  EXTERN   PDATA  U_CHAR   -----  1
DVR_PreAlarmLength . . . . . . . . . .  EXTERN   PDATA  U_CHAR   -----  1
_DrawStringByLang. . . . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
  addr . . . . . . . . . . . . . . . .  AUTO     PDATA  U_INT    0000H  2
  yptr . . . . . . . . . . . . . . . .  AUTO     PDATA  PTR      0002H  3
  val. . . . . . . . . . . . . . . . .  AUTO     PDATA  U_INT    0005H  2
  j. . . . . . . . . . . . . . . . . .  AUTO     PDATA  U_CHAR   0007H  1
  l. . . . . . . . . . . . . . . . . .  * REG *  DATA   U_CHAR   0005H  1
  Size_val . . . . . . . . . . . . . .  AUTO     PDATA  U_CHAR   0008H  1
  Buf. . . . . . . . . . . . . . . . .  AUTO     PDATA  ARRAY    0009H  12
  Str. . . . . . . . . . . . . . . . .  AUTO     PDATA  PTR      0015H  3
_WriteI2C. . . . . . . . . . . . . . .  EXTERN   CODE   PROC     -----  -----
LoadEEPROM . . . . . . . . . . . . . .  EXTERN   CODE   PROC     -----  -----
CAMSelectMenu. . . . . . . . . . . . .  PUBLIC   CODE   ARRAY    12FDH  4
StandardTimeBeginesSELECT. . . . . . .  PUBLIC   CODE   ARRAY    0FF1H  80
PC_ADJ_ICON. . . . . . . . . . . . . .  PUBLIC   CODE   ARRAY    0DA7H  4
Str_Pc . . . . . . . . . . . . . . . .  PUBLIC   CODE   ARRAY    0A8CH  15
Str_Week_E . . . . . . . . . . . . . .  PUBLIC   CODE   ARRAY    048FH  5
Str_Backlight_D. . . . . . . . . . . .  PUBLIC   CODE   ARRAY    0287H  10
DVR_sandardtimebeginesMonth. . . . . .  EXTERN   PDATA  U_CHAR   -----  1
Str_CameraOSD. . . . . . . . . . . . .  PUBLIC   CODE   ARRAY    0D38H  3
Str_Backlight_E. . . . . . . . . . . .  PUBLIC   CODE   ARRAY    0273H  10
CAM_CALL . . . . . . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
Attr_R . . . . . . . . . . . . . . . .  EXTERN   PDATA  U_CHAR   -----  1
TimeBeginesSelectMenu. . . . . . . . .  PUBLIC   CODE   ARRAY    1041H  4
Str_RECALL . . . . . . . . . . . . . .  PUBLIC   CODE   ARRAY    0B8BH  15
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 437 

NAME                                    CLASS   MSPACE  TYPE    OFFSET  SIZE
====                                    =====   ======  ====    ======  ====


Str_Backlight_F. . . . . . . . . . . .  PUBLIC   CODE   ARRAY    027DH  10
_CAM_TxCommand_toRS485 . . . . . . . .  EXTERN   CODE   PROC     -----  -----
_GetPCColorTemp. . . . . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
  color. . . . . . . . . . . . . . . .  * REG *  DATA   U_CHAR   0007H  1
Str_Standard . . . . . . . . . . . . .  PUBLIC   CODE   ARRAY    0CF6H  3
Str_Time_E . . . . . . . . . . . . . .  PUBLIC   CODE   ARRAY    0494H  5
Str_AutoAdjust_K . . . . . . . . . . .  PUBLIC   CODE   ARRAY    0347H  11
_SetHPosition. . . . . . . . . . . . .  EXTERN   CODE   PROC     -----  -----
OSDPOSITIONMODE_TABLE. . . . . . . . .  PUBLIC   CODE   ARRAY    16BFH  10
Str_DateTime_E . . . . . . . . . . . .  PUBLIC   CODE   ARRAY    0445H  9
RS485_RX . . . . . . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
_Set4WideScreen. . . . . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
  id . . . . . . . . . . . . . . . . .  AUTO     PDATA  U_CHAR   0000H  1
  i. . . . . . . . . . . . . . . . . .  AUTO     PDATA  INT      0001H  2
  WideData . . . . . . . . . . . . . .  AUTO     PDATA  PTR      0003H  3
Str_TriggerVGA . . . . . . . . . . . .  PUBLIC   CODE   ARRAY    0D29H  3
Str_SOURCE_TITLE . . . . . . . . . . .  PUBLIC   CODE   ARRAY    0BF4H  15
Str_CAMA_E . . . . . . . . . . . . . .  PUBLIC   CODE   ARRAY    05F8H  6
Str_Year_E . . . . . . . . . . . . . .  PUBLIC   CODE   ARRAY    044EH  5
GetVPosition . . . . . . . . . . . . .  EXTERN   CODE   PROC     -----  -----
Str_CAMB_E . . . . . . . . . . . . . .  PUBLIC   CODE   ARRAY    05FEH  6
Str_Reset_S. . . . . . . . . . . . . .  PUBLIC   CODE   ARRAY    02EAH  17
Baud_rate2400. . . . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
RS485_TX . . . . . . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
VGAAudio . . . . . . . . . . . . . . .  EXTERN   DATA   BIT      -----  1
DateTimeSELECT . . . . . . . . . . . .  PUBLIC   CODE   ARRAY    1171H  128
Str_CAMC_E . . . . . . . . . . . . . .  PUBLIC   CODE   ARRAY    0604H  6
Str_Backlight_K. . . . . . . . . . . .  PUBLIC   CODE   ARRAY    029BH  10
PW_SecondNumber. . . . . . . . . . . .  PUBLIC   PDATA  U_CHAR   0017H  1
TriggerFlag. . . . . . . . . . . . . .  EXTERN   PDATA  U_CHAR   -----  1
_DrawAttrCnt . . . . . . . . . . . . .  EXTERN   CODE   PROC     -----  -----
ReadVInputSTD. . . . . . . . . . . . .  EXTERN   CODE   PROC     -----  -----
Str_Resolution . . . . . . . . . . . .  PUBLIC   CODE   ARRAY    0CBAH  3
Str_EXIT . . . . . . . . . . . . . . .  PUBLIC   CODE   ARRAY    0B9AH  15
ModeChoice . . . . . . . . . . . . . .  PUBLIC   CODE   ARRAY    065EH  132
FW_Update_Start. . . . . . . . . . . .  E_CONST  -----  INT      -----  2
NumType. . . . . . . . . . . . . . . .  * TAG *  -----  STRUCT   -----  5
  PrePostCharLen . . . . . . . . . . .  MEMBER   -----  U_CHAR   0000H  1
  PrePostChar. . . . . . . . . . . . .  MEMBER   -----  ARRAY    0001H  4
_SetLanguage . . . . . . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
  flag . . . . . . . . . . . . . . . .  * REG *  DATA   U_CHAR   0007H  1
  inc. . . . . . . . . . . . . . . . .  * REG *  DATA   CHAR     0007H  1
OSDMenuX . . . . . . . . . . . . . . .  STATIC   PDATA  U_CHAR   0018H  1
_GetLowerMenuItem. . . . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
  DMp. . . . . . . . . . . . . . . . .  AUTO     PDATA  PTR      0000H  3
  itemno . . . . . . . . . . . . . . .  AUTO     PDATA  U_CHAR   0003H  1
Str_JUMP . . . . . . . . . . . . . . .  PUBLIC   CODE   ARRAY    0B4FH  15
Str_Sharpness. . . . . . . . . . . . .  PUBLIC   CODE   ARRAY    0AF5H  15
OSDMenuY . . . . . . . . . . . . . . .  STATIC   PDATA  U_CHAR   0019H  1
_Wait_ms . . . . . . . . . . . . . . .  EXTERN   CODE   PROC     -----  -----
Str_DIR_IMAGE_CAMA_E . . . . . . . . .  PUBLIC   CODE   ARRAY    0610H  12
Str_DISPLAY_E. . . . . . . . . . . . .  PUBLIC   CODE   ARRAY    0576H  8
Str_SEQ_TIME_STEP_E. . . . . . . . . .  PUBLIC   CODE   ARRAY    0377H  14
CAM_PTZ_STOP . . . . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
_ReadEEP . . . . . . . . . . . . . . .  EXTERN   CODE   PROC     -----  -----
RegisterInfo . . . . . . . . . . . . .  * TAG *  -----  STRUCT   -----  6
  Min. . . . . . . . . . . . . . . . .  MEMBER   -----  INT      0000H  2
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 438 

NAME                                    CLASS   MSPACE  TYPE    OFFSET  SIZE
====                                    =====   ======  ====    ======  ====


  Max. . . . . . . . . . . . . . . . .  MEMBER   -----  INT      0002H  2
  Default. . . . . . . . . . . . . . .  MEMBER   -----  INT      0004H  2
DisplayOSDMenu . . . . . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
pushMenu . . . . . . . . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
WIDEDATA_1080i . . . . . . . . . . . .  PUBLIC   CODE   ARRAY    184DH  40
Str_CAMNumber. . . . . . . . . . . . .  PUBLIC   CODE   ARRAY    0D2FH  3
OsdPositionModeChoice. . . . . . . . .  PUBLIC   CODE   ARRAY    072DH  32
Str_DIR_IMAGE_CAMB_E . . . . . . . . .  PUBLIC   CODE   ARRAY    061CH  12
Baud_rate4800. . . . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
_SetVideoSaturation. . . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
  svtype . . . . . . . . . . . . . . .  AUTO     PDATA  U_CHAR   0000H  1
  newv . . . . . . . . . . . . . . . .  AUTO     PDATA  U_CHAR   0001H  1
  regv . . . . . . . . . . . . . . . .  AUTO     PDATA  INT      0002H  2
_GetUpperMenuItem. . . . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
  itemno . . . . . . . . . . . . . . .  * REG *  DATA   U_CHAR   0007H  1
Str_DIR_IMAGE_CAMC_E . . . . . . . . .  PUBLIC   CODE   ARRAY    0628H  12
DisplayFWUpDateOK. . . . . . . . . . .  EXTERN   CODE   PROC     -----  -----
_GetVideoDatafromEE. . . . . . . . . .  EXTERN   CODE   PROC     -----  -----
DMPCMenuList . . . . . . . . . . . . .  PUBLIC   CODE   ARRAY    15D9H  96
StrVolume_E. . . . . . . . . . . . . .  PUBLIC   CODE   ARRAY    00C8H  9
_PCMDATA . . . . . . . . . . . . . . .  * TAG *  -----  STRUCT   -----  22
  Support. . . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0000H  1
  HAN. . . . . . . . . . . . . . . . .  MEMBER   -----  U_INT    0001H  2
  VAN. . . . . . . . . . . . . . . . .  MEMBER   -----  U_INT    0003H  2
  IVF. . . . . . . . . . . . . . . . .  MEMBER   -----  U_INT    0005H  2
  CLOCK. . . . . . . . . . . . . . . .  MEMBER   -----  U_INT    0007H  2
  low. . . . . . . . . . . . . . . . .  MEMBER   -----  U_INT    0009H  2
  high . . . . . . . . . . . . . . . .  MEMBER   -----  U_INT    000BH  2
  Hstart . . . . . . . . . . . . . . .  MEMBER   -----  U_INT    000DH  2
  Vstart . . . . . . . . . . . . . . .  MEMBER   -----  U_INT    000FH  2
  IPF. . . . . . . . . . . . . . . . .  MEMBER   -----  U_INT    0011H  2
  PPF. . . . . . . . . . . . . . . . .  MEMBER   -----  U_INT    0013H  2
  VBack. . . . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0015H  1
DisplayCursor. . . . . . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
  cursor_y . . . . . . . . . . . . . .  AUTO     PDATA  U_CHAR   0000H  1
  i. . . . . . . . . . . . . . . . . .  AUTO     PDATA  U_CHAR   0001H  1
  addr . . . . . . . . . . . . . . . .  AUTO     PDATA  U_INT    0002H  2
NoSDCard_ICON. . . . . . . . . . . . .  PUBLIC   CODE   ARRAY    0DABH  4
Str_OSDPosition. . . . . . . . . . . .  PUBLIC   CODE   ARRAY    0AB9H  15
Str_NO_E . . . . . . . . . . . . . . .  PUBLIC   CODE   ARRAY    04E0H  3
Str_Backlight_S. . . . . . . . . . . .  PUBLIC   CODE   ARRAY    0291H  10
Baud_rate9600. . . . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
_SetPCColorTemp. . . . . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
  flag . . . . . . . . . . . . . . . .  * REG *  DATA   U_CHAR   0007H  1
  val. . . . . . . . . . . . . . . . .  * REG *  DATA   U_CHAR   0007H  1
  regv . . . . . . . . . . . . . . . .  AUTO     PDATA  INT      0000H  2
  inc. . . . . . . . . . . . . . . . .  * REG *  DATA   CHAR     0007H  1
_ChangeInput . . . . . . . . . . . . .  EXTERN   CODE   PROC     -----  -----
Str_AutoColor_E. . . . . . . . . . . .  PUBLIC   CODE   ARRAY    0325H  11
_SetRGBContrast. . . . . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
  temp . . . . . . . . . . . . . . . .  * REG *  DATA   U_CHAR   0007H  1
  val. . . . . . . . . . . . . . . . .  AUTO     PDATA  U_CHAR   0000H  1
  index. . . . . . . . . . . . . . . .  AUTO     PDATA  U_INT    0001H  2
  i. . . . . . . . . . . . . . . . . .  AUTO     PDATA  U_CHAR   0003H  1
  newval . . . . . . . . . . . . . . .  AUTO     PDATA  INT      0004H  2
  toValue. . . . . . . . . . . . . . .  AUTO     PDATA  INT      0006H  2
WaitEndofDisplayArea . . . . . . . . .  EXTERN   CODE   PROC     -----  -----
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 439 

NAME                                    CLASS   MSPACE  TYPE    OFFSET  SIZE
====                                    =====   ======  ====    ======  ====


_GetOSDWindowX . . . . . . . . . . . .  EXTERN   CODE   PROC     -----  -----
CAM_QUAD . . . . . . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
RecordSelectMenu . . . . . . . . . . .  PUBLIC   CODE   ARRAY    10E9H  4
PDChoiceString . . . . . . . . . . . .  PUBLIC   CODE   ARRAY    09DBH  8
Str_REAR_SETUP_E . . . . . . . . . . .  PUBLIC   CODE   ARRAY    05EDH  11
Str_Day_E. . . . . . . . . . . . . . .  PUBLIC   CODE   ARRAY    0459H  4
Str_Brightness_D . . . . . . . . . . .  PUBLIC   CODE   ARRAY    0259H  11
FW_Update_OK . . . . . . . . . . . . .  E_CONST  -----  INT      -----  2
_GetOSDWindowY . . . . . . . . . . . .  EXTERN   CODE   PROC     -----  -----
_SetVPosition. . . . . . . . . . . . .  EXTERN   CODE   PROC     -----  -----
DigitalVideoSaturationRange. . . . . .  PUBLIC   CODE   STRUCT   16B3H  6
FORMATSDSelectMenu . . . . . . . . . .  PUBLIC   CODE   ARRAY    0EE5H  4
DefaultBar . . . . . . . . . . . . . .  PUBLIC   CODE   ARRAY    0DB4H  1
IMAGEString. . . . . . . . . . . . . .  PUBLIC   CODE   ARRAY    0782H  29
Str_Hour_E . . . . . . . . . . . . . .  PUBLIC   CODE   ARRAY    045DH  5
Str_Brightness_E . . . . . . . . . . .  PUBLIC   CODE   ARRAY    0243H  11
ClearOSDInfo . . . . . . . . . . . . .  EXTERN   CODE   PROC     -----  -----
DefaultMenu. . . . . . . . . . . . . .  PUBLIC   CODE   ARRAY    14ADH  32
IMAGE_A_String . . . . . . . . . . . .  PUBLIC   CODE   ARRAY    079FH  31
Str_Brightness_F . . . . . . . . . . .  PUBLIC   CODE   ARRAY    024EH  11
PelcoChoiceFLAG. . . . . . . . . . . .  EXTERN   PDATA  U_CHAR   -----  1
CAM_ZOOM_IN_START. . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
_OSDValueUpDn. . . . . . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
  flag . . . . . . . . . . . . . . . .  AUTO     PDATA  U_CHAR   0000H  1
  ptr. . . . . . . . . . . . . . . . .  AUTO     PDATA  PTR      0001H  3
  val. . . . . . . . . . . . . . . . .  AUTO     PDATA  U_INT    0004H  2
  addr . . . . . . . . . . . . . . . .  AUTO     PDATA  U_INT    0006H  2
Str_RS485. . . . . . . . . . . . . . .  PUBLIC   CODE   ARRAY    0D2CH  3
IMAGE_B_String . . . . . . . . . . . .  PUBLIC   CODE   ARRAY    07BEH  31
Str_Hue_D. . . . . . . . . . . . . . .  PUBLIC   CODE   ARRAY    01D2H  6
Str_HPosition_D. . . . . . . . . . . .  PUBLIC   CODE   ARRAY    0153H  11
GetInputSelection. . . . . . . . . . .  EXTERN   CODE   PROC     -----  -----
Str_Str_OverWrite. . . . . . . . . . .  PUBLIC   CODE   ARRAY    0D23H  3
Str_TIMEOUT_STEP . . . . . . . . . . .  PUBLIC   CODE   ARRAY    0CAEH  3
IMAGE_C_String . . . . . . . . . . . .  PUBLIC   CODE   ARRAY    07DDH  31
Str_ChangePassword_E . . . . . . . . .  PUBLIC   CODE   ARRAY    0519H  16
Str_Hue_E. . . . . . . . . . . . . . .  PUBLIC   CODE   ARRAY    01C5H  4
Str_HPosition_E. . . . . . . . . . . .  PUBLIC   CODE   ARRAY    013CH  11
OnChangingValue. . . . . . . . . . . .  PUBLIC   DATA   BIT      0001H  1
Str_RecordLength . . . . . . . . . . .  PUBLIC   CODE   ARRAY    0CC6H  3
Str_CAMR_E . . . . . . . . . . . . . .  PUBLIC   CODE   ARRAY    060AH  6
Str_AutoColor_K. . . . . . . . . . . .  PUBLIC   CODE   ARRAY    0330H  11
Str_Hue_F. . . . . . . . . . . . . . .  PUBLIC   CODE   ARRAY    01C9H  9
Str_HPosition_F. . . . . . . . . . . .  PUBLIC   CODE   ARRAY    0147H  12
MANUALRECSTOP. . . . . . . . . . . . .  E_CONST  -----  INT      -----  2
SCANSDCARD_ICON. . . . . . . . . . . .  PUBLIC   CODE   ARRAY    0DA3H  4
Str_DIR_IMAGE_E. . . . . . . . . . . .  PUBLIC   CODE   ARRAY    05E3H  10
year2. . . . . . . . . . . . . . . . .  EXTERN   PDATA  U_CHAR   -----  1
SetDVRDefault. . . . . . . . . . . . .  E_CONST  -----  INT      -----  2
SEQIndex . . . . . . . . . . . . . . .  EXTERN   PDATA  U_CHAR   -----  1
ChangePasswordSELECT . . . . . . . . .  PUBLIC   CODE   ARRAY    0E75H  112
VInputStdChoice. . . . . . . . . . . .  PUBLIC   CODE   ARRAY    06E2H  47
Str_Brightness_K . . . . . . . . . . .  PUBLIC   CODE   ARRAY    026BH  8
SEQFlag. . . . . . . . . . . . . . . .  EXTERN   PDATA  U_CHAR   -----  1
DefineMenu . . . . . . . . . . . . . .  * TAG *  -----  STRUCT   -----  16
  Icon . . . . . . . . . . . . . . . .  MEMBER   -----  PTR      0000H  2
  Desc . . . . . . . . . . . . . . . .  MEMBER   -----  PTR      0002H  3
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 440 

NAME                                    CLASS   MSPACE  TYPE    OFFSET  SIZE
====                                    =====   ======  ====    ======  ====


  PreFnId. . . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0005H  1
  PostFnId . . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0006H  1
  IconColor. . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0007H  1
  DescColor. . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0008H  1
  Child. . . . . . . . . . . . . . . .  MEMBER   -----  PTR      0009H  2
  Type . . . . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   000BH  1
  ActiveWithCursor . . . . . . . . . .  MEMBER   -----  U_CHAR   000CH  1
  Id . . . . . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   000DH  1
  TypeData . . . . . . . . . . . . . .  MEMBER   -----  PTR      000EH  2
_SetVideoSharpness . . . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
  flag . . . . . . . . . . . . . . . .  AUTO     PDATA  U_CHAR   0000H  1
  orgv . . . . . . . . . . . . . . . .  * REG *  DATA   U_CHAR   0007H  1
  inc. . . . . . . . . . . . . . . . .  * REG *  DATA   CHAR     0007H  1
  newv . . . . . . . . . . . . . . . .  AUTO     PDATA  INT      0001H  2
  regv . . . . . . . . . . . . . . . .  AUTO     PDATA  INT      0003H  2
VGAMode. . . . . . . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
OSDLangString. . . . . . . . . . . . .  PUBLIC   CODE   ARRAY    0634H  42
_SaveOSDPositionModeEE . . . . . . . .  EXTERN   CODE   PROC     -----  -----
_DrawMenulist. . . . . . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
  NOTViewflag. . . . . . . . . . . . .  AUTO     PDATA  U_CHAR   0000H  1
  i. . . . . . . . . . . . . . . . . .  AUTO     PDATA  U_CHAR   0001H  1
  j. . . . . . . . . . . . . . . . . .  AUTO     PDATA  U_CHAR   0002H  1
  k. . . . . . . . . . . . . . . . . .  AUTO     PDATA  U_CHAR   0003H  1
  x. . . . . . . . . . . . . . . . . .  AUTO     PDATA  U_CHAR   0004H  1
  y. . . . . . . . . . . . . . . . . .  AUTO     PDATA  U_CHAR   0005H  1
  DMp. . . . . . . . . . . . . . . . .  * REG *  DATA   PTR      0001H  3
  Desc . . . . . . . . . . . . . . . .  AUTO     PDATA  PTR      0006H  3
  Max_y. . . . . . . . . . . . . . . .  AUTO     PDATA  U_CHAR   0009H  1
  addr . . . . . . . . . . . . . . . .  AUTO     PDATA  U_INT    000AH  2
_SetOSDWindowX_TW88. . . . . . . . . .  EXTERN   CODE   PROC     -----  -----
Priority . . . . . . . . . . . . . . .  EXTERN   PDATA  U_CHAR   -----  1
popMenu. . . . . . . . . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
Str_SecondNumber . . . . . . . . . . .  PUBLIC   CODE   ARRAY    0D17H  3
Str_DaylightSaving_E . . . . . . . . .  PUBLIC   CODE   ARRAY    046AH  15
CMD_UNKNOWN. . . . . . . . . . . . . .  E_CONST  -----  INT      -----  2
_SetOSDWindowY_TW88. . . . . . . . . .  EXTERN   CODE   PROC     -----  -----
Str_DISTANCE . . . . . . . . . . . . .  PUBLIC   CODE   ARRAY    0BC7H  15
Str_Hue_K. . . . . . . . . . . . . . .  PUBLIC   CODE   ARRAY    01E2H  9
Str_HPosition_K. . . . . . . . . . . .  PUBLIC   CODE   ARRAY    016AH  14
DVR_SDCardAvailable. . . . . . . . . .  EXTERN   PDATA  U_CHAR   -----  1
_WriteEEP. . . . . . . . . . . . . . .  EXTERN   CODE   PROC     -----  -----
SEQ. . . . . . . . . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
Str_FirmwareUpdate_E . . . . . . . . .  PUBLIC   CODE   ARRAY    04CCH  16
GetVInputStdInx. . . . . . . . . . . .  EXTERN   CODE   PROC     -----  -----
DaylightSavingSELECT . . . . . . . . .  PUBLIC   CODE   ARRAY    1099H  80
Str_CAM_OUT_E. . . . . . . . . . . . .  PUBLIC   CODE   ARRAY    0385H  8
OSDLang. . . . . . . . . . . . . . . .  STATIC   PDATA  U_CHAR   001AH  1
DisplayFormatOkOSD . . . . . . . . . .  EXTERN   CODE   PROC     -----  -----
SetNowMode . . . . . . . . . . . . . .  EXTERN   CODE   PROC     -----  -----
ClearCursor. . . . . . . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
  cursor_y . . . . . . . . . . . . . .  * REG *  DATA   U_CHAR   0007H  1
  addr . . . . . . . . . . . . . . . .  AUTO     PDATA  U_INT    0000H  2
GetOSDPositionMode . . . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
  val. . . . . . . . . . . . . . . . .  * REG *  DATA   U_CHAR   0007H  1
DMTRIGGERSELECT. . . . . . . . . . . .  PUBLIC   CODE   ARRAY    1365H  112
LongRegisterInfo . . . . . . . . . . .  * TAG *  -----  STRUCT   -----  6
  Min. . . . . . . . . . . . . . . . .  MEMBER   -----  U_INT    0000H  2
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 441 

NAME                                    CLASS   MSPACE  TYPE    OFFSET  SIZE
====                                    =====   ======  ====    ======  ====


  Max. . . . . . . . . . . . . . . . .  MEMBER   -----  U_INT    0002H  2
  Default. . . . . . . . . . . . . . .  MEMBER   -----  U_INT    0004H  2
VideoModeTable . . . . . . . . . . . .  PUBLIC   CODE   ARRAY    16D5H  64
Str_OverWrite_E. . . . . . . . . . . .  PUBLIC   CODE   ARRAY    0529H  10
HS_DvrCommand. . . . . . . . . . . . .  * TAG *  -----  ENUM     -----  -----
Str_TimeBegines. . . . . . . . . . . .  PUBLIC   CODE   ARRAY    0CF3H  3
Str_Contrast . . . . . . . . . . . . .  PUBLIC   CODE   ARRAY    0B04H  15
Str_Brightness_S . . . . . . . . . . .  PUBLIC   CODE   ARRAY    0264H  7
SendDVRParam . . . . . . . . . . . . .  E_CONST  -----  INT      -----  2
ResetOSDValue. . . . . . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
DisplayInput . . . . . . . . . . . . .  EXTERN   CODE   PROC     -----  -----
PictureInfo. . . . . . . . . . . . . .  * TAG *  -----  STRUCT   -----  4
  Register_Addr. . . . . . . . . . . .  MEMBER   -----  U_CHAR   0000H  1
  EEPROM_Addr. . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0001H  1
  Control_Range. . . . . . . . . . . .  MEMBER   -----  PTR      0002H  2
CAM_ABR_T3 . . . . . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
_GetNextCursorMenuItem . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
  DMp. . . . . . . . . . . . . . . . .  AUTO     DATA   PTR      0001H  3
  itemno . . . . . . . . . . . . . . .  AUTO     DATA   U_CHAR   0005H  1
  flag . . . . . . . . . . . . . . . .  AUTO     PDATA  U_CHAR   0004H  1
  new_cursor . . . . . . . . . . . . .  * REG *  DATA   U_CHAR   0006H  1
Str_Snapshot . . . . . . . . . . . . .  PUBLIC   CODE   ARRAY    0CD8H  3
Str_TimeZone_E . . . . . . . . . . . .  PUBLIC   CODE   ARRAY    0499H  10
Str_Saturation_D . . . . . . . . . . .  PUBLIC   CODE   ARRAY    02B0H  10
Str_VPosition_D. . . . . . . . . . . .  PUBLIC   CODE   ARRAY    0117H  11
CAM_ABR_T4 . . . . . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
Str_Saturation_E . . . . . . . . . . .  PUBLIC   CODE   ARRAY    02A5H  11
Str_Hue_S. . . . . . . . . . . . . . .  PUBLIC   CODE   ARRAY    01D8H  10
Str_HPosition_S. . . . . . . . . . . .  PUBLIC   CODE   ARRAY    015EH  12
Str_VPosition_E. . . . . . . . . . . .  PUBLIC   CODE   ARRAY    0100H  11
PW_FourthNumber. . . . . . . . . . . .  PUBLIC   PDATA  U_CHAR   001BH  1
CMD_NULL . . . . . . . . . . . . . . .  E_CONST  -----  INT      -----  2
SEQMode. . . . . . . . . . . . . . . .  EXTERN   CODE   PROC     -----  -----
DMPicture. . . . . . . . . . . . . . .  PUBLIC   CODE   ARRAY    128DH  112
Str_ManualRecordStart. . . . . . . . .  PUBLIC   CODE   ARRAY    0CD2H  3
Str_VPosition_F. . . . . . . . . . . .  PUBLIC   CODE   ARRAY    010BH  12
GetDATETIME. . . . . . . . . . . . . .  E_CONST  -----  INT      -----  2
CAM_A. . . . . . . . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
PanelBacklightRange. . . . . . . . . .  PUBLIC   CODE   STRUCT   168FH  6
Str_AudioRecord. . . . . . . . . . . .  PUBLIC   CODE   ARRAY    0D08H  3
DaylightSavingChoiceString . . . . . .  PUBLIC   CODE   ARRAY    095BH  18
Str_Pc_E . . . . . . . . . . . . . . .  PUBLIC   CODE   ARRAY    00F5H  3
DVR_timebeginesTime. . . . . . . . . .  EXTERN   PDATA  U_CHAR   -----  1
PW_ThridNumber . . . . . . . . . . . .  PUBLIC   PDATA  U_CHAR   001CH  1
SNAPSHOT . . . . . . . . . . . . . . .  E_CONST  -----  INT      -----  2
CAM_B. . . . . . . . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
_GetTargetChild. . . . . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
  tid. . . . . . . . . . . . . . . . .  * REG *  DATA   U_CHAR   0004H  1
  i. . . . . . . . . . . . . . . . . .  * REG *  DATA   U_CHAR   0006H  1
WIDEDATA_N . . . . . . . . . . . . . .  PUBLIC   CODE   ARRAY    1735H  40
Str_CameraOSD_E. . . . . . . . . . . .  PUBLIC   CODE   ARRAY    056BH  11
DvrReceivePaser. . . . . . . . . . . .  EXTERN   CODE   PROC     -----  -----
CAM_C. . . . . . . . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
_SetPanelContrast. . . . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
  flag . . . . . . . . . . . . . . . .  * REG *  DATA   U_CHAR   0007H  1
  newval . . . . . . . . . . . . . . .  AUTO     PDATA  INT      0000H  2
  regv . . . . . . . . . . . . . . . .  AUTO     PDATA  INT      0002H  2
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 442 

NAME                                    CLASS   MSPACE  TYPE    OFFSET  SIZE
====                                    =====   ======  ====    ======  ====


Str_RECALL_E . . . . . . . . . . . . .  PUBLIC   CODE   ARRAY    0394H  7
FormatStatus . . . . . . . . . . . . .  EXTERN   PDATA  U_CHAR   -----  1
_XScale2 . . . . . . . . . . . . . . .  EXTERN   CODE   PROC     -----  -----
CAM_D. . . . . . . . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
WIDEDATA_P . . . . . . . . . . . . . .  PUBLIC   CODE   ARRAY    175DH  40
ONOFFChoiceString1 . . . . . . . . . .  PUBLIC   CODE   ARRAY    0778H  10
Str_Standard_E . . . . . . . . . . . .  PUBLIC   CODE   ARRAY    0486H  9
_Printf. . . . . . . . . . . . . . . .  EXTERN   CODE   PROC     -----  -----
_CAMOutDSel. . . . . . . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
  val. . . . . . . . . . . . . . . . .  AUTO     PDATA  U_CHAR   0000H  1
_YScale2 . . . . . . . . . . . . . . .  EXTERN   CODE   PROC     -----  -----
WideScreenMode . . . . . . . . . . . .  EXTERN   PDATA  U_CHAR   -----  1
Str_Saturation_K . . . . . . . . . . .  PUBLIC   CODE   ARRAY    02C5H  9
Str_VPosition_K. . . . . . . . . . . .  PUBLIC   CODE   ARRAY    012EH  14
GetOSDPositionModeEE . . . . . . . . .  EXTERN   CODE   PROC     -----  -----
_ClearDisplayedOSD . . . . . . . . . .  EXTERN   CODE   PROC     -----  -----
_SetOSDPositionMode. . . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
  flag . . . . . . . . . . . . . . . .  AUTO     PDATA  U_CHAR   0000H  1
  val. . . . . . . . . . . . . . . . .  * REG *  DATA   INT      0004H  2
  addx . . . . . . . . . . . . . . . .  AUTO     PDATA  INT      0001H  2
  addy . . . . . . . . . . . . . . . .  AUTO     PDATA  INT      0003H  2
  i. . . . . . . . . . . . . . . . . .  AUTO     PDATA  U_CHAR   0005H  1
  inc. . . . . . . . . . . . . . . . .  * REG *  DATA   U_CHAR   0007H  1
  winno. . . . . . . . . . . . . . . .  AUTO     PDATA  U_CHAR   0006H  1
  OSDStart . . . . . . . . . . . . . .  AUTO     PDATA  ARRAY    0007H  15
  tmp. . . . . . . . . . . . . . . . .  * REG *  DATA   U_INT    0002H  2
PictureMenu. . . . . . . . . . . . . .  PUBLIC   CODE   ARRAY    1289H  4
DMINPUTSOURCE. . . . . . . . . . . . .  PUBLIC   CODE   ARRAY    0DBDH  128
Str_MIRROR . . . . . . . . . . . . . .  PUBLIC   CODE   ARRAY    0B40H  15
Str_SOURCE_TITLE_E . . . . . . . . . .  PUBLIC   CODE   ARRAY    05ABH  13
Str_TriggerVGA_E . . . . . . . . . . .  PUBLIC   CODE   ARRAY    053FH  12
_SaveVideoDatatoEE . . . . . . . . . .  EXTERN   CODE   PROC     -----  -----
CloseOSDMenu . . . . . . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
  i. . . . . . . . . . . . . . . . . .  AUTO     PDATA  U_CHAR   0000H  1
CAM_CAB. . . . . . . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
CAM_BAC. . . . . . . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
CAM_ABC. . . . . . . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
Str_Composite_E. . . . . . . . . . . .  PUBLIC   CODE   ARRAY    00EBH  10
OSDItemValue . . . . . . . . . . . . .  STATIC   PDATA  U_INT    001DH  2
DVR_OverWrite. . . . . . . . . . . . .  EXTERN   PDATA  U_CHAR   -----  1
OSDMenuLevel . . . . . . . . . . . . .  STATIC   PDATA  U_CHAR   001FH  1
GetDVRVersion. . . . . . . . . . . . .  E_CONST  -----  INT      -----  2
_InitOSDWindow . . . . . . . . . . . .  EXTERN   CODE   PROC     -----  -----
TimeZoneChoiceString . . . . . . . . .  PUBLIC   CODE   ARRAY    0994H  71
Str_Resolution_E . . . . . . . . . . .  PUBLIC   CODE   ARRAY    03DBH  11
Str_EXIT_E . . . . . . . . . . . . . .  PUBLIC   CODE   ARRAY    039BH  5
SEQTime. . . . . . . . . . . . . . . .  EXTERN   PDATA  U_CHAR   -----  1
PCMDATA. . . . . . . . . . . . . . . .  EXTERN   CODE   ARRAY    -----  -----
Str_Sharpness_D. . . . . . . . . . . .  PUBLIC   CODE   ARRAY    01FCH  8
VInputStdDetectMode. . . . . . . . . .  EXTERN   PDATA  U_CHAR   -----  1
Halt_Start . . . . . . . . . . . . . .  E_CONST  -----  INT      -----  2
SendAlarm. . . . . . . . . . . . . . .  E_CONST  -----  INT      -----  2
_ChangeVol . . . . . . . . . . . . . .  EXTERN   CODE   PROC     -----  -----
_SetVideoContrast. . . . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
  newv . . . . . . . . . . . . . . . .  * REG *  DATA   U_CHAR   0007H  1
  regv . . . . . . . . . . . . . . . .  AUTO     PDATA  INT      0000H  2
Str_RETURN . . . . . . . . . . . . . .  PUBLIC   CODE   ARRAY    0B7CH  15
C51 COMPILER V8.16   OSDMENU                                                               03/04/2011 15:51:17 PAGE 443 

NAME                                    CLASS   MSPACE  TYPE    OFFSET  SIZE
====                                    =====   ======  ====    ======  ====


JUMPChineseString. . . . . . . . . . .  PUBLIC   CODE   ARRAY    0A2AH  62
Str_JUMP_E . . . . . . . . . . . . . .  PUBLIC   CODE   ARRAY    0372H  5
Str_Sharpness_E. . . . . . . . . . . .  PUBLIC   CODE   ARRAY    01EBH  10
DVR_TimeZone . . . . . . . . . . . . .  EXTERN   PDATA  U_CHAR   -----  1
GetLCDMode . . . . . . . . . . . . . .  E_CONST  -----  INT      -----  2


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =  13501    ----
   CONSTANT SIZE    =   6524    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =     32     300
   DATA SIZE        =      5    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =      2    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
